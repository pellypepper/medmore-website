{"ast":null,"code":"import React,{useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";const ImgurCallback=()=>{const navigate=useNavigate();useEffect(()=>{const hash=window.location.hash;const token=new URLSearchParams(hash.substring(1)).get('access_token');// Extract access token\nif(token){// Send the access token to your backend\naxios.post(`${process.env.REACT_APP_API_URL}/token`,{accessToken:token}).then(response=>{console.log('Access token sent to backend:',response.data);navigate('/admin');// Redirect back to admin dashboard\n}).catch(error=>{console.error('Error sending access token to backend:',error);navigate('/admin');// Redirect back to admin in case of error\n});}else{// Handle error or absence of token\nconsole.error('No access token found');navigate('/admin');// Redirect back to admin in case of error\n}},[navigate]);return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});};export default ImgurCallback;","map":{"version":3,"names":["React","useEffect","useNavigate","axios","jsx","_jsx","ImgurCallback","navigate","hash","window","location","token","URLSearchParams","substring","get","post","process","env","REACT_APP_API_URL","accessToken","then","response","console","log","data","catch","error","children"],"sources":["/Users/touchbar/Documents/GitHub/medmore-website/src/pages/imgCallback.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst ImgurCallback = () => {\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const hash = window.location.hash;\n        const token = new URLSearchParams(hash.substring(1)).get('access_token'); // Extract access token\n        \n        if (token) {\n            // Send the access token to your backend\n            axios.post(`${process.env.REACT_APP_API_URL}/token`, { accessToken: token })\n                .then(response => {\n                    console.log('Access token sent to backend:', response.data);\n                    navigate('/admin'); // Redirect back to admin dashboard\n                })\n                .catch(error => {\n                    console.error('Error sending access token to backend:', error);\n                    navigate('/admin'); // Redirect back to admin in case of error\n                });\n        } else {\n            // Handle error or absence of token\n            console.error('No access token found');\n            navigate('/admin'); // Redirect back to admin in case of error\n        }\n    }, [navigate]);\n\n    return <div>Loading...</div>;\n};\n\nexport default ImgurCallback;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,QAAQ,CAAGL,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAO,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI,CACjC,KAAM,CAAAG,KAAK,CAAG,GAAI,CAAAC,eAAe,CAACJ,IAAI,CAACK,SAAS,CAAC,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,cAAc,CAAC,CAAE;AAE1E,GAAIH,KAAK,CAAE,CACP;AACAR,KAAK,CAACY,IAAI,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,QAAQ,CAAE,CAAEC,WAAW,CAAER,KAAM,CAAC,CAAC,CACvES,IAAI,CAACC,QAAQ,EAAI,CACdC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAEF,QAAQ,CAACG,IAAI,CAAC,CAC3DjB,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACxB,CAAC,CAAC,CACDkB,KAAK,CAACC,KAAK,EAAI,CACZJ,OAAO,CAACI,KAAK,CAAC,wCAAwC,CAAEA,KAAK,CAAC,CAC9DnB,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACxB,CAAC,CAAC,CACV,CAAC,IAAM,CACH;AACAe,OAAO,CAACI,KAAK,CAAC,uBAAuB,CAAC,CACtCnB,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACxB,CACJ,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,mBAAOF,IAAA,QAAAsB,QAAA,CAAK,YAAU,CAAK,CAAC,CAChC,CAAC,CAED,cAAe,CAAArB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}