{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./home.css\";import Navbar from\"../../component/navbar/navbar\";import Footer from\"../../component/footer/footer\";import ProductSlider from\"../../component/product/product\";import{FaWhatsapp}from\"react-icons/fa\";import Spinner from\"../../component/spinner\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(_ref){let{removeFromCart}=_ref;const[cart,setCart]=useState(()=>{const savedCart=sessionStorage.getItem(\"cart\");return savedCart?JSON.parse(savedCart):[];});const[searchQuery,setSearchQuery]=useState(\"\");const[alertMessage,setAlertMessage]=useState(\"\");const[filteredProducts,setFilteredProducts]=useState([]);const[products,setProducts]=useState([]);const[fadeOut,setFadeOut]=useState(false);const[loadingProducts,setLoadingProducts]=useState(true);const[loadingCart,setLoadingCart]=useState(true);const[loading,setLoading]=useState(false);const getUserId=()=>{let userId=sessionStorage.getItem(\"user_id\");if(!userId){userId=\"user_\"+Math.random().toString(36).substring(2,15);sessionStorage.setItem(\"user_id\",userId);}return userId;};const updateSessionStorageCart=cart=>{sessionStorage.setItem(\"cart\",JSON.stringify(cart));};useEffect(()=>{const fetchCart=async()=>{const userId=getUserId();// Ensure to retrieve the user ID\nsetLoadingCart(true);// Start loading\ntry{const response=await fetch(`${process.env.REACT_APP_API_URL}/${userId}`);if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const cartData=await response.json();setCart(cartData);// Set the cart data\nupdateSessionStorageCart(cartData);// Update session storage\n}catch(error){console.error(\"Error fetching cart:\",error);setCart([]);// Reset cart to an empty array on error\n}finally{setLoadingCart(false);// Stop loading\n}};fetchCart();// Call the function to fetch the cart\n},[]);// Run this effect only once when the component mounts\nconst addToCart=async(product,quantity)=>{const userId=getUserId();const parsedQuantity=parseInt(quantity);setCart(prevCart=>{const existingProductIndex=prevCart.findIndex(item=>item.id===product.id);let updatedCart;if(existingProductIndex>-1){updatedCart=prevCart.map((item,index)=>index===existingProductIndex?{...item,quantity:item.quantity+parsedQuantity}:item);}else{updatedCart=[...prevCart,{...product,quantity:parsedQuantity}];}return updatedCart;// Return new cart state\n});updateSessionStorageCart(cart);// Update session storage before server update\ntry{const response=await fetch(`${process.env.REACT_APP_API_URL}/cart`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({userId:userId,product:{id:product.id,name:product.name,price:product.price,img:product.img},quantity:parsedQuantity})});if(!response.ok){throw new Error(\"Failed to add item to cart\");}const updatedCartFromServer=await response.json();if(JSON.stringify(cart)!==JSON.stringify(updatedCartFromServer)){setCart(updatedCartFromServer);updateSessionStorageCart(updatedCartFromServer);}// Refetch the cart data after adding an item\nfetchCart();// Add this line to refetch the cart data after adding an item\nsetAlertMessage(`${product.name} has been added to the cart.`);}catch(error){console.error(\"Error updating cart on server:\",error);// Optionally revert or handle error\n}};useEffect(()=>{const fetchProducts=async()=>{setLoadingProducts(true);try{const response=await fetch(`${process.env.REACT_APP_API_URL}/products`);if(!response.ok)throw new Error(\"Failed to fetch products\");const data=await response.json();setProducts(data);}catch(error){console.error(\"Error fetching products:\",error);alert(\"Could not fetch products. Please try again later.\");}finally{setLoadingProducts(false);}};fetchProducts();},[]);useEffect(()=>{if(alertMessage){const timer=setTimeout(()=>{setFadeOut(true);},5000);return()=>clearTimeout(timer);}else{setFadeOut(false);}},[alertMessage]);useEffect(()=>{if(searchQuery){const filtered=products.filter(product=>product.name.toLowerCase().includes(searchQuery.toLowerCase()));setFilteredProducts(filtered);}else{setFilteredProducts(products);// Show all products when search query is empty\n}},[searchQuery,products]);if(loadingCart){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(\"main\",{className:\"Home\",children:[/*#__PURE__*/_jsx(Navbar,{removeFromCart:removeFromCart,cart:cart,setCart:setCart,setSearchQuery:setSearchQuery}),/*#__PURE__*/_jsx(\"section\",{className:\"home-text-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row p-5 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"home-text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to MedMore Store\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Where you can find the best food products\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-btn d-flex flex-column flex-md-row justify-content-center mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"col-12 col-md-4 my-1 mx-1\",children:\"New Product\"}),/*#__PURE__*/_jsx(\"button\",{className:\"col-12 col-md-4 my-1 mx-1\",children:\"All Products\"}),/*#__PURE__*/_jsx(\"button\",{className:\"col-12 col-md-4 my-1 mx-1\",children:\"Our Favorites\"})]})]})}),/*#__PURE__*/_jsx(\"section\",{children:loadingProducts?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(ProductSlider,{products:filteredProducts,addToCart:addToCart,searchQuery:searchQuery})}),alertMessage&&/*#__PURE__*/_jsx(\"div\",{className:`alert-popup ${fadeOut?'alert-popup-exit':''}`,children:alertMessage}),/*#__PURE__*/_jsx(\"section\",{className:\"footer mt-5\",children:/*#__PURE__*/_jsx(Footer,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"whatsapp-logo\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://wa.me/07398653511\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"whatsapp-button\",children:/*#__PURE__*/_jsx(FaWhatsapp,{size:40,color:\"#25D366\"})})})]});}","map":{"version":3,"names":["React","useState","useEffect","Navbar","Footer","ProductSlider","FaWhatsapp","Spinner","jsx","_jsx","jsxs","_jsxs","Home","_ref","removeFromCart","cart","setCart","savedCart","sessionStorage","getItem","JSON","parse","searchQuery","setSearchQuery","alertMessage","setAlertMessage","filteredProducts","setFilteredProducts","products","setProducts","fadeOut","setFadeOut","loadingProducts","setLoadingProducts","loadingCart","setLoadingCart","loading","setLoading","getUserId","userId","Math","random","toString","substring","setItem","updateSessionStorageCart","stringify","fetchCart","response","fetch","process","env","REACT_APP_API_URL","ok","Error","status","cartData","json","error","console","addToCart","product","quantity","parsedQuantity","parseInt","prevCart","existingProductIndex","findIndex","item","id","updatedCart","map","index","method","headers","body","name","price","img","updatedCartFromServer","fetchProducts","data","alert","timer","setTimeout","clearTimeout","filtered","filter","toLowerCase","includes","className","children","href","target","rel","size","color"],"sources":["/Users/touchbar/Documents/GitHub/medmore-website/src/pages/home/home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./home.css\";\nimport Navbar from \"../../component/navbar/navbar\";\nimport Footer from \"../../component/footer/footer\";\nimport ProductSlider from \"../../component/product/product\";\nimport { FaWhatsapp } from \"react-icons/fa\";\nimport Spinner from \"../../component/spinner\";\n\nexport default function Home({ removeFromCart }) {\n    const [cart, setCart] = useState(() => {\n        const savedCart = sessionStorage.getItem(\"cart\");\n        return savedCart ? JSON.parse(savedCart) : [];\n    });\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [alertMessage, setAlertMessage] = useState(\"\");\n    const [filteredProducts, setFilteredProducts] = useState([]);\n    const [products, setProducts] = useState([]);\n    const [fadeOut, setFadeOut] = useState(false);\n    const [loadingProducts, setLoadingProducts] = useState(true);\n    const [loadingCart, setLoadingCart] = useState(true);\n    const [loading, setLoading] = useState(false);\n\n    const getUserId = () => {\n        let userId = sessionStorage.getItem(\"user_id\");\n        if (!userId) {\n            userId = \"user_\" + Math.random().toString(36).substring(2, 15);\n            sessionStorage.setItem(\"user_id\", userId);\n        }\n        return userId;\n    };\n\n    const updateSessionStorageCart = (cart) => {\n        sessionStorage.setItem(\"cart\", JSON.stringify(cart));\n    };\n    useEffect(() => {\n        const fetchCart = async () => {\n            const userId = getUserId(); // Ensure to retrieve the user ID\n            setLoadingCart(true); // Start loading\n            try {\n                const response = await fetch(`${process.env.REACT_APP_API_URL}/${userId}`);\n                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n                const cartData = await response.json();\n                setCart(cartData); // Set the cart data\n                updateSessionStorageCart(cartData); // Update session storage\n            } catch (error) {\n                console.error(\"Error fetching cart:\", error);\n                setCart([]); // Reset cart to an empty array on error\n            } finally {\n                setLoadingCart(false); // Stop loading\n            }\n        };\n    \n        fetchCart(); // Call the function to fetch the cart\n    }, []); // Run this effect only once when the component mounts\n\n    const addToCart = async (product, quantity) => {\n        const userId = getUserId();\n        const parsedQuantity = parseInt(quantity);\n        setCart(prevCart => {\n            const existingProductIndex = prevCart.findIndex(item => item.id === product.id);\n            let updatedCart;\n    \n            if (existingProductIndex > -1) {\n                updatedCart = prevCart.map((item, index) =>\n                    index === existingProductIndex\n                        ? { ...item, quantity: item.quantity + parsedQuantity }\n                        : item\n                );\n            } else {\n                updatedCart = [...prevCart, { ...product, quantity: parsedQuantity }];\n            }\n    \n            return updatedCart; // Return new cart state\n        });\n    \n        updateSessionStorageCart(cart); // Update session storage before server update\n    \n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}/cart`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    userId: userId,\n                    product: {\n                        id: product.id,\n                        name: product.name,\n                        price: product.price,\n                        img: product.img,\n                    },\n                    quantity: parsedQuantity,\n                }),\n            });\n    \n            if (!response.ok) {\n                throw new Error(\"Failed to add item to cart\");\n            }\n    \n            const updatedCartFromServer = await response.json();\n            if (JSON.stringify(cart) !== JSON.stringify(updatedCartFromServer)) {\n                setCart(updatedCartFromServer);\n                updateSessionStorageCart(updatedCartFromServer);\n            }\n            \n            // Refetch the cart data after adding an item\n            fetchCart(); // Add this line to refetch the cart data after adding an item\n            setAlertMessage(`${product.name} has been added to the cart.`);\n        } catch (error) {\n            console.error(\"Error updating cart on server:\", error);\n            // Optionally revert or handle error\n        }\n    };\n    \n\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            setLoadingProducts(true);\n            try {\n                const response = await fetch(`${process.env.REACT_APP_API_URL}/products`);\n                if (!response.ok) throw new Error(\"Failed to fetch products\");\n                const data = await response.json();\n                setProducts(data);\n            } catch (error) {\n                console.error(\"Error fetching products:\", error);\n                alert(\"Could not fetch products. Please try again later.\");\n            } finally {\n                setLoadingProducts(false);\n            }\n        };\n\n        fetchProducts();\n    }, []);\n\n\n\n    \n\n    useEffect(() => {\n        if (alertMessage) {\n            const timer = setTimeout(() => {\n                setFadeOut(true);\n            }, 5000);\n\n            return () => clearTimeout(timer);\n        } else {\n            setFadeOut(false);\n        }\n    }, [alertMessage]);\n\n    useEffect(() => {\n        if (searchQuery) {\n            const filtered = products.filter(product =>\n                product.name.toLowerCase().includes(searchQuery.toLowerCase())\n            );\n            setFilteredProducts(filtered);\n        } else {\n            setFilteredProducts(products); // Show all products when search query is empty\n        }\n    }, [searchQuery, products]);\n\n    if (loadingCart) {\n        return <Spinner />;\n    }\n\n    return (\n        <main className=\"Home\">\n            <Navbar removeFromCart={removeFromCart} cart={cart} setCart={setCart} setSearchQuery={setSearchQuery} />\n            <section className=\"home-text-wrapper\">\n                <div className=\"row p-5 text-center\">\n                    <div className=\"home-text\">\n                        <h1>Welcome to MedMore Store</h1>\n                        <span>Where you can find the best food products</span>\n                    </div>\n                    <div className=\"home-btn d-flex flex-column flex-md-row justify-content-center mt-4\">\n                        <button className=\"col-12 col-md-4 my-1 mx-1\">New Product</button>\n                        <button className=\"col-12 col-md-4 my-1 mx-1\">All Products</button>\n                        <button className=\"col-12 col-md-4 my-1 mx-1\">Our Favorites</button>\n                    </div>\n                </div>\n            </section>\n\n            <section>\n                {loadingProducts ? (\n                   <Spinner />\n                ) : (\n                    <ProductSlider\n                    products={filteredProducts}\n                        addToCart={addToCart}\n                        searchQuery={searchQuery}\n                    />\n                )}\n            </section>\n\n            {alertMessage && (\n                <div className={`alert-popup ${fadeOut ? 'alert-popup-exit' : ''}`}>\n                    {alertMessage}\n                </div>\n            )}\n\n            <section className=\"footer mt-5\">\n                <Footer />\n            </section>\n\n            <div className=\"whatsapp-logo\">\n                <a\n                    href=\"https://wa.me/07398653511\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"whatsapp-button\"\n                >\n                    <FaWhatsapp size={40} color=\"#25D366\" />\n                </a>\n            </div>\n        </main>\n    );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,YAAY,CACnB,MAAO,CAAAC,MAAM,KAAM,+BAA+B,CAClD,MAAO,CAAAC,MAAM,KAAM,+BAA+B,CAClD,MAAO,CAAAC,aAAa,KAAM,iCAAiC,CAC3D,OAASC,UAAU,KAAQ,gBAAgB,CAC3C,MAAO,CAAAC,OAAO,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,cAAe,SAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAqB,IAApB,CAAEC,cAAe,CAAC,CAAAD,IAAA,CAC3C,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,IAAM,CACnC,KAAM,CAAAgB,SAAS,CAAGC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAChD,MAAO,CAAAF,SAAS,CAAGG,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,CAAG,EAAE,CACjD,CAAC,CAAC,CACF,KAAM,CAACK,WAAW,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACuB,YAAY,CAAEC,eAAe,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACyB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAAC2B,QAAQ,CAAEC,WAAW,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC6B,OAAO,CAAEC,UAAU,CAAC,CAAG9B,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC+B,eAAe,CAAEC,kBAAkB,CAAC,CAAGhC,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACiC,WAAW,CAAEC,cAAc,CAAC,CAAGlC,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACmC,OAAO,CAAEC,UAAU,CAAC,CAAGpC,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAqC,SAAS,CAAGA,CAAA,GAAM,CACpB,GAAI,CAAAC,MAAM,CAAGrB,cAAc,CAACC,OAAO,CAAC,SAAS,CAAC,CAC9C,GAAI,CAACoB,MAAM,CAAE,CACTA,MAAM,CAAG,OAAO,CAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,CAC9DzB,cAAc,CAAC0B,OAAO,CAAC,SAAS,CAAEL,MAAM,CAAC,CAC7C,CACA,MAAO,CAAAA,MAAM,CACjB,CAAC,CAED,KAAM,CAAAM,wBAAwB,CAAI9B,IAAI,EAAK,CACvCG,cAAc,CAAC0B,OAAO,CAAC,MAAM,CAAExB,IAAI,CAAC0B,SAAS,CAAC/B,IAAI,CAAC,CAAC,CACxD,CAAC,CACDb,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA6C,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,KAAM,CAAAR,MAAM,CAAGD,SAAS,CAAC,CAAC,CAAE;AAC5BH,cAAc,CAAC,IAAI,CAAC,CAAE;AACtB,GAAI,CACA,KAAM,CAAAa,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAIb,MAAM,EAAE,CAAC,CAC1E,GAAI,CAACS,QAAQ,CAACK,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,uBAAuBN,QAAQ,CAACO,MAAM,EAAE,CAAC,CAC3E,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CACtCzC,OAAO,CAACwC,QAAQ,CAAC,CAAE;AACnBX,wBAAwB,CAACW,QAAQ,CAAC,CAAE;AACxC,CAAE,MAAOE,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5C1C,OAAO,CAAC,EAAE,CAAC,CAAE;AACjB,CAAC,OAAS,CACNmB,cAAc,CAAC,KAAK,CAAC,CAAE;AAC3B,CACJ,CAAC,CAEDY,SAAS,CAAC,CAAC,CAAE;AACjB,CAAC,CAAE,EAAE,CAAC,CAAE;AAER,KAAM,CAAAa,SAAS,CAAG,KAAAA,CAAOC,OAAO,CAAEC,QAAQ,GAAK,CAC3C,KAAM,CAAAvB,MAAM,CAAGD,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAyB,cAAc,CAAGC,QAAQ,CAACF,QAAQ,CAAC,CACzC9C,OAAO,CAACiD,QAAQ,EAAI,CAChB,KAAM,CAAAC,oBAAoB,CAAGD,QAAQ,CAACE,SAAS,CAACC,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKR,OAAO,CAACQ,EAAE,CAAC,CAC/E,GAAI,CAAAC,WAAW,CAEf,GAAIJ,oBAAoB,CAAG,CAAC,CAAC,CAAE,CAC3BI,WAAW,CAAGL,QAAQ,CAACM,GAAG,CAAC,CAACH,IAAI,CAAEI,KAAK,GACnCA,KAAK,GAAKN,oBAAoB,CACxB,CAAE,GAAGE,IAAI,CAAEN,QAAQ,CAAEM,IAAI,CAACN,QAAQ,CAAGC,cAAe,CAAC,CACrDK,IACV,CAAC,CACL,CAAC,IAAM,CACHE,WAAW,CAAG,CAAC,GAAGL,QAAQ,CAAE,CAAE,GAAGJ,OAAO,CAAEC,QAAQ,CAAEC,cAAe,CAAC,CAAC,CACzE,CAEA,MAAO,CAAAO,WAAW,CAAE;AACxB,CAAC,CAAC,CAEFzB,wBAAwB,CAAC9B,IAAI,CAAC,CAAE;AAEhC,GAAI,CACA,KAAM,CAAAiC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,OAAO,CAAE,CAClEqB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEvD,IAAI,CAAC0B,SAAS,CAAC,CACjBP,MAAM,CAAEA,MAAM,CACdsB,OAAO,CAAE,CACLQ,EAAE,CAAER,OAAO,CAACQ,EAAE,CACdO,IAAI,CAAEf,OAAO,CAACe,IAAI,CAClBC,KAAK,CAAEhB,OAAO,CAACgB,KAAK,CACpBC,GAAG,CAAEjB,OAAO,CAACiB,GACjB,CAAC,CACDhB,QAAQ,CAAEC,cACd,CAAC,CACL,CAAC,CAAC,CAEF,GAAI,CAACf,QAAQ,CAACK,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,4BAA4B,CAAC,CACjD,CAEA,KAAM,CAAAyB,qBAAqB,CAAG,KAAM,CAAA/B,QAAQ,CAACS,IAAI,CAAC,CAAC,CACnD,GAAIrC,IAAI,CAAC0B,SAAS,CAAC/B,IAAI,CAAC,GAAKK,IAAI,CAAC0B,SAAS,CAACiC,qBAAqB,CAAC,CAAE,CAChE/D,OAAO,CAAC+D,qBAAqB,CAAC,CAC9BlC,wBAAwB,CAACkC,qBAAqB,CAAC,CACnD,CAEA;AACAhC,SAAS,CAAC,CAAC,CAAE;AACbtB,eAAe,CAAC,GAAGoC,OAAO,CAACe,IAAI,8BAA8B,CAAC,CAClE,CAAE,MAAOlB,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACtD;AACJ,CACJ,CAAC,CAIDxD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA8E,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B/C,kBAAkB,CAAC,IAAI,CAAC,CACxB,GAAI,CACA,KAAM,CAAAe,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,WAAW,CAAC,CACzE,GAAI,CAACJ,QAAQ,CAACK,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,0BAA0B,CAAC,CAC7D,KAAM,CAAA2B,IAAI,CAAG,KAAM,CAAAjC,QAAQ,CAACS,IAAI,CAAC,CAAC,CAClC5B,WAAW,CAACoD,IAAI,CAAC,CACrB,CAAE,MAAOvB,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDwB,KAAK,CAAC,mDAAmD,CAAC,CAC9D,CAAC,OAAS,CACNjD,kBAAkB,CAAC,KAAK,CAAC,CAC7B,CACJ,CAAC,CAED+C,aAAa,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAMN9E,SAAS,CAAC,IAAM,CACZ,GAAIsB,YAAY,CAAE,CACd,KAAM,CAAA2D,KAAK,CAAGC,UAAU,CAAC,IAAM,CAC3BrD,UAAU,CAAC,IAAI,CAAC,CACpB,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,IAAMsD,YAAY,CAACF,KAAK,CAAC,CACpC,CAAC,IAAM,CACHpD,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAAE,CAACP,YAAY,CAAC,CAAC,CAElBtB,SAAS,CAAC,IAAM,CACZ,GAAIoB,WAAW,CAAE,CACb,KAAM,CAAAgE,QAAQ,CAAG1D,QAAQ,CAAC2D,MAAM,CAAC1B,OAAO,EACpCA,OAAO,CAACe,IAAI,CAACY,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACnE,WAAW,CAACkE,WAAW,CAAC,CAAC,CACjE,CAAC,CACD7D,mBAAmB,CAAC2D,QAAQ,CAAC,CACjC,CAAC,IAAM,CACH3D,mBAAmB,CAACC,QAAQ,CAAC,CAAE;AACnC,CACJ,CAAC,CAAE,CAACN,WAAW,CAAEM,QAAQ,CAAC,CAAC,CAE3B,GAAIM,WAAW,CAAE,CACb,mBAAOzB,IAAA,CAACF,OAAO,GAAE,CAAC,CACtB,CAEA,mBACII,KAAA,SAAM+E,SAAS,CAAC,MAAM,CAAAC,QAAA,eAClBlF,IAAA,CAACN,MAAM,EAACW,cAAc,CAAEA,cAAe,CAACC,IAAI,CAAEA,IAAK,CAACC,OAAO,CAAEA,OAAQ,CAACO,cAAc,CAAEA,cAAe,CAAE,CAAC,cACxGd,IAAA,YAASiF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAClChF,KAAA,QAAK+E,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAChChF,KAAA,QAAK+E,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBlF,IAAA,OAAAkF,QAAA,CAAI,0BAAwB,CAAI,CAAC,cACjClF,IAAA,SAAAkF,QAAA,CAAM,2CAAyC,CAAM,CAAC,EACrD,CAAC,cACNhF,KAAA,QAAK+E,SAAS,CAAC,qEAAqE,CAAAC,QAAA,eAChFlF,IAAA,WAAQiF,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,aAAW,CAAQ,CAAC,cAClElF,IAAA,WAAQiF,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,cAAY,CAAQ,CAAC,cACnElF,IAAA,WAAQiF,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,eAAa,CAAQ,CAAC,EACnE,CAAC,EACL,CAAC,CACD,CAAC,cAEVlF,IAAA,YAAAkF,QAAA,CACK3D,eAAe,cACbvB,IAAA,CAACF,OAAO,GAAE,CAAC,cAEVE,IAAA,CAACJ,aAAa,EACduB,QAAQ,CAAEF,gBAAiB,CACvBkC,SAAS,CAAEA,SAAU,CACrBtC,WAAW,CAAEA,WAAY,CAC5B,CACJ,CACI,CAAC,CAETE,YAAY,eACTf,IAAA,QAAKiF,SAAS,CAAE,eAAe5D,OAAO,CAAG,kBAAkB,CAAG,EAAE,EAAG,CAAA6D,QAAA,CAC9DnE,YAAY,CACZ,CACR,cAEDf,IAAA,YAASiF,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC5BlF,IAAA,CAACL,MAAM,GAAE,CAAC,CACL,CAAC,cAEVK,IAAA,QAAKiF,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC1BlF,IAAA,MACImF,IAAI,CAAC,2BAA2B,CAChCC,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,qBAAqB,CACzBJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAE3BlF,IAAA,CAACH,UAAU,EAACyF,IAAI,CAAE,EAAG,CAACC,KAAK,CAAC,SAAS,CAAE,CAAC,CACzC,CAAC,CACH,CAAC,EACJ,CAAC,CAEf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}