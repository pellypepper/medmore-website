{"ast":null,"code":"import React,{useState}from\"react\";import Navbar from\"../../component/navbar/navbar\";import Footer from\"../../component/footer/footer\";import Spinner from\"../../component/spinner\";import{useLocation,useNavigate}from\"react-router-dom\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faStar as solidStar}from'@fortawesome/free-solid-svg-icons';import{faStar as regularStar}from'@fortawesome/free-regular-svg-icons';import'./display.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductDisplay(){var _location$state,_cart$find;const location=useLocation();const product=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.product)||{};const navigate=useNavigate();const rating=Math.floor(Math.random()*5)+1;const stars=[];for(let i=0;i<5;i++){stars.push(i<rating?solidStar:regularStar);}const loadCart=()=>JSON.parse(localStorage.getItem(\"cart\"))||[];const[cart,setCart]=useState(loadCart());const[loading,setLoading]=useState(false);const updateCart=newCart=>{setCart(newCart);localStorage.setItem(\"cart\",JSON.stringify(newCart));};const adjustQuantity=amount=>{const updatedCart=cart.map(item=>item.id===product.id?{...item,quantity:Math.max(item.quantity+amount,1)}:item);updateCart(updatedCart);};const handleCheckout=async()=>{setLoading(true);const updatedCart=cart.some(item=>item.id===product.id)?cart.map(item=>item.id===product.id?{...item,quantity:item.quantity+1}:item):[...cart,{...product,quantity:1}];updateCart(updatedCart);// Simulate delay\nawait new Promise(resolve=>setTimeout(resolve,1000));setLoading(false);navigate(\"/checkout\");};return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"section\",{className:\"product-section my-4 container\",children:[loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-wrapper p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.img,alt:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-text mt-4 mt-md-0\",children:[/*#__PURE__*/_jsx(\"h1\",{children:product.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",typeof product.price==='number'?product.price:'Price Unavailable']}),/*#__PURE__*/_jsx(\"div\",{className:\"rating\",children:stars.map((star,index)=>/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:star,className:\"star\"},index))}),/*#__PURE__*/_jsx(\"p\",{children:\"Quantity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-1\",onClick:()=>adjustQuantity(-1),children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:((_cart$find=cart.find(item=>item.id===product.id))===null||_cart$find===void 0?void 0:_cart$find.quantity)||1}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-1\",onClick:()=>adjustQuantity(1),children:\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reviews\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pickup available within Liverpool\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Usually ready in 24 Hours\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleCheckout,disabled:loading,children:loading?\"Processing...\":\"Proceed to Checkout\"})]})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"names":["React","useState","Navbar","Footer","Spinner","useLocation","useNavigate","FontAwesomeIcon","faStar","solidStar","regularStar","jsx","_jsx","jsxs","_jsxs","ProductDisplay","_location$state","_cart$find","location","product","state","navigate","rating","Math","floor","random","stars","i","push","loadCart","JSON","parse","localStorage","getItem","cart","setCart","loading","setLoading","updateCart","newCart","setItem","stringify","adjustQuantity","amount","updatedCart","map","item","id","quantity","max","handleCheckout","some","Promise","resolve","setTimeout","children","className","src","img","alt","name","price","star","index","icon","onClick","find","disabled"],"sources":["C:/Users/ppeli/OneDrive/Documents/GitHub/medmore-website/src/pages/productdisplay/display.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Navbar from \"../../component/navbar/navbar\";\r\nimport Footer from \"../../component/footer/footer\";\r\nimport Spinner from \"../../component/spinner\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faStar as solidStar } from '@fortawesome/free-solid-svg-icons';\r\nimport { faStar as regularStar } from '@fortawesome/free-regular-svg-icons';\r\nimport './display.css';\r\n\r\nexport default function ProductDisplay() {\r\n    const location = useLocation();\r\n    const product = location.state?.product || {};\r\n    const navigate = useNavigate();\r\n\r\n    const rating = Math.floor(Math.random() * 5) + 1;\r\n    const stars = [];\r\n    for (let i = 0; i < 5; i++) {\r\n        stars.push(i < rating ? solidStar : regularStar);\r\n    }\r\n\r\n    const loadCart = () => JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n    const [cart, setCart] = useState(loadCart());\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const updateCart = (newCart) => {\r\n        setCart(newCart);\r\n        localStorage.setItem(\"cart\", JSON.stringify(newCart));\r\n    };\r\n\r\n    const adjustQuantity = (amount) => {\r\n        const updatedCart = cart.map((item) =>\r\n            item.id === product.id ? { ...item, quantity: Math.max(item.quantity + amount, 1) } : item\r\n        );\r\n        updateCart(updatedCart);\r\n    };\r\n\r\n    const handleCheckout = async () => {\r\n        setLoading(true);\r\n        \r\n        const updatedCart = cart.some(item => item.id === product.id)\r\n            ? cart.map(item =>\r\n                item.id === product.id\r\n                    ? { ...item, quantity: item.quantity + 1 }\r\n                    : item\r\n              )\r\n            : [...cart, { ...product, quantity: 1 }];\r\n        \r\n        updateCart(updatedCart);\r\n\r\n        // Simulate delay\r\n        await new Promise((resolve) => setTimeout(resolve, 1000));\r\n        setLoading(false);\r\n\r\n        navigate(\"/checkout\");\r\n    };\r\n\r\n    return (\r\n        <main>\r\n            <Navbar />\r\n            <section className=\"product-section my-4 container\">\r\n                {loading && <Spinner />}\r\n                <div className=\"product-wrapper p-4\">\r\n                    <div className=\"product-image\">\r\n                        <img src={product.img} alt={product.name} />\r\n                    </div>\r\n                    <div className=\"product-text mt-4 mt-md-0\">\r\n                        <h1>{product.name}</h1>\r\n                        <span>${typeof product.price === 'number' ? product.price : 'Price Unavailable'}</span>\r\n                        <div className=\"rating\">\r\n                            {stars.map((star, index) => (\r\n                                <FontAwesomeIcon key={index} icon={star} className=\"star\" />\r\n                            ))}\r\n                        </div>\r\n                        <p>Quantity</p>\r\n                        <div className=\"quantity-controls\">\r\n                            <button className=\"btn-1\" onClick={() => adjustQuantity(-1)}>-</button>\r\n                            <span>{cart.find(item => item.id === product.id)?.quantity || 1}</span>\r\n                            <button className=\"btn-1\" onClick={() => adjustQuantity(1)}>+</button>\r\n                        </div>\r\n                        <div className=\"reviews\">\r\n                            <p>Reviews</p>\r\n                            <span>Pickup available within Liverpool</span>\r\n                            <span>Usually ready in 24 Hours</span>\r\n                        </div>\r\n                        <button className=\"btn\" onClick={handleCheckout} disabled={loading}>\r\n                            {loading ? \"Processing...\" : \"Proceed to Checkout\"}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <Footer />\r\n        </main>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}