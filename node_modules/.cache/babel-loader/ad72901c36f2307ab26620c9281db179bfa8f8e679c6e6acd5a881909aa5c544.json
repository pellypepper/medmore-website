{"ast":null,"code":"import React,{useState}from\"react\";import Navbar from\"../../component/navbar/navbar\";import Footer from\"../../component/footer/footer\";import Spinner from\"../../component/spinner\";// Import the spinner component\nimport{useLocation,useNavigate}from\"react-router-dom\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faStar as solidStar}from'@fortawesome/free-solid-svg-icons';import{faStar as regularStar}from'@fortawesome/free-regular-svg-icons';import'./display.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductDisplay(){var _location$state,_cart$find;const location=useLocation();const product=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.product)||{};const navigate=useNavigate();// Randomly generate a rating for demonstration purposes\nconst rating=Math.floor(Math.random()*5)+1;const stars=Array.from({length:5},(v,i)=>i<rating?solidStar:regularStar);// Initialize cart state from localStorage\nconst loadCart=()=>JSON.parse(localStorage.getItem(\"cart\"))||[];const[cart,setCart]=useState(loadCart());const[loading,setLoading]=useState(false);// State for loading spinner\nconst updateCart=newCart=>{setCart(newCart);localStorage.setItem(\"cart\",JSON.stringify(newCart));};const adjustQuantity=amount=>{const updatedCart=cart.map(item=>item.name===product.name?{...item,quantity:Math.max(item.quantity+amount,1)}:item);updateCart(updatedCart);};// Navigate to checkout page\nconst handleCheckout=async()=>{setLoading(true);// Show spinner when processing checkout\nconst existingProduct=cart.find(item=>item.name===product.name);const updatedCart=existingProduct?cart.map(item=>item.name===product.name?{...item,quantity:item.quantity+1}:item):[...cart,{...product,quantity:1}];updateCart(updatedCart);// Simulate a network delay before navigating to checkout\nawait new Promise(resolve=>setTimeout(resolve,1000));// Simulate delay\nsetLoading(false);// Hide spinner after processing\nnavigate(\"/checkout\");};return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"section\",{className:\"product-section my-4 container\",children:[loading&&/*#__PURE__*/_jsx(Spinner,{}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"product-wrapper p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.img,alt:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-text mt-4 mt-md-0\",children:[/*#__PURE__*/_jsx(\"h1\",{children:product.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",typeof product.price==='number'?product.price.toFixed(2):'N/A']}),/*#__PURE__*/_jsx(\"div\",{className:\"rating\",children:stars.map((star,index)=>/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:star,className:\"star\"},index))}),/*#__PURE__*/_jsx(\"p\",{children:\"Quantity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-1\",onClick:()=>adjustQuantity(-1),children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:((_cart$find=cart.find(item=>item.name===product.name))===null||_cart$find===void 0?void 0:_cart$find.quantity)||1}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-1\",onClick:()=>adjustQuantity(1),children:\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reviews\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pickup available within Liverpool\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Usually ready in 24 Hours\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleCheckout,disabled:loading,children:loading?\"Processing...\":\"Proceed to Checkout\"})]})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"names":["React","useState","Navbar","Footer","Spinner","useLocation","useNavigate","FontAwesomeIcon","faStar","solidStar","regularStar","jsx","_jsx","jsxs","_jsxs","ProductDisplay","_location$state","_cart$find","location","product","state","navigate","rating","Math","floor","random","stars","Array","from","length","v","i","loadCart","JSON","parse","localStorage","getItem","cart","setCart","loading","setLoading","updateCart","newCart","setItem","stringify","adjustQuantity","amount","updatedCart","map","item","name","quantity","max","handleCheckout","existingProduct","find","Promise","resolve","setTimeout","children","className","src","img","alt","price","toFixed","star","index","icon","onClick","disabled"],"sources":["/Users/touchbar/Documents/GitHub/medmore-website/src/pages/productdisplay/display.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"../../component/navbar/navbar\";\nimport Footer from \"../../component/footer/footer\";\nimport Spinner from \"../../component/spinner\"; // Import the spinner component\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faStar as solidStar } from '@fortawesome/free-solid-svg-icons';\nimport { faStar as regularStar } from '@fortawesome/free-regular-svg-icons';\nimport './display.css';\n\nexport default function ProductDisplay() {\n    const location = useLocation();\n    const product = location.state?.product || {};\n    const navigate = useNavigate();\n\n    // Randomly generate a rating for demonstration purposes\n    const rating = Math.floor(Math.random() * 5) + 1;\n    const stars = Array.from({ length: 5 }, (v, i) => (i < rating ? solidStar : regularStar));\n\n    // Initialize cart state from localStorage\n    const loadCart = () => JSON.parse(localStorage.getItem(\"cart\")) || [];\n    const [cart, setCart] = useState(loadCart());\n    const [loading, setLoading] = useState(false); // State for loading spinner\n\n    const updateCart = (newCart) => {\n        setCart(newCart);\n        localStorage.setItem(\"cart\", JSON.stringify(newCart));\n    };\n\n    const adjustQuantity = (amount) => {\n        const updatedCart = cart.map((item) =>\n            item.name === product.name ? { ...item, quantity: Math.max(item.quantity + amount, 1) } : item\n        );\n        updateCart(updatedCart);\n    };\n\n    // Navigate to checkout page\n    const handleCheckout = async () => {\n        setLoading(true); // Show spinner when processing checkout\n        const existingProduct = cart.find(item => item.name === product.name);\n        const updatedCart = existingProduct\n            ? cart.map(item =>\n                item.name === product.name\n                    ? { ...item, quantity: item.quantity + 1 }\n                    : item\n              )\n            : [...cart, { ...product, quantity: 1 }];\n\n        updateCart(updatedCart);\n\n        // Simulate a network delay before navigating to checkout\n        await new Promise((resolve) => setTimeout(resolve, 1000)); // Simulate delay\n        setLoading(false); // Hide spinner after processing\n\n        navigate(\"/checkout\");\n    };\n\n    return (\n        <main>\n            <Navbar />\n            <section className=\"product-section my-4 container\">\n                {loading && <Spinner />} {/* Show spinner when loading */}\n                <div className=\"product-wrapper p-4\">\n                    <div className=\"product-image\">\n                        <img src={product.img} alt={product.name} />\n                    </div>\n                    <div className=\"product-text mt-4 mt-md-0\">\n                        <h1>{product.name}</h1>\n                        <span>${typeof product.price === 'number' ? product.price.toFixed(2) : 'N/A'}</span>\n                        <div className=\"rating\">\n                            {stars.map((star, index) => (\n                                <FontAwesomeIcon key={index} icon={star} className=\"star\" />\n                            ))}\n                        </div>\n                        <p>Quantity</p>\n                        <div className=\"quantity-controls\">\n                            <button className=\"btn-1\" onClick={() => adjustQuantity(-1)}>-</button>\n                            <span>{cart.find(item => item.name === product.name)?.quantity || 1}</span>\n                            <button className=\"btn-1\" onClick={() => adjustQuantity(1)}>+</button>\n                        </div>\n                        <div className=\"reviews\">\n                            <p>Reviews</p>\n                            <span>Pickup available within Liverpool</span>\n                            <span>Usually ready in 24 Hours</span>\n                        </div>\n                        <button className=\"btn\" onClick={handleCheckout} disabled={loading}>\n                            {loading ? \"Processing...\" : \"Proceed to Checkout\"}\n                        </button>\n                    </div>\n                </div>\n            </section>\n            <Footer />\n        </main>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}