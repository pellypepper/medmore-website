{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import ProductCard from\"./productcard\";// Ensure the correct case is used\nimport Spinner from\"../spinner\";// Ensure the correct case is used\nimport\"./product.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductSlider=_ref=>{let{addToCart,searchQuery}=_ref;const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[currentIndex,setCurrentIndex]=useState(0);const itemsPerPage=10;useEffect(()=>{const fetchProducts=async()=>{setLoading(true);try{const response=await fetch(`${process.env.REACT_APP_API_URL}/products`);if(!response.ok)throw new Error(\"Failed to fetch products\");const data=await response.json();setProducts(data);}catch(error){console.error(\"Error fetching products:\",error);alert(\"Could not fetch products. Please try again later.\");}finally{setLoading(false);}};fetchProducts();},[]);const filteredProducts=products.filter(product=>product.name.toLowerCase().includes(searchQuery.toLowerCase()));const currentProducts=filteredProducts.slice(currentIndex,currentIndex+itemsPerPage);return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-container\",children:currentProducts.length>0?currentProducts.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product,addToCart:addToCart},product.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No products found\"})}),filteredProducts.length>itemsPerPage&&/*#__PURE__*/_jsxs(\"div\",{className:\"navigation-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentIndex(prev=>Math.max(0,prev-itemsPerPage)),disabled:currentIndex===0// Disable if at the first page\n,children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentIndex(prev=>Math.min(filteredProducts.length-itemsPerPage,prev+itemsPerPage)),disabled:currentIndex+itemsPerPage>=filteredProducts.length// Disable if at the last page\n,children:\"Next\"})]})]})});};export default ProductSlider;","map":{"version":3,"names":["React","useState","useEffect","ProductCard","Spinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductSlider","_ref","addToCart","searchQuery","products","setProducts","loading","setLoading","currentIndex","setCurrentIndex","itemsPerPage","fetchProducts","response","fetch","process","env","REACT_APP_API_URL","ok","Error","data","json","error","console","alert","filteredProducts","filter","product","name","toLowerCase","includes","currentProducts","slice","children","className","length","map","id","onClick","prev","Math","max","disabled","min"],"sources":["/Users/touchbar/Documents/GitHub/medmore-website/src/component/product/product.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ProductCard from \"./productcard\"; // Ensure the correct case is used\nimport Spinner from \"../spinner\"; // Ensure the correct case is used\nimport \"./product.css\";\n\nconst ProductSlider = ({ addToCart, searchQuery }) => {\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const itemsPerPage = 10;\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            setLoading(true);\n            try {\n                const response = await fetch(`${process.env.REACT_APP_API_URL}/products`);\n                if (!response.ok) throw new Error(\"Failed to fetch products\");\n                const data = await response.json();\n                setProducts(data);\n            } catch (error) {\n                console.error(\"Error fetching products:\", error);\n                alert(\"Could not fetch products. Please try again later.\");\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchProducts();\n    }, []);\n\n    const filteredProducts = products.filter((product) =>\n        product.name.toLowerCase().includes(searchQuery.toLowerCase())\n    );\n\n    const currentProducts = filteredProducts.slice(\n        currentIndex,\n        currentIndex + itemsPerPage\n    );\n\n    return (\n        <div>\n            {loading ? (\n                <Spinner />\n            ) : (\n                <>\n                    <div className=\"product-container\">\n                        {currentProducts.length > 0 ? (\n                            currentProducts.map((product) => (\n                                <ProductCard\n                                    key={product.id}\n                                    product={product}\n                                    addToCart={addToCart}\n                                />\n                            ))\n                        ) : (\n                            <p>No products found</p>\n                        )}\n                    </div>\n                    {filteredProducts.length > itemsPerPage && (\n                        <div className=\"navigation-buttons\">\n                            <button\n                                onClick={() => setCurrentIndex((prev) => Math.max(0, prev - itemsPerPage))}\n                                disabled={currentIndex === 0} // Disable if at the first page\n                            >\n                                Previous\n                            </button>\n                            <button\n                                onClick={() =>\n                                    setCurrentIndex((prev) =>\n                                        Math.min(filteredProducts.length - itemsPerPage, prev + itemsPerPage)\n                                    )\n                                }\n                                disabled={currentIndex + itemsPerPage >= filteredProducts.length} // Disable if at the last page\n                            >\n                                Next\n                            </button>\n                        </div>\n                    )}\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default ProductSlider;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}