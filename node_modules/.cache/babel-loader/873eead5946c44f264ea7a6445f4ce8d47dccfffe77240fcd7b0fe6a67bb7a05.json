{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import{useNavigate}from'react-router-dom';import Chart from'chart.js/auto';import Spinner from'../../component/spinner';import axios from'axios';import'./admin.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminDashboard=()=>{const[orders,setOrders]=useState([]);const[alertMessage,setAlertMessage]=useState(\"\");const[products,setProducts]=useState([]);const[salesData,setSalesData]=useState({sales_count:0,total:0,total_buyer:0});const[loading,setLoading]=useState(true);const[activeMenu,setActiveMenu]=useState('Dashboard');const[productForm,setProductForm]=useState({id:'',name:'',price:'',image:null});// Change img to null\nconst[isEditing,setIsEditing]=useState(false);const chartRef=useRef(null);const[fadeOut,setFadeOut]=useState(false);const navigate=useNavigate();const[isAddingProduct,setIsAddingProduct]=useState(false);// New state for spinner\nconst handleLogout=async()=>{try{const response=await fetch(`${process.env.REACT_APP_API_URL}/logout`,{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include'});if(!response.ok){throw new Error('Failed to log out');}const data=await response.json();console.log(data.message);navigate('/');}catch(error){console.error('Logout error:',error);alert('Failed to log out. Please try again.');setAlertMessage('Failed to log out. Please try again.');}};useEffect(()=>{const fetchData=async()=>{try{const productsResponse=await fetch(`${process.env.REACT_APP_API_URL}/products`);const productsData=await productsResponse.json();const salesResponse=await fetch(`${process.env.REACT_APP_API_URL}/sales`);const salesData=await salesResponse.json();const ordersResponse=await fetch(`${process.env.REACT_APP_API_URL}/orders`);const ordersData=await ordersResponse.json();console.log('Fetched orders:',ordersData);setProducts(productsData);setSalesData(salesData);setOrders(ordersData);}catch(err){console.error('Failed to fetch data',err);}finally{setLoading(false);}};fetchData();},[]);useEffect(()=>{if(chartRef.current){chartRef.current.destroy();}if(salesData.sales_count>0&&activeMenu==='Dashboard'){const ctx=document.getElementById('salesChart').getContext('2d');chartRef.current=new Chart(ctx,{type:'line',data:{labels:['Jan','Feb','Mar','Apr','May'],datasets:[{label:'Sales ($)',data:[1200,1900,3000,5000,2400],borderColor:'rgba(75, 192, 192, 1)',backgroundColor:'rgba(75, 192, 192, 0.2)',tension:0.4}]},options:{responsive:true,plugins:{legend:{position:'top'}}}});}return()=>{if(chartRef.current){chartRef.current.destroy();}};},[salesData,activeMenu]);if(loading)return/*#__PURE__*/_jsx(Spinner,{});const handleInputChange=e=>{const{name,value}=e.target;setProductForm({...productForm,[name]:value});};const handleFileChange=e=>{const file=e.target.files[0];console.log('Selected File:',file);if(file){setProductForm(prevState=>({...prevState,image:file// Directly set the File object\n}));}};const handleAddProduct=async e=>{e.preventDefault();// Validation\nif(!productForm.name||!productForm.price){alert('Please enter product name and price');return;}if(!productForm.image){alert('Please select an image');return;}// const formData = new FormData();\n// formData.append('image', productForm.image);\n// console.log('Form Data:', formData);\n// for (const [key, value] of formData.entries()) {\n//     console.log(`${key}:`, value);\n// }\nconst formData=new FormData();formData.append('image',productForm.image);formData.append('name',productForm.name);formData.append('price',productForm.price);try{const response=await axios.post(`${process.env.REACT_APP_API_URL}/products`,formData,{headers:{'Content-Type':'multipart/form-data'}});// Correct way to handle axios response\nconsole.log('New Product Added:',response.data);// Update products list\nsetProducts(prevProducts=>[...prevProducts,response.data]);// Reset form\nsetProductForm({id:'',name:'',price:'',image:null});setAlertMessage('Product added successfully!');}catch(error){console.log(error.message);console.error('Complete Error:',error.response?error.response.data:error.message);alert();setAlertMessage(`Failed to add product: ${error.response?error.response.data.error:error.message}`);}};const handleEditProduct=product=>{setProductForm({id:product.id,name:product.name,price:product.price,image:null});setIsEditing(true);};const handleUpdateProduct=async e=>{e.preventDefault();const formData=new FormData();formData.append('name',productForm.name);formData.append('price',productForm.price);if(productForm.image){formData.append('image',productForm.image);}console.log('Form Data:',formData);for(const[key,value]of formData.entries()){console.log(`${key}:`,value);}try{const response=await axios.put(`${process.env.REACT_APP_API_URL}/products/${productForm.id}`,formData,{headers:{'Content-Type':'multipart/form-data'}});// Error: response.ok doesn't exist on axios response\n// Instead, check response status\nif(response.status!==200){throw new Error('Failed to update product');}// Error: response.json() doesn't exist on axios\n// Use response.data instead\nconst updatedProduct=response.data;setProducts(prevProducts=>prevProducts.map(product=>product.id===updatedProduct.id?updatedProduct:product));setProductForm({id:'',name:'',price:'',image:null});setIsEditing(false);setAlertMessage('Product Updated successfully!');}catch(error){console.error('Error updating product:',error);}};const handleDeleteProduct=async id=>{try{const response=await fetch(`${process.env.REACT_APP_API_URL}/products/${id}`,{method:'DELETE'});if(!response.ok){throw new Error('Failed to delete product');}setProducts(prevProducts=>prevProducts.filter(product=>product.id!==id));}catch(error){console.error('Error deleting product:',error);}};const getTopSellingProducts=()=>{const productSales=products.map(product=>{const totalSales=orders.reduce((acc,order)=>{if(order.product_id===product.id){return acc+order.amount;}return acc;},0);return{...product,totalSales};});return productSales.sort((a,b)=>b.totalSales-a.totalSales).slice(0,5);};const topSellingProducts=getTopSellingProducts();const getOrderSummary=()=>{return orders.reduce((acc,order)=>{acc[order.payment_status]=(acc[order.payment_status]||0)+1;return acc;},{});};const orderSummary=getOrderSummary();useEffect(()=>{// Only set a timer if there's an alert message\nif(alertMessage){const timer=setTimeout(()=>{setFadeOut(true);},5000);return()=>clearTimeout(timer);}else{// If there's no alertMessage, reset fadeOut state immediately.\nsetFadeOut(false);}},[alertMessage]);return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{onClick:()=>setActiveMenu('Dashboard'),className:activeMenu==='Dashboard'?'active':'',children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"li\",{onClick:()=>setActiveMenu('Products'),className:activeMenu==='Products'?'active':'',children:\"Products\"}),/*#__PURE__*/_jsx(\"li\",{onClick:()=>setActiveMenu('Orders'),className:activeMenu==='Orders'?'active':'',children:\"Orders\"}),/*#__PURE__*/_jsx(\"li\",{onClick:handleLogout,className:\"logout-button\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"dashboard-content\",children:[activeMenu==='Dashboard'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"analytics\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center my-3\",children:\"Analytics Overview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-cards mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Revenue\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xA3\",salesData.total]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Orders\"}),/*#__PURE__*/_jsx(\"p\",{children:salesData.sales_count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Customers\"}),/*#__PURE__*/_jsx(\"p\",{children:salesData.total_buyer})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Order Summary by Status\"}),/*#__PURE__*/_jsx(\"ul\",{children:Object.entries(orderSummary).map(_ref=>{let[status,count]=_ref;return/*#__PURE__*/_jsxs(\"li\",{children:[status,\": \",count]},status);})})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"chart\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sales Report\"}),/*#__PURE__*/_jsx(\"canvas\",{id:\"salesChart\",width:\"400\",height:\"200\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"top-products\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Top Selling Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"top-products-grid\",children:topSellingProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"top-product-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"Price: \\xA3\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"total-sales\",children:[\"Total Sales: \",product.totalSales]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"view-button\",children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:()=>handleEditProduct(product),children:\"Edit\"})]})]},product.id))})]})]}),activeMenu==='Products'&&/*#__PURE__*/_jsxs(\"section\",{className:\"products\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Product List\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:isEditing?handleUpdateProduct:handleAddProduct,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Product Name\",value:productForm.name,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",placeholder:\"Product Price\",value:productForm.price,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"file\"// Change to file input\n,name:\"image\",placeholder:\"Product Image\",accept:\"image/*\"// Accept image files\n,onChange:handleFileChange// Handle file change\n,required:!isEditing// Make required only if not editing\n}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:isEditing?'Update Product':'Add Product'}),isEditing&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setProductForm({id:'',name:'',price:'',img:null});setIsEditing(false);},children:\"Cancel\"})]}),isAddingProduct&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.img,alt:product.name}),/*#__PURE__*/_jsx(\"h4\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \\xA3\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditProduct(product),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteProduct(product.id),children:\"Delete\"})]})]},product.id))})]}),activeMenu==='Orders'&&/*#__PURE__*/_jsxs(\"section\",{className:\"orders\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order List\"}),orders.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"orders-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Order ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Currency\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Payment Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created At\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Updated At\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order.id}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\xA3\",order.amount]}),/*#__PURE__*/_jsx(\"td\",{children:order.currency}),/*#__PURE__*/_jsx(\"td\",{children:order.email}),/*#__PURE__*/_jsx(\"td\",{children:order.address}),/*#__PURE__*/_jsx(\"td\",{children:order.payment_status}),/*#__PURE__*/_jsx(\"td\",{children:new Date(order.created_at).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:new Date(order.updated_at).toLocaleString()})]},order.id))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No orders available.\"})]}),alertMessage&&/*#__PURE__*/_jsx(\"div\",{className:`alert-popup ${fadeOut?\"alert-popup-exit\":\"\"}`,children:alertMessage})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useState","useRef","useNavigate","Chart","Spinner","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminDashboard","orders","setOrders","alertMessage","setAlertMessage","products","setProducts","salesData","setSalesData","sales_count","total","total_buyer","loading","setLoading","activeMenu","setActiveMenu","productForm","setProductForm","id","name","price","image","isEditing","setIsEditing","chartRef","fadeOut","setFadeOut","navigate","isAddingProduct","setIsAddingProduct","handleLogout","response","fetch","process","env","REACT_APP_API_URL","method","headers","credentials","ok","Error","data","json","console","log","message","error","alert","fetchData","productsResponse","productsData","salesResponse","ordersResponse","ordersData","err","current","destroy","ctx","document","getElementById","getContext","type","labels","datasets","label","borderColor","backgroundColor","tension","options","responsive","plugins","legend","position","handleInputChange","e","value","target","handleFileChange","file","files","prevState","handleAddProduct","preventDefault","formData","FormData","append","post","prevProducts","handleEditProduct","product","handleUpdateProduct","key","entries","put","status","updatedProduct","map","handleDeleteProduct","filter","getTopSellingProducts","productSales","totalSales","reduce","acc","order","product_id","amount","sort","a","b","slice","topSellingProducts","getOrderSummary","payment_status","orderSummary","timer","setTimeout","clearTimeout","className","children","onClick","Object","_ref","count","width","height","onSubmit","placeholder","onChange","required","accept","img","src","alt","length","currency","email","address","Date","created_at","toLocaleString","updated_at"],"sources":["/Users/touchbar/Documents/GitHub/medmore-website/src/pages/adminDashboard/admin.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Chart from 'chart.js/auto';\nimport Spinner from '../../component/spinner'; \nimport axios from 'axios';\nimport './admin.css';\n\nconst AdminDashboard = () => {\n    const [orders, setOrders] = useState([]);\n    const [alertMessage, setAlertMessage] = useState(\"\");\n    const [products, setProducts] = useState([]);\n    const [salesData, setSalesData] = useState({ sales_count: 0, total: 0, total_buyer: 0 });\n    const [loading, setLoading] = useState(true);\n    const [activeMenu, setActiveMenu] = useState('Dashboard'); \n    const [productForm, setProductForm] = useState({ id: '', name: '', price: '', image: null }); // Change img to null\n    const [isEditing, setIsEditing] = useState(false);\n    const chartRef = useRef(null); \n    const [fadeOut, setFadeOut] = useState(false);\n    const navigate = useNavigate();\n    const [isAddingProduct, setIsAddingProduct] = useState(false); // New state for spinner\n\n\n    const handleLogout = async () => {\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}/logout`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                credentials: 'include', \n            });\n    \n            if (!response.ok) {\n                throw new Error('Failed to log out');\n            }\n    \n            const data = await response.json();\n            console.log(data.message); \n            navigate('/'); \n        } catch (error) {\n            console.error('Logout error:', error);\n            alert('Failed to log out. Please try again.');  \n          setAlertMessage('Failed to log out. Please try again.');\n        }\n    };\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const productsResponse = await fetch(`${process.env.REACT_APP_API_URL}/products`);\n                const productsData = await productsResponse.json();\n\n                const salesResponse = await fetch(`${process.env.REACT_APP_API_URL}/sales`);\n                const salesData = await salesResponse.json();\n\n                const ordersResponse = await fetch(`${process.env.REACT_APP_API_URL}/orders`);\n                const ordersData = await ordersResponse.json();\n                console.log('Fetched orders:', ordersData);\n\n                setProducts(productsData);\n                setSalesData(salesData);\n                setOrders(ordersData);\n            } catch (err) {\n                console.error('Failed to fetch data', err);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchData();\n    }, []);\n\n    useEffect(() => {\n        if (chartRef.current) {\n            chartRef.current.destroy();\n        }\n\n        if (salesData.sales_count > 0 && activeMenu === 'Dashboard') {\n            const ctx = document.getElementById('salesChart').getContext('2d');\n            chartRef.current = new Chart(ctx, {\n                type: 'line',\n                data: {\n                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May'], \n                    datasets: [\n                        {\n                            label: 'Sales ($)',\n                            data: [1200, 1900, 3000, 5000, 2400], \n                            borderColor: 'rgba(75, 192, 192, 1)',\n                            backgroundColor: 'rgba(75, 192, 192, 0.2)',\n                            tension: 0.4,\n                        },\n                    ],\n                },\n                options: {\n                    responsive: true,\n                    plugins: {\n                        legend: { position: 'top' },\n                    },\n                },\n            });\n        }\n\n        return () => {\n            if (chartRef.current) {\n                chartRef.current.destroy();\n            }\n        };\n    }, [salesData, activeMenu]);\n\n    if (loading) return <Spinner />;\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setProductForm({ ...productForm, [name]: value });\n    };\n\n    const handleFileChange = (e) => {\n        const file = e.target.files[0];\n        console.log('Selected File:', file);\n        \n        if (file) {\n            setProductForm(prevState => ({\n                ...prevState,\n                image: file // Directly set the File object\n            }));\n        }\n    };\n    \n    const handleAddProduct = async (e) => {\n        e.preventDefault();\n    \n        // Validation\n        if (!productForm.name || !productForm.price) {\n            alert('Please enter product name and price');\n            return;\n        }\n    \n        if (!productForm.image) {\n            alert('Please select an image');\n            return;\n        }\n    \n        // const formData = new FormData();\n     \n        // formData.append('image', productForm.image);\n        // console.log('Form Data:', formData);\n        \n        // for (const [key, value] of formData.entries()) {\n        //     console.log(`${key}:`, value);\n        // }\n        const formData = new FormData();\n        formData.append('image', productForm.image);\n        formData.append('name', productForm.name);\n        formData.append('price', productForm.price);\n        \n\n    \n        try {\n\n       \n            const response = await axios.post(\n                `${process.env.REACT_APP_API_URL}/products`, \n                formData, \n                {\n                    headers: {\n            \n                        'Content-Type': 'multipart/form-data',\n                    }\n                }\n            );\n    \n            // Correct way to handle axios response\n            console.log('New Product Added:', response.data);\n    \n            // Update products list\n            setProducts((prevProducts) => [...prevProducts, response.data]);\n            \n            // Reset form\n            setProductForm({ id: '', name: '', price: '', image: null });\n            \n            setAlertMessage('Product added successfully!');\n    \n        } catch (error) {\n            console.log(error.message);\n            console.error('Complete Error:', error.response ? error.response.data : error.message);\n            alert();\n            setAlertMessage(`Failed to add product: ${error.response ? error.response.data.error : error.message}`);\n        }\n    };\n    \n    const handleEditProduct = (product) => {\n        setProductForm({ id: product.id, name: product.name, price: product.price, image: null });\n        setIsEditing(true);\n    };\n\n    const handleUpdateProduct = async (e) => {\n        e.preventDefault();\n        const formData = new FormData();\n        formData.append('name', productForm.name);\n        formData.append('price', productForm.price);\n        if (productForm.image) {\n            formData.append('image', productForm.image);\n        }\n        console.log('Form Data:', formData);\n        \n        for (const [key, value] of formData.entries()) {\n            console.log(`${key}:`, value);\n        }\n    \n        try {\n            const response = await axios.put(\n                `${process.env.REACT_APP_API_URL}/products/${productForm.id}`, \n                formData, \n                {\n                    headers: {\n                        'Content-Type': 'multipart/form-data',\n                    }\n                }\n            );\n    \n            // Error: response.ok doesn't exist on axios response\n            // Instead, check response status\n            if (response.status !== 200) {\n                throw new Error('Failed to update product');\n            }\n    \n            // Error: response.json() doesn't exist on axios\n            // Use response.data instead\n            const updatedProduct = response.data;\n    \n            setProducts((prevProducts) =>\n                prevProducts.map((product) =>\n                    product.id === updatedProduct.id ? updatedProduct : product\n                )\n            );\n    \n            setProductForm({ id: '', name: '', price: '', image: null });\n            setIsEditing(false);\n            setAlertMessage('Product Updated successfully!');\n        } catch (error) {\n            console.error('Error updating product:', error);\n        }\n    };\n\n    const handleDeleteProduct = async (id) => {\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}/products/${id}`, {\n                method: 'DELETE',\n            });\n\n            if (!response.ok) {\n                throw new Error('Failed to delete product');\n            }\n\n            setProducts((prevProducts) => prevProducts.filter((product) => product.id !== id));\n        } catch (error) {\n            console.error('Error deleting product:', error);\n        }\n    };\n\n    const getTopSellingProducts = () => {\n        const productSales = products.map(product => {\n            const totalSales = orders.reduce((acc, order) => {\n                if (order.product_id === product.id) {\n                    return acc + order.amount;\n                }\n                return acc;\n            }, 0);\n            return { ...product, totalSales };\n        });\n        return productSales.sort((a, b) => b.totalSales - a.totalSales).slice(0, 5);\n    };\n\n    const topSellingProducts = getTopSellingProducts();\n\n    const getOrderSummary = () => {\n        return orders.reduce((acc, order) => {\n            acc[order.payment_status] = (acc[order.payment_status] || 0) + 1;\n            return acc;\n        }, {});\n    };\n\n    const orderSummary = getOrderSummary();\n\n    useEffect(() => {\n        // Only set a timer if there's an alert message\n        if (alertMessage) {\n            const timer = setTimeout(() => {\n                setFadeOut(true);\n            }, 5000);\n\n            return () => clearTimeout(timer);\n        } else {\n            // If there's no alertMessage, reset fadeOut state immediately.\n            setFadeOut(false);\n        }\n    }, [alertMessage]);\n\n    return (\n        <div className=\"admin-dashboard\">\n            <aside className=\"sidebar\">\n                <h2>Admin Dashboard</h2>\n                <ul>\n                    <li onClick={() => setActiveMenu('Dashboard')} className={activeMenu === 'Dashboard' ? 'active' : ''}>Dashboard</li>\n                    <li onClick={() => setActiveMenu('Products')} className={activeMenu === 'Products' ? 'active' : ''}>Products</li>\n                    <li onClick={() => setActiveMenu('Orders')} className={activeMenu === 'Orders' ? 'active' : ''}>Orders</li>\n                    <li onClick={handleLogout} className=\"logout-button\">Logout</li> \n                </ul>\n            </aside>\n\n            <main className=\"dashboard-content\">\n                {activeMenu === 'Dashboard' && (\n                    <>\n                        <section className=\"analytics\">\n                            <h3 className='text-center my-3'>Analytics Overview</h3>\n                            <div className=\"analytics-cards mt-2\">\n                                <div className=\"analytics-card\">\n                                    <h4>Total Revenue</h4>\n                                    <p>£{salesData.total}</p>\n                                </div>\n                                <div className=\"analytics-card\">\n                                    <h4>Total Orders</h4>\n                                    <p>{salesData.sales_count}</p>\n                                </div>\n                                <div className=\"analytics-card\">\n                                    <h4>Total Customers</h4>\n                                    <p>{salesData.total_buyer}</p>\n                                </div>\n                            </div>\n                            <div className=\"order-summary\">\n                                <h4>Order Summary by Status</h4>\n                                <ul>\n                                    {Object.entries(orderSummary).map(([status, count]) => (\n                                        <li key={status}>{status}: {count}</li>\n                                    ))}\n                                </ul>\n                            </div>\n                        </section>\n\n                        <section className=\"chart\">\n                            <h3>Sales Report</h3>\n                            <canvas id=\"salesChart\" width=\"400\" height=\"200\"></canvas>\n                        </section>\n\n                        <section className=\"top-products\">\n                            <h3>Top Selling Products</h3>\n                            <div className=\"top-products-grid\">\n                                {topSellingProducts.map(product => (\n                                    <div className=\"top-product-card\" key={product.id}>\n                                        <h4>{product.name}</h4>\n                                        <p className=\"product-price\">Price: £{product.price}</p>\n                                        <p className=\"total-sales\">Total Sales: {product.totalSales}</p>\n                                        <div className=\"actions\">\n                                            <button className=\"view-button\">View</button>\n                                            <button className=\"edit-button\" onClick={() => handleEditProduct(product)}>Edit</button>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        </section>\n                    </>\n                )}\n\n                {activeMenu === 'Products' && (\n                    <section className=\"products\">\n                        <h3>Product List</h3>\n                        <form onSubmit={isEditing ? handleUpdateProduct : handleAddProduct}>\n                            <input\n                                type=\"text\"\n                                name=\"name\"\n                                placeholder=\"Product Name\"\n                                value={productForm.name}\n                                onChange={handleInputChange}\n                                required\n                            />\n                            <input\n                                type=\"number\"\n                                name=\"price\"\n                                placeholder=\"Product Price\"\n                                value={productForm.price}\n                                onChange={handleInputChange}\n                                required\n                            />\n\n                            <input\n                                type=\"file\" // Change to file input\n                                name=\"image\"\n        \n                                placeholder=\"Product Image\"\n                                accept=\"image/*\" // Accept image files\n                                onChange={handleFileChange} // Handle file change\n                                required={!isEditing} // Make required only if not editing\n                            />\n                            <button type=\"submit\">{isEditing ? 'Update Product' : 'Add Product'}</button>\n                            {isEditing && (\n                                <button type=\"button\" onClick={() => { setProductForm({ id: '', name: '', price: '', img: null }); setIsEditing(false); }}>Cancel</button>\n                            )}\n                        </form>\n                         {isAddingProduct && <Spinner />}\n                        <div className=\"products-grid\">\n                     \n                            {products.map((product) => (\n                                <div key={product.id} className=\"product-card\">\n                                    <img src={product.img} alt={product.name} />\n                                    <h4>{product.name}</h4>\n                                    <p>Price: £{product.price}</p>\n                                    <div className=\"actions\">\n                                        <button onClick={() => handleEditProduct(product)}>Edit</button>\n                                        <button onClick={() => handleDeleteProduct(product.id)}>Delete</button>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </section>\n                )}\n\n                {activeMenu === 'Orders' && (\n                    <section className=\"orders\">\n                        <h3>Order List</h3>\n                        {orders.length > 0 ? (\n                            <table className=\"orders-table\">\n                                <thead>\n                                    <tr>\n                                        <th>Order ID</th>\n                                        <th>Amount</th>\n                                        <th>Currency</th>\n                                        <th>Email</th>\n                                        <th>Address</th>\n                                        <th>Payment Status</th>\n                                        <th>Created At</th>\n                                        <th>Updated At</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {orders.map((order) => (\n                                        <tr key={order.id}>\n                                            <td>{order.id}</td>\n                                            <td>£{order.amount}</td>\n                                            <td>{order.currency}</td>\n                                            <td>{order.email}</td>\n                                            <td>{order.address}</td>\n                                            <td>{order.payment_status}</td>\n                                            <td>{new Date(order.created_at).toLocaleString()}</td>\n                                            <td>{new Date(order.updated_at).toLocaleString()}</td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        ) : (\n                            <p>No orders available.</p>\n                        )}\n                    </section>\n                )}\n                  {alertMessage && (\n                    <div className={`alert-popup ${fadeOut ? \"alert-popup-exit\" : \"\"}`}>\n                        {alertMessage}\n                    </div>\n                )}\n            </main>\n        </div>\n    );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}