{"version":3,"file":"static/js/335.e4e2e349.chunk.js","mappings":";6HAEe,SAASA,EAAKC,EAAIC,GAC/B,OAAO,WACL,OAAOD,EAAGE,MAAMD,EAASE,UAC3B,CACF,wICAA,MAAOC,SAAQA,GAAIC,OAAOC,WACpB,eAACC,GAAkBF,OAEnBG,GAAUC,EAGbJ,OAAOK,OAAO,MAHQC,IACrB,MAAMC,EAAMR,EAASS,KAAKF,GAC1B,OAAOF,EAAMG,KAASH,EAAMG,GAAOA,EAAIE,MAAM,GAAI,GAAGC,cAAc,GAFvD,IAACN,EAKhB,MAAMO,EAAcC,IAClBA,EAAOA,EAAKF,cACJJ,GAAUH,EAAOG,KAAWM,GAGhCC,EAAaD,GAAQN,UAAgBA,IAAUM,GAS/C,QAACE,GAAWC,MASZC,EAAcH,EAAW,aAqB/B,MAAMI,EAAgBN,EAAW,eA2BjC,MAAMO,EAAWL,EAAW,UAQtBM,EAAaN,EAAW,YASxBO,EAAWP,EAAW,UAStBQ,EAAYf,GAAoB,OAAVA,GAAmC,kBAAVA,EAiB/CgB,EAAiBC,IACrB,GAAoB,WAAhBpB,EAAOoB,GACT,OAAO,EAGT,MAAMtB,EAAYC,EAAeqB,GACjC,OAAsB,OAAdtB,GAAsBA,IAAcD,OAAOC,WAAkD,OAArCD,OAAOE,eAAeD,OAA0BuB,OAAOC,eAAeF,MAAUC,OAAOE,YAAYH,EAAI,EAUnKI,EAAShB,EAAW,QASpBiB,EAASjB,EAAW,QASpBkB,EAASlB,EAAW,QASpBmB,EAAanB,EAAW,YAsCxBoB,EAAoBpB,EAAW,oBAE9BqB,EAAkBC,EAAWC,EAAYC,GAAa,CAAC,iBAAkB,UAAW,WAAY,WAAWC,IAAIzB,GA2BtH,SAAS0B,EAAQC,EAAK3C,GAA+B,IAM/C4C,EACAC,GAPoB,WAACC,GAAa,GAAM3C,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAG,CAAC,EAEhD,GAAY,OAARwC,GAA+B,qBAARA,EAa3B,GALmB,kBAARA,IAETA,EAAM,CAACA,IAGLxB,EAAQwB,GAEV,IAAKC,EAAI,EAAGC,EAAIF,EAAII,OAAQH,EAAIC,EAAGD,IACjC5C,EAAGa,KAAK,KAAM8B,EAAIC,GAAIA,EAAGD,OAEtB,CAEL,MAAMM,EAAOH,EAAazC,OAAO6C,oBAAoBP,GAAOtC,OAAO4C,KAAKN,GAClEQ,EAAMF,EAAKF,OACjB,IAAIK,EAEJ,IAAKR,EAAI,EAAGA,EAAIO,EAAKP,IACnBQ,EAAMH,EAAKL,GACX5C,EAAGa,KAAK,KAAM8B,EAAIS,GAAMA,EAAKT,EAEjC,CACF,CAEA,SAASU,EAAQV,EAAKS,GACpBA,EAAMA,EAAIrC,cACV,MAAMkC,EAAO5C,OAAO4C,KAAKN,GACzB,IACIW,EADAV,EAAIK,EAAKF,OAEb,KAAOH,KAAM,GAEX,GADAU,EAAOL,EAAKL,GACRQ,IAAQE,EAAKvC,cACf,OAAOuC,EAGX,OAAO,IACT,CAEA,MAAMC,EAEsB,qBAAfC,WAAmCA,WACvB,qBAATC,KAAuBA,KAA0B,qBAAXC,OAAyBA,OAASC,OAGlFC,EAAoBC,IAAaxC,EAAYwC,IAAYA,IAAYN,EAoD3E,MA8HMO,GAAgBC,EAKG,qBAAfC,YAA8BzD,EAAeyD,YAH9CrD,GACEoD,GAAcpD,aAAiBoD,GAHrB,IAACA,EAetB,MAiCME,EAAajD,EAAW,mBAWxBkD,EAAiB,CAACC,IAAA,IAAC,eAACD,GAAeC,EAAA,MAAK,CAACxB,EAAKyB,IAASF,EAAerD,KAAK8B,EAAKyB,EAAK,EAApE,CAAsE/D,OAAOC,WAS9F+D,EAAWrD,EAAW,UAEtBsD,EAAoBA,CAAC3B,EAAK4B,KAC9B,MAAMC,EAAcnE,OAAOoE,0BAA0B9B,GAC/C+B,EAAqB,CAAC,EAE5BhC,EAAQ8B,GAAa,CAACG,EAAYC,KAChC,IAAIC,GAC2C,KAA1CA,EAAMN,EAAQI,EAAYC,EAAMjC,MACnC+B,EAAmBE,GAAQC,GAAOF,EACpC,IAGFtE,OAAOyE,iBAAiBnC,EAAK+B,EAAmB,EAsD5CK,EAAQ,6BAERC,EAAQ,aAERC,EAAW,CACfD,QACAD,QACAG,YAAaH,EAAQA,EAAMI,cAAgBH,GAwB7C,MA+BMI,EAAYpE,EAAW,iBAQvBqE,EAAgB,EAAEC,EAAuBC,KAC7C,OAAID,EACKE,aAGFD,GAAyBE,EAW7B,SAASC,KAAKC,WAXsBC,EAWV,GAV3BrC,EAAQsC,iBAAiB,WAAWC,IAAoB,IAAnB,OAACC,EAAM,KAAEC,GAAKF,EAC7CC,IAAWxC,GAAWyC,IAASP,GACjCG,EAAU7C,QAAU6C,EAAUK,OAAVL,EACtB,IACC,GAEKM,IACNN,EAAUO,KAAKD,GACf3C,EAAQ6C,YAAYX,EAAO,IAAI,GAECS,GAAOG,WAAWH,GAXxB,IAAET,EAAOG,CAYxC,EAjBqB,CAkBI,oBAAjBJ,aACPhE,EAAW+B,EAAQ6C,cAGfE,EAAiC,qBAAnBC,eAClBA,eAAexG,KAAKwD,GAAgC,qBAAZiD,SAA2BA,QAAQC,UAAYpB,EAIzF,GACElE,UACAG,gBACAoF,SAlpBF,SAAkB9E,GAChB,OAAe,OAARA,IAAiBP,EAAYO,IAA4B,OAApBA,EAAI+E,cAAyBtF,EAAYO,EAAI+E,cACpFnF,EAAWI,EAAI+E,YAAYD,WAAa9E,EAAI+E,YAAYD,SAAS9E,EACxE,EAgpBEgF,WApgBkBjG,IAClB,IAAIkG,EACJ,OAAOlG,IACgB,oBAAbmG,UAA2BnG,aAAiBmG,UAClDtF,EAAWb,EAAMoG,UACY,cAA1BF,EAAOrG,EAAOG,KAEL,WAATkG,GAAqBrF,EAAWb,EAAMP,WAAkC,sBAArBO,EAAMP,YAG/D,EA2fD4G,kBA9nBF,SAA2BpF,GACzB,IAAIqF,EAMJ,OAJEA,EAD0B,qBAAhBC,aAAiCA,YAAYC,OAC9CD,YAAYC,OAAOvF,GAElBA,GAASA,EAAIwF,QAAY9F,EAAcM,EAAIwF,QAEhDH,CACT,EAunBE1F,WACAE,WACA4F,UA9kBgB1G,IAAmB,IAAVA,IAA4B,IAAVA,EA+kB3Ce,WACAC,gBACAU,mBACAC,YACAC,aACAC,YACAnB,cACAW,SACAC,SACAC,SACAmC,WACA7C,aACA8F,SA9hBgB1F,GAAQF,EAASE,IAAQJ,EAAWI,EAAI2F,MA+hBxDnF,oBACA0B,eACA3B,aACAO,UACA8E,MAhaF,SAASA,IACP,MAAM,SAACC,GAAY7D,EAAiB8D,OAASA,MAAQ,CAAC,EAChDT,EAAS,CAAC,EACVU,EAAcA,CAAC/F,EAAKwB,KACxB,MAAMwE,EAAYH,GAAYpE,EAAQ4D,EAAQ7D,IAAQA,EAClDzB,EAAcsF,EAAOW,KAAejG,EAAcC,GACpDqF,EAAOW,GAAaJ,EAAMP,EAAOW,GAAYhG,GACpCD,EAAcC,GACvBqF,EAAOW,GAAaJ,EAAM,CAAC,EAAG5F,GACrBT,EAAQS,GACjBqF,EAAOW,GAAahG,EAAId,QAExBmG,EAAOW,GAAahG,CACtB,EAGF,IAAK,IAAIgB,EAAI,EAAGC,EAAI1C,UAAU4C,OAAQH,EAAIC,EAAGD,IAC3CzC,UAAUyC,IAAMF,EAAQvC,UAAUyC,GAAI+E,GAExC,OAAOV,CACT,EA6YEY,OAjYa,SAACC,EAAGC,EAAG9H,GAA8B,IAArB,WAAC6C,GAAW3C,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAE,CAAC,EAQ5C,OAPAuC,EAAQqF,GAAG,CAACnG,EAAKwB,KACXnD,GAAWuB,EAAWI,GACxBkG,EAAE1E,GAAOrD,EAAK6B,EAAK3B,GAEnB6H,EAAE1E,GAAOxB,CACX,GACC,CAACkB,eACGgF,CACT,EAyXEE,KA7fYpH,GAAQA,EAAIoH,KACxBpH,EAAIoH,OAASpH,EAAIqH,QAAQ,qCAAsC,IA6f/DC,SAjXgBC,IACc,QAA1BA,EAAQC,WAAW,KACrBD,EAAUA,EAAQrH,MAAM,IAEnBqH,GA8WPE,SAlWeA,CAAC1B,EAAa2B,EAAkBC,EAAO/D,KACtDmC,EAAYrG,UAAYD,OAAOK,OAAO4H,EAAiBhI,UAAWkE,GAClEmC,EAAYrG,UAAUqG,YAAcA,EACpCtG,OAAOmI,eAAe7B,EAAa,QAAS,CAC1C8B,MAAOH,EAAiBhI,YAE1BiI,GAASlI,OAAOqI,OAAO/B,EAAYrG,UAAWiI,EAAM,EA6VpDI,aAjVmBA,CAACC,EAAWC,EAASC,EAAQC,KAChD,IAAIR,EACA3F,EACAwB,EACJ,MAAM4E,EAAS,CAAC,EAIhB,GAFAH,EAAUA,GAAW,CAAC,EAEL,MAAbD,EAAmB,OAAOC,EAE9B,EAAG,CAGD,IAFAN,EAAQlI,OAAO6C,oBAAoB0F,GACnChG,EAAI2F,EAAMxF,OACHH,KAAM,GACXwB,EAAOmE,EAAM3F,GACPmG,IAAcA,EAAW3E,EAAMwE,EAAWC,IAAcG,EAAO5E,KACnEyE,EAAQzE,GAAQwE,EAAUxE,GAC1B4E,EAAO5E,IAAQ,GAGnBwE,GAAuB,IAAXE,GAAoBvI,EAAeqI,EACjD,OAASA,KAAeE,GAAUA,EAAOF,EAAWC,KAAaD,IAAcvI,OAAOC,WAEtF,OAAOuI,CAAO,EA2TdrI,SACAQ,aACAiI,SAjTeA,CAACrI,EAAKsI,EAAcC,KACnCvI,EAAMwI,OAAOxI,SACIoC,IAAbmG,GAA0BA,EAAWvI,EAAImC,UAC3CoG,EAAWvI,EAAImC,QAEjBoG,GAAYD,EAAanG,OACzB,MAAMsG,EAAYzI,EAAI0I,QAAQJ,EAAcC,GAC5C,OAAsB,IAAfE,GAAoBA,IAAcF,CAAQ,EA2SjDI,QAhSe5I,IACf,IAAKA,EAAO,OAAO,KACnB,GAAIQ,EAAQR,GAAQ,OAAOA,EAC3B,IAAIiC,EAAIjC,EAAMoC,OACd,IAAKtB,EAASmB,GAAI,OAAO,KACzB,MAAM4G,EAAM,IAAIpI,MAAMwB,GACtB,KAAOA,KAAM,GACX4G,EAAI5G,GAAKjC,EAAMiC,GAEjB,OAAO4G,CAAG,EAwRVC,aA7PmBA,CAAC9G,EAAK3C,KACzB,MAEM+B,GAFYY,GAAOA,EAAId,OAAOE,WAETlB,KAAK8B,GAEhC,IAAIsE,EAEJ,MAAQA,EAASlF,EAAS2H,UAAYzC,EAAO0C,MAAM,CACjD,MAAMC,EAAO3C,EAAOwB,MACpBzI,EAAGa,KAAK8B,EAAKiH,EAAK,GAAIA,EAAK,GAC7B,GAoPAC,SAzOeA,CAACC,EAAQlJ,KACxB,IAAImJ,EACJ,MAAMP,EAAM,GAEZ,KAAwC,QAAhCO,EAAUD,EAAOE,KAAKpJ,KAC5B4I,EAAIrD,KAAK4D,GAGX,OAAOP,CAAG,EAkOVvF,aACAC,eAAc,EACd+F,WAAY/F,EACZI,oBACA4F,cAzLqBvH,IACrB2B,EAAkB3B,GAAK,CAACgC,EAAYC,KAElC,GAAIpD,EAAWmB,KAA6D,IAArD,CAAC,YAAa,SAAU,UAAU2G,QAAQ1E,GAC/D,OAAO,EAGT,MAAM6D,EAAQ9F,EAAIiC,GAEbpD,EAAWiH,KAEhB9D,EAAWwF,YAAa,EAEpB,aAAcxF,EAChBA,EAAWyF,UAAW,EAInBzF,EAAW0F,MACd1F,EAAW0F,IAAM,KACf,MAAMC,MAAM,qCAAwC1F,EAAO,IAAK,GAEpE,GACA,EAmKF2F,YAhKkBA,CAACC,EAAeC,KAClC,MAAM9H,EAAM,CAAC,EAEP+H,EAAUlB,IACdA,EAAI9G,SAAQ+F,IACV9F,EAAI8F,IAAS,CAAI,GACjB,EAKJ,OAFAtH,EAAQqJ,GAAiBE,EAAOF,GAAiBE,EAAOtB,OAAOoB,GAAeG,MAAMF,IAE7E9H,CAAG,EAsJViI,YAlOkBhK,GACXA,EAAIG,cAAckH,QAAQ,yBAC/B,SAAkB4C,EAAGC,EAAIC,GACvB,OAAOD,EAAG3F,cAAgB4F,CAC5B,IA+NFC,KApJWA,OAqJXC,eAnJqBA,CAACxC,EAAOyC,IACb,MAATzC,GAAiB0C,OAAOC,SAAS3C,GAASA,GAASA,EAAQyC,EAmJlE7H,UACAM,OAAQJ,EACRK,mBACAqB,WACAoG,eA1IqB,WAAgD,IAA/CC,EAAInL,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAG,GAAIoL,EAAQpL,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAG8E,EAASC,YACjDtE,EAAM,GACV,MAAM,OAACmC,GAAUwI,EACjB,KAAOD,KACL1K,GAAO2K,EAAS7F,KAAKC,SAAW5C,EAAO,GAGzC,OAAOnC,CACT,EAmIE4K,oBA1HF,SAA6B7K,GAC3B,SAAUA,GAASa,EAAWb,EAAMoG,SAAyC,aAA9BpG,EAAMkB,OAAOC,cAA+BnB,EAAMkB,OAAOE,UAC1G,EAyHE0J,aAvHoB9I,IACpB,MAAM+I,EAAQ,IAAItK,MAAM,IAElBuK,EAAQA,CAAC5F,EAAQnD,KAErB,GAAIlB,EAASqE,GAAS,CACpB,GAAI2F,EAAMpC,QAAQvD,IAAW,EAC3B,OAGF,KAAK,WAAYA,GAAS,CACxB2F,EAAM9I,GAAKmD,EACX,MAAM6F,EAASzK,EAAQ4E,GAAU,GAAK,CAAC,EASvC,OAPArD,EAAQqD,GAAQ,CAAC0C,EAAOrF,KACtB,MAAMyI,EAAeF,EAAMlD,EAAO7F,EAAI,IACrCvB,EAAYwK,KAAkBD,EAAOxI,GAAOyI,EAAa,IAG5DH,EAAM9I,QAAKI,EAEJ4I,CACT,CACF,CAEA,OAAO7F,CAAM,EAGf,OAAO4F,EAAMhJ,EAAK,EAAE,EA4FpByC,YACA0G,WAxFkBnL,GAClBA,IAAUe,EAASf,IAAUa,EAAWb,KAAWa,EAAWb,EAAMoL,OAASvK,EAAWb,EAAMqL,OAwF9FxG,aAAcH,EACdiB,QCvuBF,SAAS2F,EAAWC,EAASC,EAAMC,EAAQC,EAASC,GAClDhC,MAAMzJ,KAAK6G,MAEP4C,MAAMiC,kBACRjC,MAAMiC,kBAAkB7E,KAAMA,KAAKf,aAEnCe,KAAKgE,OAAS,IAAIpB,OAASoB,MAG7BhE,KAAKwE,QAAUA,EACfxE,KAAK9C,KAAO,aACZuH,IAASzE,KAAKyE,KAAOA,GACrBC,IAAW1E,KAAK0E,OAASA,GACzBC,IAAY3E,KAAK2E,QAAUA,GACvBC,IACF5E,KAAK4E,SAAWA,EAChB5E,KAAK8E,OAASF,EAASE,OAASF,EAASE,OAAS,KAEtD,CAEAC,EAAMpE,SAAS4D,EAAY3B,MAAO,CAChCoC,OAAQ,WACN,MAAO,CAELR,QAASxE,KAAKwE,QACdtH,KAAM8C,KAAK9C,KAEX+H,YAAajF,KAAKiF,YAClBC,OAAQlF,KAAKkF,OAEbC,SAAUnF,KAAKmF,SACfC,WAAYpF,KAAKoF,WACjBC,aAAcrF,KAAKqF,aACnBrB,MAAOhE,KAAKgE,MAEZU,OAAQK,EAAMhB,aAAa/D,KAAK0E,QAChCD,KAAMzE,KAAKyE,KACXK,OAAQ9E,KAAK8E,OAEjB,IAGF,MAAMlM,EAAY2L,EAAW3L,UACvBkE,EAAc,CAAC,EAErB,CACE,uBACA,iBACA,eACA,YACA,cACA,4BACA,iBACA,mBACA,kBACA,eACA,kBACA,mBAEA9B,SAAQyJ,IACR3H,EAAY2H,GAAQ,CAAC1D,MAAO0D,EAAK,IAGnC9L,OAAOyE,iBAAiBmH,EAAYzH,GACpCnE,OAAOmI,eAAelI,EAAW,eAAgB,CAACmI,OAAO,IAGzDwD,EAAWe,KAAO,CAACC,EAAOd,EAAMC,EAAQC,EAASC,EAAUY,KACzD,MAAMC,EAAa9M,OAAOK,OAAOJ,GAgBjC,OAdAmM,EAAM9D,aAAasE,EAAOE,GAAY,SAAgBxK,GACpD,OAAOA,IAAQ2H,MAAMhK,SACvB,IAAG8D,GACe,iBAATA,IAGT6H,EAAWpL,KAAKsM,EAAYF,EAAMf,QAASC,EAAMC,EAAQC,EAASC,GAElEa,EAAWC,MAAQH,EAEnBE,EAAWvI,KAAOqI,EAAMrI,KAExBsI,GAAe7M,OAAOqI,OAAOyE,EAAYD,GAElCC,CAAU,EAGnB,UCxFA,SAASE,EAAY1M,GACnB,OAAO8L,EAAM9K,cAAchB,IAAU8L,EAAMtL,QAAQR,EACrD,CASA,SAAS2M,EAAelK,GACtB,OAAOqJ,EAAMxD,SAAS7F,EAAK,MAAQA,EAAItC,MAAM,GAAI,GAAKsC,CACxD,CAWA,SAASmK,EAAUC,EAAMpK,EAAKqK,GAC5B,OAAKD,EACEA,EAAKE,OAAOtK,GAAKX,KAAI,SAAcgD,EAAO7C,GAG/C,OADA6C,EAAQ6H,EAAe7H,IACfgI,GAAQ7K,EAAI,IAAM6C,EAAQ,IAAMA,CAC1C,IAAGkI,KAAKF,EAAO,IAAM,IALHrK,CAMpB,CAaA,MAAMwK,EAAanB,EAAM9D,aAAa8D,EAAO,CAAC,EAAG,MAAM,SAAgBrI,GACrE,MAAO,WAAWyJ,KAAKzJ,EACzB,IA8JA,QArIA,SAAoBzB,EAAKmL,EAAUC,GACjC,IAAKtB,EAAM/K,SAASiB,GAClB,MAAM,IAAIqL,UAAU,4BAItBF,EAAWA,GAAY,IAAyBhH,SAYhD,MAAMmH,GATNF,EAAUtB,EAAM9D,aAAaoF,EAAS,CACpCE,YAAY,EACZR,MAAM,EACNS,SAAS,IACR,GAAO,SAAiBC,EAAQpI,GAEjC,OAAQ0G,EAAMpL,YAAY0E,EAAOoI,GACnC,KAE2BF,WAErBG,EAAUL,EAAQK,SAAWC,EAC7BZ,EAAOM,EAAQN,KACfS,EAAUH,EAAQG,QAElBI,GADQP,EAAQQ,MAAwB,qBAATA,MAAwBA,OACpC9B,EAAMjB,oBAAoBsC,GAEnD,IAAKrB,EAAMjL,WAAW4M,GACpB,MAAM,IAAIJ,UAAU,8BAGtB,SAASQ,EAAa/F,GACpB,GAAc,OAAVA,EAAgB,MAAO,GAE3B,GAAIgE,EAAMzK,OAAOyG,GACf,OAAOA,EAAMgG,cAGf,IAAKH,GAAW7B,EAAMvK,OAAOuG,GAC3B,MAAM,IAAIwD,EAAW,gDAGvB,OAAIQ,EAAMnL,cAAcmH,IAAUgE,EAAM3I,aAAa2E,GAC5C6F,GAA2B,oBAATC,KAAsB,IAAIA,KAAK,CAAC9F,IAAUiG,OAAO1B,KAAKvE,GAG1EA,CACT,CAYA,SAAS4F,EAAe5F,EAAOrF,EAAKoK,GAClC,IAAIhE,EAAMf,EAEV,GAAIA,IAAU+E,GAAyB,kBAAV/E,EAC3B,GAAIgE,EAAMxD,SAAS7F,EAAK,MAEtBA,EAAM6K,EAAa7K,EAAMA,EAAItC,MAAM,GAAI,GAEvC2H,EAAQkG,KAAKC,UAAUnG,QAClB,GACJgE,EAAMtL,QAAQsH,IAnGvB,SAAqBe,GACnB,OAAOiD,EAAMtL,QAAQqI,KAASA,EAAIqF,KAAKxB,EACzC,CAiGiCyB,CAAYrG,KACnCgE,EAAMtK,WAAWsG,IAAUgE,EAAMxD,SAAS7F,EAAK,SAAWoG,EAAMiD,EAAMlD,QAAQd,IAYhF,OATArF,EAAMkK,EAAelK,GAErBoG,EAAI9G,SAAQ,SAAcqM,EAAIC,IAC1BvC,EAAMpL,YAAY0N,IAAc,OAAPA,GAAgBjB,EAAS/G,QAEtC,IAAZmH,EAAmBX,EAAU,CAACnK,GAAM4L,EAAOvB,GAAqB,OAAZS,EAAmB9K,EAAMA,EAAM,KACnFoL,EAAaO,GAEjB,KACO,EAIX,QAAI1B,EAAY5E,KAIhBqF,EAAS/G,OAAOwG,EAAUC,EAAMpK,EAAKqK,GAAOe,EAAa/F,KAElD,EACT,CAEA,MAAMiD,EAAQ,GAERuD,EAAiB5O,OAAOqI,OAAOkF,EAAY,CAC/CS,iBACAG,eACAnB,gBAyBF,IAAKZ,EAAM/K,SAASiB,GAClB,MAAM,IAAIqL,UAAU,0BAKtB,OA5BA,SAASkB,EAAMzG,EAAO+E,GACpB,IAAIf,EAAMpL,YAAYoH,GAAtB,CAEA,IAA8B,IAA1BiD,EAAMpC,QAAQb,GAChB,MAAM6B,MAAM,kCAAoCkD,EAAKG,KAAK,MAG5DjC,EAAMvF,KAAKsC,GAEXgE,EAAM/J,QAAQ+F,GAAO,SAAcsG,EAAI3L,IAKtB,OAJEqJ,EAAMpL,YAAY0N,IAAc,OAAPA,IAAgBX,EAAQvN,KAChEiN,EAAUiB,EAAItC,EAAMlL,SAAS6B,GAAOA,EAAI4E,OAAS5E,EAAKoK,EAAMyB,KAI5DC,EAAMH,EAAIvB,EAAOA,EAAKE,OAAOtK,GAAO,CAACA,GAEzC,IAEAsI,EAAMyD,KAlB8B,CAmBtC,CAMAD,CAAMvM,GAECmL,CACT,EC5MA,SAASsB,GAAOxO,GACd,MAAMyO,EAAU,CACd,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,MAAO,IACP,MAAO,MAET,OAAOC,mBAAmB1O,GAAKqH,QAAQ,oBAAoB,SAAkBsH,GAC3E,OAAOF,EAAQE,EACjB,GACF,CAUA,SAASC,GAAqBC,EAAQ1B,GACpCrG,KAAKgI,OAAS,GAEdD,GAAUE,EAAWF,EAAQ/H,KAAMqG,EACrC,CAEA,MAAMzN,GAAYkP,GAAqBlP,UAEvCA,GAAUyG,OAAS,SAAgBnC,EAAM6D,GACvCf,KAAKgI,OAAOvJ,KAAK,CAACvB,EAAM6D,GAC1B,EAEAnI,GAAUF,SAAW,SAAkBwP,GACrC,MAAMC,EAAUD,EAAU,SAASnH,GACjC,OAAOmH,EAAQ/O,KAAK6G,KAAMe,EAAO2G,GACnC,EAAIA,GAEJ,OAAO1H,KAAKgI,OAAOjN,KAAI,SAAcmH,GACnC,OAAOiG,EAAQjG,EAAK,IAAM,IAAMiG,EAAQjG,EAAK,GAC/C,GAAG,IAAI+D,KAAK,IACd,EAEA,YC5CA,SAASyB,GAAOxN,GACd,OAAO0N,mBAAmB1N,GACxBqG,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,IACrB,CAWe,SAAS6H,GAASC,EAAKN,EAAQ1B,GAE5C,IAAK0B,EACH,OAAOM,EAGT,MAAMF,EAAU9B,GAAWA,EAAQqB,QAAUA,GAEzC3C,EAAMjL,WAAWuM,KACnBA,EAAU,CACRiC,UAAWjC,IAIf,MAAMkC,EAAclC,GAAWA,EAAQiC,UAEvC,IAAIE,EAUJ,GAPEA,EADED,EACiBA,EAAYR,EAAQ1B,GAEpBtB,EAAMrK,kBAAkBqN,GACzCA,EAAOrP,WACP,IAAIoP,GAAqBC,EAAQ1B,GAAS3N,SAASyP,GAGnDK,EAAkB,CACpB,MAAMC,EAAgBJ,EAAIzG,QAAQ,MAEX,IAAnB6G,IACFJ,EAAMA,EAAIjP,MAAM,EAAGqP,IAErBJ,KAA8B,IAAtBA,EAAIzG,QAAQ,KAAc,IAAM,KAAO4G,CACjD,CAEA,OAAOH,CACT,CCEA,SAlEA,MACEpJ,WAAAA,GACEe,KAAK0I,SAAW,EAClB,CAUAC,GAAAA,CAAIC,EAAWC,EAAUxC,GAOvB,OANArG,KAAK0I,SAASjK,KAAK,CACjBmK,YACAC,WACAC,cAAazC,GAAUA,EAAQyC,YAC/BC,QAAS1C,EAAUA,EAAQ0C,QAAU,OAEhC/I,KAAK0I,SAASrN,OAAS,CAChC,CASA2N,KAAAA,CAAMC,GACAjJ,KAAK0I,SAASO,KAChBjJ,KAAK0I,SAASO,GAAM,KAExB,CAOAC,KAAAA,GACMlJ,KAAK0I,WACP1I,KAAK0I,SAAW,GAEpB,CAYA1N,OAAAA,CAAQ1C,GACNyM,EAAM/J,QAAQgF,KAAK0I,UAAU,SAAwBS,GACzC,OAANA,GACF7Q,EAAG6Q,EAEP,GACF,GCjEF,IACEC,mBAAmB,EACnBC,mBAAmB,EACnBC,qBAAqB,GCDvB,IACEC,WAAW,EACXC,QAAS,CACPC,gBCJsC,qBAApBA,gBAAkCA,gBAAkB3B,GDKtE1I,SEN+B,qBAAbA,SAA2BA,SAAW,KFOxDyH,KGP2B,qBAATA,KAAuBA,KAAO,MHSlD6C,UAAW,CAAC,OAAQ,QAAS,OAAQ,OAAQ,MAAO,SIXhDC,GAAkC,qBAAX3N,QAA8C,qBAAb4N,SAExDC,GAAkC,kBAAdC,WAA0BA,gBAAaxO,EAmB3DyO,GAAwBJ,MAC1BE,IAAc,CAAC,cAAe,eAAgB,MAAMjI,QAAQiI,GAAWG,SAAW,GAWhFC,GAE2B,qBAAtBC,mBAEPnO,gBAAgBmO,mBACc,oBAAvBnO,KAAKoO,cAIVC,GAAST,IAAiB3N,OAAOqO,SAASC,MAAQ,mBCvCxD,OACKvF,KACAwF,ICyFL,SA9CA,SAAwBnE,GACtB,SAASoE,EAAU1E,EAAM/E,EAAOmD,EAAQoD,GACtC,IAAIpK,EAAO4I,EAAKwB,KAEhB,GAAa,cAATpK,EAAsB,OAAO,EAEjC,MAAMuN,EAAehH,OAAOC,UAAUxG,GAChCwN,EAASpD,GAASxB,EAAKzK,OAG7B,GAFA6B,GAAQA,GAAQ6H,EAAMtL,QAAQyK,GAAUA,EAAO7I,OAAS6B,EAEpDwN,EAOF,OANI3F,EAAMxC,WAAW2B,EAAQhH,GAC3BgH,EAAOhH,GAAQ,CAACgH,EAAOhH,GAAO6D,GAE9BmD,EAAOhH,GAAQ6D,GAGT0J,EAGLvG,EAAOhH,IAAU6H,EAAM/K,SAASkK,EAAOhH,MAC1CgH,EAAOhH,GAAQ,IASjB,OANesN,EAAU1E,EAAM/E,EAAOmD,EAAOhH,GAAOoK,IAEtCvC,EAAMtL,QAAQyK,EAAOhH,MACjCgH,EAAOhH,GA/Cb,SAAuB4E,GACrB,MAAM7G,EAAM,CAAC,EACPM,EAAO5C,OAAO4C,KAAKuG,GACzB,IAAI5G,EACJ,MAAMO,EAAMF,EAAKF,OACjB,IAAIK,EACJ,IAAKR,EAAI,EAAGA,EAAIO,EAAKP,IACnBQ,EAAMH,EAAKL,GACXD,EAAIS,GAAOoG,EAAIpG,GAEjB,OAAOT,CACT,CAoCqB0P,CAAczG,EAAOhH,MAG9BuN,CACV,CAEA,GAAI1F,EAAM7F,WAAWkH,IAAarB,EAAMjL,WAAWsM,EAASwE,SAAU,CACpE,MAAM3P,EAAM,CAAC,EAMb,OAJA8J,EAAMhD,aAAaqE,GAAU,CAAClJ,EAAM6D,KAClCyJ,EA1EN,SAAuBtN,GAKrB,OAAO6H,EAAM5C,SAAS,gBAAiBjF,GAAMnC,KAAI8M,GAC3B,OAAbA,EAAM,GAAc,GAAKA,EAAM,IAAMA,EAAM,IAEtD,CAkEgBgD,CAAc3N,GAAO6D,EAAO9F,EAAK,EAAE,IAGxCA,CACT,CAEA,OAAO,IACT,ECzDA,MAAM6P,GAAW,CAEfC,aAAcC,GAEdC,QAAS,CAAC,MAAO,OAAQ,SAEzBC,iBAAkB,CAAC,SAA0B5M,EAAM6M,GACjD,MAAMC,EAAcD,EAAQE,kBAAoB,GAC1CC,EAAqBF,EAAYxJ,QAAQ,qBAAuB,EAChE2J,EAAkBxG,EAAM/K,SAASsE,GAEnCiN,GAAmBxG,EAAMxI,WAAW+B,KACtCA,EAAO,IAAIc,SAASd,IAKtB,GAFmByG,EAAM7F,WAAWZ,GAGlC,OAAOgN,EAAqBrE,KAAKC,UAAUsE,GAAelN,IAASA,EAGrE,GAAIyG,EAAMnL,cAAc0E,IACtByG,EAAM/F,SAASV,IACfyG,EAAMnF,SAAStB,IACfyG,EAAMxK,OAAO+D,IACbyG,EAAMvK,OAAO8D,IACbyG,EAAMpK,iBAAiB2D,GAEvB,OAAOA,EAET,GAAIyG,EAAMzF,kBAAkBhB,GAC1B,OAAOA,EAAKoB,OAEd,GAAIqF,EAAMrK,kBAAkB4D,GAE1B,OADA6M,EAAQM,eAAe,mDAAmD,GACnEnN,EAAK5F,WAGd,IAAI+B,EAEJ,GAAI8Q,EAAiB,CACnB,GAAIH,EAAYxJ,QAAQ,sCAAwC,EAC9D,OCvEO,SAA0BtD,EAAM+H,GAC7C,OAAO4B,EAAW3J,EAAM,IAAIiM,GAASf,QAAQC,gBAAmB9Q,OAAOqI,OAAO,CAC5E0F,QAAS,SAAS3F,EAAOrF,EAAKoK,EAAM4F,GAClC,OAAInB,GAASoB,QAAU5G,EAAM/F,SAAS+B,IACpCf,KAAKX,OAAO3D,EAAKqF,EAAMrI,SAAS,YACzB,GAGFgT,EAAQ/E,eAAenO,MAAMwH,KAAMvH,UAC5C,GACC4N,GACL,CD4DeuF,CAAiBtN,EAAM0B,KAAK6L,gBAAgBnT,WAGrD,IAAK+B,EAAasK,EAAMtK,WAAW6D,KAAU8M,EAAYxJ,QAAQ,wBAA0B,EAAG,CAC5F,MAAMkK,EAAY9L,KAAK+L,KAAO/L,KAAK+L,IAAI3M,SAEvC,OAAO6I,EACLxN,EAAa,CAAC,UAAW6D,GAAQA,EACjCwN,GAAa,IAAIA,EACjB9L,KAAK6L,eAET,CACF,CAEA,OAAIN,GAAmBD,GACrBH,EAAQM,eAAe,oBAAoB,GAxEjD,SAAyBO,EAAUC,EAAQ/D,GACzC,GAAInD,EAAMlL,SAASmS,GACjB,IAEE,OADCC,GAAUhF,KAAKiF,OAAOF,GAChBjH,EAAMzE,KAAK0L,EACpB,CAAE,MAAOG,GACP,GAAe,gBAAXA,EAAEjP,KACJ,MAAMiP,CAEV,CAGF,OAAQjE,GAAWjB,KAAKC,WAAW8E,EACrC,CA4DaI,CAAgB9N,IAGlBA,CACT,GAEA+N,kBAAmB,CAAC,SAA2B/N,GAC7C,MAAMyM,EAAe/K,KAAK+K,cAAgBD,GAASC,aAC7C1B,EAAoB0B,GAAgBA,EAAa1B,kBACjDiD,EAAsC,SAAtBtM,KAAKuM,aAE3B,GAAIxH,EAAMlK,WAAWyD,IAASyG,EAAMpK,iBAAiB2D,GACnD,OAAOA,EAGT,GAAIA,GAAQyG,EAAMlL,SAASyE,KAAW+K,IAAsBrJ,KAAKuM,cAAiBD,GAAgB,CAChG,MACME,IADoBzB,GAAgBA,EAAa3B,oBACPkD,EAEhD,IACE,OAAOrF,KAAKiF,MAAM5N,EACpB,CAAE,MAAO6N,GACP,GAAIK,EAAmB,CACrB,GAAe,gBAAXL,EAAEjP,KACJ,MAAMqH,EAAWe,KAAK6G,EAAG5H,EAAWkI,iBAAkBzM,KAAM,KAAMA,KAAK4E,UAEzE,MAAMuH,CACR,CACF,CACF,CAEA,OAAO7N,CACT,GAMAoO,QAAS,EAETC,eAAgB,aAChBC,eAAgB,eAEhBC,kBAAmB,EACnBC,eAAgB,EAEhBf,IAAK,CACH3M,SAAUmL,GAASf,QAAQpK,SAC3ByH,KAAM0D,GAASf,QAAQ3C,MAGzBkG,eAAgB,SAAwBjI,GACtC,OAAOA,GAAU,KAAOA,EAAS,GACnC,EAEAqG,QAAS,CACP6B,OAAQ,CACN,OAAU,oCACV,oBAAgB1R,KAKtByJ,EAAM/J,QAAQ,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,UAAWiS,IAChEnC,GAASK,QAAQ8B,GAAU,CAAC,CAAC,IAG/B,YE1JMC,GAAoBnI,EAAMlC,YAAY,CAC1C,MAAO,gBAAiB,iBAAkB,eAAgB,OAC1D,UAAW,OAAQ,OAAQ,oBAAqB,sBAChD,gBAAiB,WAAY,eAAgB,sBAC7C,UAAW,cAAe,eCLtBsK,GAAahT,OAAO,aAE1B,SAASiT,GAAgBC,GACvB,OAAOA,GAAU3L,OAAO2L,GAAQ/M,OAAOjH,aACzC,CAEA,SAASiU,GAAevM,GACtB,OAAc,IAAVA,GAA4B,MAATA,EACdA,EAGFgE,EAAMtL,QAAQsH,GAASA,EAAMhG,IAAIuS,IAAkB5L,OAAOX,EACnE,CAgBA,SAASwM,GAAiBpR,EAAS4E,EAAOsM,EAAQjM,EAAQoM,GACxD,OAAIzI,EAAMjL,WAAWsH,GACZA,EAAOjI,KAAK6G,KAAMe,EAAOsM,IAG9BG,IACFzM,EAAQsM,GAGLtI,EAAMlL,SAASkH,GAEhBgE,EAAMlL,SAASuH,IACiB,IAA3BL,EAAMa,QAAQR,GAGnB2D,EAAMpI,SAASyE,GACVA,EAAO+E,KAAKpF,QADrB,OANA,EASF,CAsBA,MAAM0M,GACJxO,WAAAA,CAAYkM,GACVA,GAAWnL,KAAK2C,IAAIwI,EACtB,CAEAxI,GAAAA,CAAI0K,EAAQK,EAAgBC,GAC1B,MAAM5R,EAAOiE,KAEb,SAAS4N,EAAUC,EAAQC,EAASC,GAClC,MAAMC,EAAUZ,GAAgBU,GAEhC,IAAKE,EACH,MAAM,IAAIpL,MAAM,0CAGlB,MAAMlH,EAAMqJ,EAAMpJ,QAAQI,EAAMiS,KAE5BtS,QAAqBJ,IAAdS,EAAKL,KAAmC,IAAbqS,QAAmCzS,IAAbyS,IAAwC,IAAdhS,EAAKL,MACzFK,EAAKL,GAAOoS,GAAWR,GAAeO,GAE1C,CAEA,MAAMI,EAAaA,CAAC9C,EAAS4C,IAC3BhJ,EAAM/J,QAAQmQ,GAAS,CAAC0C,EAAQC,IAAYF,EAAUC,EAAQC,EAASC,KAEzE,GAAIhJ,EAAM9K,cAAcoT,IAAWA,aAAkBrN,KAAKf,YACxDgP,EAAWZ,EAAQK,QACd,GAAG3I,EAAMlL,SAASwT,KAAYA,EAASA,EAAO/M,UArEtB,iCAAiC6F,KAqEmBkH,EArEV/M,QAsEvE2N,ED1EN,CAAeC,IACb,MAAMC,EAAS,CAAC,EAChB,IAAIzS,EACAxB,EACAgB,EAsBJ,OApBAgT,GAAcA,EAAWjL,MAAM,MAAMjI,SAAQ,SAAgBoT,GAC3DlT,EAAIkT,EAAKxM,QAAQ,KACjBlG,EAAM0S,EAAKC,UAAU,EAAGnT,GAAGoF,OAAOjH,cAClCa,EAAMkU,EAAKC,UAAUnT,EAAI,GAAGoF,QAEvB5E,GAAQyS,EAAOzS,IAAQwR,GAAkBxR,KAIlC,eAARA,EACEyS,EAAOzS,GACTyS,EAAOzS,GAAK+C,KAAKvE,GAEjBiU,EAAOzS,GAAO,CAACxB,GAGjBiU,EAAOzS,GAAOyS,EAAOzS,GAAOyS,EAAOzS,GAAO,KAAOxB,EAAMA,EAE3D,IAEOiU,CACR,EC+CgBG,CAAajB,GAASK,QAC5B,GAAI3I,EAAMjK,UAAUuS,GACzB,IAAK,MAAO3R,EAAKqF,KAAUsM,EAAOzC,UAChCgD,EAAU7M,EAAOrF,EAAKiS,QAGd,MAAVN,GAAkBO,EAAUF,EAAgBL,EAAQM,GAGtD,OAAO3N,IACT,CAEAuO,GAAAA,CAAIlB,EAAQpB,GAGV,GAFAoB,EAASD,GAAgBC,GAEb,CACV,MAAM3R,EAAMqJ,EAAMpJ,QAAQqE,KAAMqN,GAEhC,GAAI3R,EAAK,CACP,MAAMqF,EAAQf,KAAKtE,GAEnB,IAAKuQ,EACH,OAAOlL,EAGT,IAAe,IAAXkL,EACF,OA5GV,SAAqB/S,GACnB,MAAMsV,EAAS7V,OAAOK,OAAO,MACvByV,EAAW,mCACjB,IAAI5G,EAEJ,KAAQA,EAAQ4G,EAASnM,KAAKpJ,IAC5BsV,EAAO3G,EAAM,IAAMA,EAAM,GAG3B,OAAO2G,CACT,CAkGiBE,CAAY3N,GAGrB,GAAIgE,EAAMjL,WAAWmS,GACnB,OAAOA,EAAO9S,KAAK6G,KAAMe,EAAOrF,GAGlC,GAAIqJ,EAAMpI,SAASsP,GACjB,OAAOA,EAAO3J,KAAKvB,GAGrB,MAAM,IAAIuF,UAAU,yCACtB,CACF,CACF,CAEAqI,GAAAA,CAAItB,EAAQuB,GAGV,GAFAvB,EAASD,GAAgBC,GAEb,CACV,MAAM3R,EAAMqJ,EAAMpJ,QAAQqE,KAAMqN,GAEhC,SAAU3R,QAAqBJ,IAAd0E,KAAKtE,IAAwBkT,IAAWrB,GAAiBvN,EAAMA,KAAKtE,GAAMA,EAAKkT,GAClG,CAEA,OAAO,CACT,CAEAC,OAAOxB,EAAQuB,GACb,MAAM7S,EAAOiE,KACb,IAAI8O,GAAU,EAEd,SAASC,EAAajB,GAGpB,GAFAA,EAAUV,GAAgBU,GAEb,CACX,MAAMpS,EAAMqJ,EAAMpJ,QAAQI,EAAM+R,IAE5BpS,GAASkT,IAAWrB,GAAiBxR,EAAMA,EAAKL,GAAMA,EAAKkT,YACtD7S,EAAKL,GAEZoT,GAAU,EAEd,CACF,CAQA,OANI/J,EAAMtL,QAAQ4T,GAChBA,EAAOrS,QAAQ+T,GAEfA,EAAa1B,GAGRyB,CACT,CAEA5F,KAAAA,CAAM0F,GACJ,MAAMrT,EAAO5C,OAAO4C,KAAKyE,MACzB,IAAI9E,EAAIK,EAAKF,OACTyT,GAAU,EAEd,KAAO5T,KAAK,CACV,MAAMQ,EAAMH,EAAKL,GACb0T,IAAWrB,GAAiBvN,EAAMA,KAAKtE,GAAMA,EAAKkT,GAAS,YACtD5O,KAAKtE,GACZoT,GAAU,EAEd,CAEA,OAAOA,CACT,CAEAE,SAAAA,CAAUC,GACR,MAAMlT,EAAOiE,KACPmL,EAAU,CAAC,EAsBjB,OApBApG,EAAM/J,QAAQgF,MAAM,CAACe,EAAOsM,KAC1B,MAAM3R,EAAMqJ,EAAMpJ,QAAQwP,EAASkC,GAEnC,GAAI3R,EAGF,OAFAK,EAAKL,GAAO4R,GAAevM,eACpBhF,EAAKsR,GAId,MAAM6B,EAAaD,EA9JzB,SAAsB5B,GACpB,OAAOA,EAAO/M,OACXjH,cAAckH,QAAQ,mBAAmB,CAAC4O,EAAGC,EAAMlW,IAC3CkW,EAAK3R,cAAgBvE,GAElC,CAyJkCmW,CAAahC,GAAU3L,OAAO2L,GAAQ/M,OAE9D4O,IAAe7B,UACVtR,EAAKsR,GAGdtR,EAAKmT,GAAc5B,GAAevM,GAElCoK,EAAQ+D,IAAc,CAAI,IAGrBlP,IACT,CAEAgG,MAAAA,GAAmB,QAAAsJ,EAAA7W,UAAA4C,OAATkU,EAAO,IAAA7V,MAAA4V,GAAA1T,EAAA,EAAAA,EAAA0T,EAAA1T,IAAP2T,EAAO3T,GAAAnD,UAAAmD,GACf,OAAOoE,KAAKf,YAAY+G,OAAOhG,QAASuP,EAC1C,CAEAvK,MAAAA,CAAOwK,GACL,MAAMvU,EAAMtC,OAAOK,OAAO,MAM1B,OAJA+L,EAAM/J,QAAQgF,MAAM,CAACe,EAAOsM,KACjB,MAATtM,IAA2B,IAAVA,IAAoB9F,EAAIoS,GAAUmC,GAAazK,EAAMtL,QAAQsH,GAASA,EAAMkF,KAAK,MAAQlF,EAAM,IAG3G9F,CACT,CAEA,CAACd,OAAOE,YACN,OAAO1B,OAAOiS,QAAQ5K,KAAKgF,UAAU7K,OAAOE,WAC9C,CAEA3B,QAAAA,GACE,OAAOC,OAAOiS,QAAQ5K,KAAKgF,UAAUjK,KAAI0B,IAAA,IAAE4Q,EAAQtM,GAAMtE,EAAA,OAAK4Q,EAAS,KAAOtM,CAAK,IAAEkF,KAAK,KAC5F,CAEA,IAAK9L,OAAOC,eACV,MAAO,cACT,CAEA,WAAOkL,CAAKrM,GACV,OAAOA,aAAiB+G,KAAO/G,EAAQ,IAAI+G,KAAK/G,EAClD,CAEA,aAAO+M,CAAOyJ,GACZ,MAAMC,EAAW,IAAI1P,KAAKyP,GAAO,QAAAE,EAAAlX,UAAA4C,OADXkU,EAAO,IAAA7V,MAAAiW,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAPL,EAAOK,EAAA,GAAAnX,UAAAmX,GAK7B,OAFAL,EAAQvU,SAASkJ,GAAWwL,EAAS/M,IAAIuB,KAElCwL,CACT,CAEA,eAAOG,CAASxC,GACd,MAIMyC,GAJY9P,KAAKmN,IAAenN,KAAKmN,IAAc,CACvD2C,UAAW,CAAC,IAGcA,UACtBlX,EAAYoH,KAAKpH,UAEvB,SAASmX,EAAejC,GACtB,MAAME,EAAUZ,GAAgBU,GAE3BgC,EAAU9B,MAtNrB,SAAwB/S,EAAKoS,GAC3B,MAAM2C,EAAejL,EAAM7B,YAAY,IAAMmK,GAE7C,CAAC,MAAO,MAAO,OAAOrS,SAAQiV,IAC5BtX,OAAOmI,eAAe7F,EAAKgV,EAAaD,EAAc,CACpDjP,MAAO,SAASmP,EAAMC,EAAMC,GAC1B,OAAOpQ,KAAKiQ,GAAY9W,KAAK6G,KAAMqN,EAAQ6C,EAAMC,EAAMC,EACzD,EACAC,cAAc,GACd,GAEN,CA4MQC,CAAe1X,EAAWkV,GAC1BgC,EAAU9B,IAAW,EAEzB,CAIA,OAFAjJ,EAAMtL,QAAQ4T,GAAUA,EAAOrS,QAAQ+U,GAAkBA,EAAe1C,GAEjErN,IACT,EAGFyN,GAAaoC,SAAS,CAAC,eAAgB,iBAAkB,SAAU,kBAAmB,aAAc,kBAGpG9K,EAAMnI,kBAAkB6Q,GAAa7U,WAAW,CAAAwF,EAAU1C,KAAQ,IAAjB,MAACqF,GAAM3C,EAClDmS,EAAS7U,EAAI,GAAG+B,cAAgB/B,EAAItC,MAAM,GAC9C,MAAO,CACLmV,IAAKA,IAAMxN,EACX4B,GAAAA,CAAI6N,GACFxQ,KAAKuQ,GAAUC,CACjB,EACD,IAGHzL,EAAMvC,cAAciL,IAEpB,YC/Re,SAASgD,GAAcC,EAAK9L,GACzC,MAAMF,EAAS1E,MAAQ8K,GACjB3O,EAAUyI,GAAYF,EACtByG,EAAUsC,GAAanI,KAAKnJ,EAAQgP,SAC1C,IAAI7M,EAAOnC,EAAQmC,KAQnB,OANAyG,EAAM/J,QAAQ0V,GAAK,SAAmBpY,GACpCgG,EAAOhG,EAAGa,KAAKuL,EAAQpG,EAAM6M,EAAQ6D,YAAapK,EAAWA,EAASE,YAASxJ,EACjF,IAEA6P,EAAQ6D,YAED1Q,CACT,CCzBe,SAASqS,GAAS5P,GAC/B,SAAUA,IAASA,EAAM6P,WAC3B,CCUA,SAASC,GAAcrM,EAASE,EAAQC,GAEtCJ,EAAWpL,KAAK6G,KAAiB,MAAXwE,EAAkB,WAAaA,EAASD,EAAWuM,aAAcpM,EAAQC,GAC/F3E,KAAK9C,KAAO,eACd,CAEA6H,EAAMpE,SAASkQ,GAAetM,EAAY,CACxCqM,YAAY,IAGd,YCXe,SAASG,GAAOC,EAASC,EAAQrM,GAC9C,MAAMmI,EAAiBnI,EAASF,OAAOqI,eAClCnI,EAASE,QAAWiI,IAAkBA,EAAenI,EAASE,QAGjEmM,EAAO,IAAI1M,EACT,mCAAqCK,EAASE,OAC9C,CAACP,EAAW2M,gBAAiB3M,EAAWkI,kBAAkBzO,KAAKmT,MAAMvM,EAASE,OAAS,KAAO,GAC9FF,EAASF,OACTE,EAASD,QACTC,IAPFoM,EAAQpM,EAUZ,CC4BA,SA9CA,SAAqBwM,EAAcC,GACjCD,EAAeA,GAAgB,GAC/B,MAAME,EAAQ,IAAI5X,MAAM0X,GAClBG,EAAa,IAAI7X,MAAM0X,GAC7B,IAEII,EAFAC,EAAO,EACPC,EAAO,EAKX,OAFAL,OAAc/V,IAAR+V,EAAoBA,EAAM,IAEzB,SAAcM,GACnB,MAAMC,EAAMC,KAAKD,MAEXE,EAAYP,EAAWG,GAExBF,IACHA,EAAgBI,GAGlBN,EAAMG,GAAQE,EACdJ,EAAWE,GAAQG,EAEnB,IAAI1W,EAAIwW,EACJK,EAAa,EAEjB,KAAO7W,IAAMuW,GACXM,GAAcT,EAAMpW,KACpBA,GAAQkW,EASV,GANAK,GAAQA,EAAO,GAAKL,EAEhBK,IAASC,IACXA,GAAQA,EAAO,GAAKN,GAGlBQ,EAAMJ,EAAgBH,EACxB,OAGF,MAAMW,EAASF,GAAaF,EAAME,EAElC,OAAOE,EAAShU,KAAKiU,MAAmB,IAAbF,EAAoBC,QAAU1W,CAC3D,CACF,ECTA,SArCA,SAAkBhD,EAAI4Z,GACpB,IAEIC,EACAC,EAHAC,EAAY,EACZC,EAAY,IAAOJ,EAIvB,MAAMK,EAAS,SAACC,GAA2B,IAArBZ,EAAGnZ,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAGoZ,KAAKD,MAC/BS,EAAYT,EACZO,EAAW,KACPC,IACFK,aAAaL,GACbA,EAAQ,MAEV9Z,EAAGE,MAAM,KAAMga,EACjB,EAoBA,MAAO,CAlBW,WAChB,MAAMZ,EAAMC,KAAKD,MACXI,EAASJ,EAAMS,EAAU,QAAA/C,EAAA7W,UAAA4C,OAFXmX,EAAI,IAAA9Y,MAAA4V,GAAA1T,EAAA,EAAAA,EAAA0T,EAAA1T,IAAJ4W,EAAI5W,GAAAnD,UAAAmD,GAGnBoW,GAAUM,EACbC,EAAOC,EAAMZ,IAEbO,EAAWK,EACNJ,IACHA,EAAQzT,YAAW,KACjByT,EAAQ,KACRG,EAAOJ,EAAS,GACfG,EAAYN,IAGrB,EAEcU,IAAMP,GAAYI,EAAOJ,GAGzC,ECrCaQ,GAAuB,SAACC,EAAUC,GAA+B,IAAbX,EAAIzZ,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAG,EAClEqa,EAAgB,EACpB,MAAMC,EAAeC,GAAY,GAAI,KAErC,OAAOC,IAAS9G,IACd,MAAM+G,EAAS/G,EAAE+G,OACXC,EAAQhH,EAAEiH,iBAAmBjH,EAAEgH,WAAQ7X,EACvC+X,EAAgBH,EAASJ,EACzBQ,EAAOP,EAAaM,GAG1BP,EAAgBI,EAchBN,EAZa,CACXM,SACAC,QACAI,SAAUJ,EAASD,EAASC,OAAS7X,EACrCgW,MAAO+B,EACPC,KAAMA,QAAchY,EACpBkY,UAAWF,GAAQH,GAVLD,GAAUC,GAUeA,EAAQD,GAAUI,OAAOhY,EAChEmY,MAAOtH,EACPiH,iBAA2B,MAATD,EAClB,CAACN,EAAmB,WAAa,WAAW,GAGhC,GACbX,EACL,EAEawB,GAAyBA,CAACP,EAAOQ,KAC5C,MAAMP,EAA4B,MAATD,EAEzB,MAAO,CAAED,GAAWS,EAAU,GAAG,CAC/BP,mBACAD,QACAD,WACES,EAAU,GAAG,EAGNC,GAAkBtb,GAAO,mBAAAgX,EAAA7W,UAAA4C,OAAImX,EAAI,IAAA9Y,MAAA4V,GAAA1T,EAAA,EAAAA,EAAA0T,EAAA1T,IAAJ4W,EAAI5W,GAAAnD,UAAAmD,GAAA,OAAKmJ,EAAMnG,MAAK,IAAMtG,KAAMka,IAAM,ECzChF,GAAejI,GAASR,sBAAwB,EAAEK,EAAQyJ,IAAYxL,IACpEA,EAAM,IAAIyL,IAAIzL,EAAKkC,GAASH,QAG1BA,EAAO2J,WAAa1L,EAAI0L,UACxB3J,EAAO4J,OAAS3L,EAAI2L,OACnBH,GAAUzJ,EAAO6J,OAAS5L,EAAI4L,OANa,CAS9C,IAAIH,IAAIvJ,GAASH,QACjBG,GAAST,WAAa,kBAAkB3D,KAAKoE,GAAST,UAAUoK,YAC9D,KAAM,ECVV,GAAe3J,GAASR,sBAGtB,CACEoK,KAAAA,CAAMjX,EAAM6D,EAAOqT,EAAStO,EAAMuO,EAAQC,GACxC,MAAMC,EAAS,CAACrX,EAAO,IAAM0K,mBAAmB7G,IAEhDgE,EAAMhL,SAASqa,IAAYG,EAAO9V,KAAK,WAAa,IAAIoT,KAAKuC,GAASI,eAEtEzP,EAAMlL,SAASiM,IAASyO,EAAO9V,KAAK,QAAUqH,GAE9Cf,EAAMlL,SAASwa,IAAWE,EAAO9V,KAAK,UAAY4V,IAEvC,IAAXC,GAAmBC,EAAO9V,KAAK,UAE/BmL,SAAS2K,OAASA,EAAOtO,KAAK,KAChC,EAEAwO,IAAAA,CAAKvX,GACH,MAAM2K,EAAQ+B,SAAS2K,OAAO1M,MAAM,IAAI6M,OAAO,aAAexX,EAAO,cACrE,OAAQ2K,EAAQ8M,mBAAmB9M,EAAM,IAAM,IACjD,EAEA+M,MAAAA,CAAO1X,GACL8C,KAAKmU,MAAMjX,EAAM,GAAI2U,KAAKD,MAAQ,MACpC,GAMF,CACEuC,KAAAA,GAAS,EACTM,KAAIA,IACK,KAETG,MAAAA,GAAU,GCxBC,SAASC,GAAcC,EAASC,GAC7C,OAAID,ICHG,8BAA8B3O,KDGP4O,GENjB,SAAqBD,EAASE,GAC3C,OAAOA,EACHF,EAAQvU,QAAQ,SAAU,IAAM,IAAMyU,EAAYzU,QAAQ,OAAQ,IAClEuU,CACN,CFGWG,CAAYH,EAASC,GAEvBA,CACT,CGfA,MAAMG,GAAmBjc,GAAUA,aAAiBwU,GAAe,IAAKxU,GAAUA,EAWnE,SAASkc,GAAYC,EAASC,GAE3CA,EAAUA,GAAW,CAAC,EACtB,MAAM3Q,EAAS,CAAC,EAEhB,SAAS4Q,EAAepR,EAAQ7F,EAAQ3B,EAAMqD,GAC5C,OAAIgF,EAAM9K,cAAciK,IAAWa,EAAM9K,cAAcoE,GAC9C0G,EAAMjF,MAAM3G,KAAK,CAAC4G,YAAWmE,EAAQ7F,GACnC0G,EAAM9K,cAAcoE,GACtB0G,EAAMjF,MAAM,CAAC,EAAGzB,GACd0G,EAAMtL,QAAQ4E,GAChBA,EAAOjF,QAETiF,CACT,CAGA,SAASkX,EAAoBnV,EAAGC,EAAG3D,EAAOqD,GACxC,OAAKgF,EAAMpL,YAAY0G,GAEX0E,EAAMpL,YAAYyG,QAAvB,EACEkV,OAAeha,EAAW8E,EAAG1D,EAAOqD,GAFpCuV,EAAelV,EAAGC,EAAG3D,EAAOqD,EAIvC,CAGA,SAASyV,EAAiBpV,EAAGC,GAC3B,IAAK0E,EAAMpL,YAAY0G,GACrB,OAAOiV,OAAeha,EAAW+E,EAErC,CAGA,SAASoV,EAAiBrV,EAAGC,GAC3B,OAAK0E,EAAMpL,YAAY0G,GAEX0E,EAAMpL,YAAYyG,QAAvB,EACEkV,OAAeha,EAAW8E,GAF1BkV,OAAeha,EAAW+E,EAIrC,CAGA,SAASqV,EAAgBtV,EAAGC,EAAG3D,GAC7B,OAAIA,KAAQ2Y,EACHC,EAAelV,EAAGC,GAChB3D,KAAQ0Y,EACVE,OAAeha,EAAW8E,QAD5B,CAGT,CAEA,MAAMuV,EAAW,CACftN,IAAKmN,EACLvI,OAAQuI,EACRlX,KAAMkX,EACNV,QAASW,EACTvK,iBAAkBuK,EAClBpJ,kBAAmBoJ,EACnBG,iBAAkBH,EAClB/I,QAAS+I,EACTI,eAAgBJ,EAChBK,gBAAiBL,EACjBM,cAAeN,EACfxK,QAASwK,EACTlJ,aAAckJ,EACd9I,eAAgB8I,EAChB7I,eAAgB6I,EAChBO,iBAAkBP,EAClBQ,mBAAoBR,EACpBS,WAAYT,EACZ5I,iBAAkB4I,EAClB3I,cAAe2I,EACfU,eAAgBV,EAChBW,UAAWX,EACXY,UAAWZ,EACXa,WAAYb,EACZc,YAAad,EACbe,WAAYf,EACZgB,iBAAkBhB,EAClB1I,eAAgB2I,EAChBvK,QAASA,CAAC/K,EAAGC,EAAI3D,IAAS6Y,EAAoBL,GAAgB9U,GAAI8U,GAAgB7U,GAAG3D,GAAM,IAS7F,OANAqI,EAAM/J,QAAQrC,OAAO4C,KAAK5C,OAAOqI,OAAO,CAAC,EAAGoU,EAASC,KAAW,SAA4B3Y,GAC1F,MAAMoD,EAAQ6V,EAASjZ,IAAS6Y,EAC1BmB,EAAc5W,EAAMsV,EAAQ1Y,GAAO2Y,EAAQ3Y,GAAOA,GACvDqI,EAAMpL,YAAY+c,IAAgB5W,IAAU4V,IAAqBhR,EAAOhI,GAAQga,EACnF,IAEOhS,CACT,CChGA,SAAgBA,IACd,MAAMiS,EAAYxB,GAAY,CAAC,EAAGzQ,GAElC,IAaI0G,GAbA,KAAC9M,EAAI,cAAEyX,EAAa,eAAEnJ,EAAc,eAAED,EAAc,QAAExB,EAAO,KAAEyL,GAAQD,EAe3E,GAbAA,EAAUxL,QAAUA,EAAUsC,GAAanI,KAAK6F,GAEhDwL,EAAUtO,IAAMD,GAASyM,GAAc8B,EAAU7B,QAAS6B,EAAUtO,KAAM3D,EAAOqD,OAAQrD,EAAOkR,kBAG5FgB,GACFzL,EAAQxI,IAAI,gBAAiB,SAC3BkU,MAAMD,EAAKE,UAAY,IAAM,KAAOF,EAAKG,SAAWC,SAASpP,mBAAmBgP,EAAKG,WAAa,MAMlGhS,EAAM7F,WAAWZ,GACnB,GAAIiM,GAASR,uBAAyBQ,GAASN,+BAC7CkB,EAAQM,oBAAenQ,QAClB,IAAiD,KAA5C8P,EAAcD,EAAQE,kBAA6B,CAE7D,MAAO9R,KAASiV,GAAUpD,EAAcA,EAAYnI,MAAM,KAAKlI,KAAIgD,GAASA,EAAMuC,SAAQc,OAAO6V,SAAW,GAC5G9L,EAAQM,eAAe,CAAClS,GAAQ,yBAA0BiV,GAAQvI,KAAK,MACzE,CAOF,GAAIsE,GAASR,wBACXgM,GAAiBhR,EAAMjL,WAAWic,KAAmBA,EAAgBA,EAAcY,IAE/EZ,IAAoC,IAAlBA,GAA2BmB,GAAgBP,EAAUtO,MAAO,CAEhF,MAAM8O,EAAYvK,GAAkBD,GAAkByK,GAAQ3C,KAAK9H,GAE/DwK,GACFhM,EAAQxI,IAAIiK,EAAgBuK,EAEhC,CAGF,OAAOR,CACR,EC1CD,GAFwD,qBAAnBU,gBAEG,SAAU3S,GAChD,OAAO,IAAI4S,SAAQ,SAA4BtG,EAASC,GACtD,MAAMsG,EAAUC,GAAc9S,GAC9B,IAAI+S,EAAcF,EAAQjZ,KAC1B,MAAMoZ,EAAiBjK,GAAanI,KAAKiS,EAAQpM,SAAS6D,YAC1D,IACI2I,EACAC,EAAiBC,EACjBC,EAAaC,GAHb,aAACxL,EAAY,iBAAEyJ,EAAgB,mBAAEC,GAAsBsB,EAK3D,SAAStV,IACP6V,GAAeA,IACfC,GAAiBA,IAEjBR,EAAQhB,aAAegB,EAAQhB,YAAYyB,YAAYL,GAEvDJ,EAAQU,QAAUV,EAAQU,OAAOC,oBAAoB,QAASP,EAChE,CAEA,IAAIhT,EAAU,IAAI0S,eAOlB,SAASc,IACP,IAAKxT,EACH,OAGF,MAAMyT,EAAkB3K,GAAanI,KACnC,0BAA2BX,GAAWA,EAAQ0T,yBAahDtH,IAAO,SAAkBhQ,GACvBiQ,EAAQjQ,GACRkB,GACF,IAAG,SAAiBqW,GAClBrH,EAAOqH,GACPrW,GACF,GAfiB,CACf3D,KAHoBiO,GAAiC,SAAjBA,GAA4C,SAAjBA,EACxC5H,EAAQC,SAA/BD,EAAQ4T,aAGRzT,OAAQH,EAAQG,OAChB0T,WAAY7T,EAAQ6T,WACpBrN,QAASiN,EACT1T,SACAC,YAYFA,EAAU,IACZ,CAlCAA,EAAQ8T,KAAKlB,EAAQtK,OAAOxP,cAAe8Z,EAAQlP,KAAK,GAGxD1D,EAAQ+H,QAAU6K,EAAQ7K,QAiCtB,cAAe/H,EAEjBA,EAAQwT,UAAYA,EAGpBxT,EAAQ+T,mBAAqB,WACtB/T,GAAkC,IAAvBA,EAAQgU,aAQD,IAAnBhU,EAAQG,QAAkBH,EAAQiU,aAAwD,IAAzCjU,EAAQiU,YAAYhX,QAAQ,WAKjFjD,WAAWwZ,EACb,EAIFxT,EAAQkU,QAAU,WACXlU,IAILsM,EAAO,IAAI1M,EAAW,kBAAmBA,EAAWuU,aAAcpU,EAAQC,IAG1EA,EAAU,KACZ,EAGAA,EAAQoU,QAAU,WAGhB9H,EAAO,IAAI1M,EAAW,gBAAiBA,EAAWyU,YAAatU,EAAQC,IAGvEA,EAAU,IACZ,EAGAA,EAAQsU,UAAY,WAClB,IAAIC,EAAsB3B,EAAQ7K,QAAU,cAAgB6K,EAAQ7K,QAAU,cAAgB,mBAC9F,MAAM3B,EAAewM,EAAQxM,cAAgBC,GACzCuM,EAAQ2B,sBACVA,EAAsB3B,EAAQ2B,qBAEhCjI,EAAO,IAAI1M,EACT2U,EACAnO,EAAazB,oBAAsB/E,EAAW4U,UAAY5U,EAAWuU,aACrEpU,EACAC,IAGFA,EAAU,IACZ,OAGgBrJ,IAAhBmc,GAA6BC,EAAejM,eAAe,MAGvD,qBAAsB9G,GACxBI,EAAM/J,QAAQ0c,EAAe1S,UAAU,SAA0B9K,EAAKwB,GACpEiJ,EAAQyU,iBAAiB1d,EAAKxB,EAChC,IAIG6K,EAAMpL,YAAY4d,EAAQzB,mBAC7BnR,EAAQmR,kBAAoByB,EAAQzB,iBAIlCvJ,GAAiC,SAAjBA,IAClB5H,EAAQ4H,aAAegL,EAAQhL,cAI7B0J,KACA4B,EAAmBE,GAAiBpF,GAAqBsD,GAAoB,GAC/EtR,EAAQxG,iBAAiB,WAAY0Z,IAInC7B,GAAoBrR,EAAQ0U,UAC5BzB,EAAiBE,GAAenF,GAAqBqD,GAEvDrR,EAAQ0U,OAAOlb,iBAAiB,WAAYyZ,GAE5CjT,EAAQ0U,OAAOlb,iBAAiB,UAAW2Z,KAGzCP,EAAQhB,aAAegB,EAAQU,UAGjCN,EAAa2B,IACN3U,IAGLsM,GAAQqI,GAAUA,EAAO/f,KAAO,IAAIsX,GAAc,KAAMnM,EAAQC,GAAW2U,GAC3E3U,EAAQ4U,QACR5U,EAAU,KAAI,EAGhB4S,EAAQhB,aAAegB,EAAQhB,YAAYiD,UAAU7B,GACjDJ,EAAQU,SACVV,EAAQU,OAAOwB,QAAU9B,IAAeJ,EAAQU,OAAO9Z,iBAAiB,QAASwZ,KAIrF,MAAM5D,ECvLK,SAAuB1L,GACpC,MAAMR,EAAQ,4BAA4BvF,KAAK+F,GAC/C,OAAOR,GAASA,EAAM,IAAM,EAC9B,CDoLqB6R,CAAcnC,EAAQlP,KAEnC0L,IAAsD,IAA1CxJ,GAASb,UAAU9H,QAAQmS,GACzC9C,EAAO,IAAI1M,EAAW,wBAA0BwP,EAAW,IAAKxP,EAAW2M,gBAAiBxM,IAM9FC,EAAQgV,KAAKlC,GAAe,KAC9B,GACF,EErJA,GA3CuBmC,CAACC,EAASnN,KAC/B,MAAM,OAACrR,GAAWwe,EAAUA,EAAUA,EAAQzY,OAAO6V,SAAW,GAEhE,GAAIvK,GAAWrR,EAAQ,CACrB,IAEIoe,EAFAK,EAAa,IAAIC,gBAIrB,MAAMlB,EAAU,SAAUmB,GACxB,IAAKP,EAAS,CACZA,GAAU,EACVzB,IACA,MAAMM,EAAM0B,aAAkBpX,MAAQoX,EAASha,KAAKga,OACpDF,EAAWP,MAAMjB,aAAe/T,EAAa+T,EAAM,IAAIzH,GAAcyH,aAAe1V,MAAQ0V,EAAI9T,QAAU8T,GAC5G,CACF,EAEA,IAAIlG,EAAQ1F,GAAW/N,YAAW,KAChCyT,EAAQ,KACRyG,EAAQ,IAAItU,EAAW,WAAWmI,mBAA0BnI,EAAW4U,WAAW,GACjFzM,GAEH,MAAMsL,EAAcA,KACd6B,IACFzH,GAASK,aAAaL,GACtBA,EAAQ,KACRyH,EAAQ7e,SAAQid,IACdA,EAAOD,YAAcC,EAAOD,YAAYa,GAAWZ,EAAOC,oBAAoB,QAASW,EAAQ,IAEjGgB,EAAU,KACZ,EAGFA,EAAQ7e,SAASid,GAAWA,EAAO9Z,iBAAiB,QAAS0a,KAE7D,MAAM,OAACZ,GAAU6B,EAIjB,OAFA7B,EAAOD,YAAc,IAAMjT,EAAMnG,KAAKoZ,GAE/BC,CACT,GC3CWgC,GAAc,UAAWC,EAAOC,GAC3C,IAAI1e,EAAMye,EAAME,WAEhB,IAAKD,GAAa1e,EAAM0e,EAEtB,kBADMD,GAIR,IACIG,EADAC,EAAM,EAGV,KAAOA,EAAM7e,GACX4e,EAAMC,EAAMH,QACND,EAAM9gB,MAAMkhB,EAAKD,GACvBC,EAAMD,CAEV,EAQME,GAAaC,gBAAiBC,GAClC,GAAIA,EAAOtgB,OAAOugB,eAEhB,kBADOD,GAIT,MAAME,EAASF,EAAOG,YACtB,IACE,OAAS,CACP,MAAM,KAAC3Y,EAAI,MAAElB,SAAe4Z,EAAOlG,OACnC,GAAIxS,EACF,YAEIlB,CACR,CACF,CAAE,cACM4Z,EAAOrB,QACf,CACF,EAEauB,GAAcA,CAACJ,EAAQN,EAAWW,EAAYC,KACzD,MAAM1gB,EA3BiBmgB,gBAAiBQ,EAAUb,GAClD,UAAW,MAAMD,KAASK,GAAWS,SAC5Bf,GAAYC,EAAOC,EAE9B,CAuBmBc,CAAUR,EAAQN,GAEnC,IACIlY,EADAqP,EAAQ,EAER4J,EAAa/O,IACVlK,IACHA,GAAO,EACP8Y,GAAYA,EAAS5O,GACvB,EAGF,OAAO,IAAIgP,eAAe,CACxB,UAAMC,CAAKtB,GACT,IACE,MAAM,KAAC7X,EAAI,MAAElB,SAAe1G,EAAS2H,OAErC,GAAIC,EAGF,OAFDiZ,SACCpB,EAAWuB,QAIb,IAAI5f,EAAMsF,EAAMqZ,WAChB,GAAIU,EAAY,CACd,IAAIQ,EAAchK,GAAS7V,EAC3Bqf,EAAWQ,EACb,CACAxB,EAAWyB,QAAQ,IAAIjf,WAAWyE,GACpC,CAAE,MAAOuX,GAEP,MADA4C,EAAU5C,GACJA,CACR,CACF,EACAgB,OAAOU,IACLkB,EAAUlB,GACH3f,EAASmhB,WAEjB,CACDC,cAAe,GACf,EC3EEC,GAAoC,oBAAVC,OAA2C,oBAAZC,SAA8C,oBAAbC,SAC1FC,GAA4BJ,IAA8C,oBAAnBP,eAGvDY,GAAaL,KAA4C,oBAAhBM,aACzC9T,GAA0C,IAAI8T,YAAjC9iB,GAAQgP,GAAQR,OAAOxO,IACtCshB,SAAe,IAAIle,iBAAiB,IAAIuf,SAAS3iB,GAAK+iB,gBADtD,IAAE/T,GAIN,MAAM/B,GAAO,SAAC7N,GACZ,IAAI,QAAAgX,EAAA7W,UAAA4C,OADemX,EAAI,IAAA9Y,MAAA4V,EAAA,EAAAA,EAAA,KAAA1T,EAAA,EAAAA,EAAA0T,EAAA1T,IAAJ4W,EAAI5W,EAAA,GAAAnD,UAAAmD,GAErB,QAAStD,KAAMka,EACjB,CAAE,MAAOrG,GACP,OAAO,CACT,CACF,EAEM+P,GAAwBJ,IAA6B3V,IAAK,KAC9D,IAAIgW,GAAiB,EAErB,MAAMC,EAAiB,IAAIR,QAAQrR,GAASH,OAAQ,CAClDiS,KAAM,IAAIlB,eACVlO,OAAQ,OACR,UAAIqP,GAEF,OADAH,GAAiB,EACV,MACT,IACChR,QAAQwD,IAAI,gBAEf,OAAOwN,IAAmBC,CAAc,IAKpCG,GAAyBT,IAC7B3V,IAAK,IAAMpB,EAAMpK,iBAAiB,IAAIkhB,SAAS,IAAIQ,QAG/CG,GAAY,CAChB/B,OAAQ8B,IAA0B,CAAEE,GAAQA,EAAIJ,OAG7B,IAAEI,GAAvBf,KAAuBe,GAOpB,IAAIZ,SANL,CAAC,OAAQ,cAAe,OAAQ,WAAY,UAAU7gB,SAAQzB,KAC3DijB,GAAUjjB,KAAUijB,GAAUjjB,GAAQwL,EAAMjL,WAAW2iB,GAAIljB,IAAUkjB,GAAQA,EAAIljB,KAChF,CAACmjB,EAAGhY,KACF,MAAM,IAAIH,EAAW,kBAAkBhL,sBAA0BgL,EAAWoY,gBAAiBjY,EAAO,EACpG,KAIR,MA8BMkY,GAAoBpC,MAAOrP,EAASkR,KACxC,MAAMhhB,EAAS0J,EAAMxB,eAAe4H,EAAQ0R,oBAE5C,OAAiB,MAAVxhB,EAjCamf,WACpB,GAAY,MAAR6B,EACF,OAAO,EAGT,GAAGtX,EAAMvK,OAAO6hB,GACd,OAAOA,EAAKzY,KAGd,GAAGmB,EAAMjB,oBAAoBuY,GAAO,CAClC,MAAMS,EAAW,IAAIlB,QAAQrR,GAASH,OAAQ,CAC5C6C,OAAQ,OACRoP,SAEF,aAAcS,EAASb,eAAe7B,UACxC,CAEA,OAAGrV,EAAMzF,kBAAkB+c,IAAStX,EAAMnL,cAAcyiB,GAC/CA,EAAKjC,YAGXrV,EAAMrK,kBAAkB2hB,KACzBA,GAAc,IAGbtX,EAAMlL,SAASwiB,UACFN,GAAWM,IAAOjC,gBADlC,EAEA,EAMwB2C,CAAcV,GAAQhhB,CAAM,ECxFhD2hB,GAAgB,CACpBC,KCNF,KDOEC,IAAKC,GACLxB,MDwFaD,IAAoB,OAAClB,IAClC,IAAI,IACFnS,EAAG,OACH4E,EAAM,KACN3O,EAAI,OACJ2Z,EAAM,YACN1B,EAAW,QACX7J,EAAO,mBACPuJ,EAAkB,iBAClBD,EAAgB,aAChBzJ,EAAY,QACZpB,EAAO,gBACP2K,EAAkB,cAAa,aAC/BsH,GACE5F,GAAc9S,GAElB6H,EAAeA,GAAgBA,EAAe,IAAIlT,cAAgB,OAElE,IAEIsL,EAFA0Y,EAAiBzD,GAAe,CAAC3B,EAAQ1B,GAAeA,EAAY+G,iBAAkB5Q,GAI1F,MAAMsL,EAAcqF,GAAkBA,EAAerF,aAAe,MAChEqF,EAAerF,aAClB,GAED,IAAIuF,EAEJ,IACE,GACEvH,GAAoBkG,IAAoC,QAAXjP,GAA+B,SAAXA,GACG,KAAnEsQ,QAA6BX,GAAkBzR,EAAS7M,IACzD,CACA,IAMIkf,EANAV,EAAW,IAAIlB,QAAQvT,EAAK,CAC9B4E,OAAQ,OACRoP,KAAM/d,EACNge,OAAQ,SASV,GAJIvX,EAAM7F,WAAWZ,KAAUkf,EAAoBV,EAAS3R,QAAQoD,IAAI,kBACtEpD,EAAQM,eAAe+R,GAGrBV,EAAST,KAAM,CACjB,MAAOvB,EAAYpI,GAASgB,GAC1B6J,EACA5K,GAAqBiB,GAAeoC,KAGtC1X,EAAOuc,GAAYiC,EAAST,KA1GT,MA0GmCvB,EAAYpI,EACpE,CACF,CAEK3N,EAAMlL,SAASic,KAClBA,EAAkBA,EAAkB,UAAY,QAKlD,MAAM2H,EAAyB,gBAAiB7B,QAAQhjB,UACxD+L,EAAU,IAAIiX,QAAQvT,EAAK,IACtB+U,EACHnF,OAAQoF,EACRpQ,OAAQA,EAAOxP,cACf0N,QAASA,EAAQ6D,YAAYhK,SAC7BqX,KAAM/d,EACNge,OAAQ,OACRoB,YAAaD,EAAyB3H,OAAkBxa,IAG1D,IAAIsJ,QAAiB+W,MAAMhX,GAE3B,MAAMgZ,EAAmBpB,KAA4C,WAAjBhQ,GAA8C,aAAjBA,GAEjF,GAAIgQ,KAA2BtG,GAAuB0H,GAAoB3F,GAAe,CACvF,MAAM3R,EAAU,CAAC,EAEjB,CAAC,SAAU,aAAc,WAAWrL,SAAQ0B,IAC1C2J,EAAQ3J,GAAQkI,EAASlI,EAAK,IAGhC,MAAMkhB,EAAwB7Y,EAAMxB,eAAeqB,EAASuG,QAAQoD,IAAI,oBAEjEuM,EAAYpI,GAASuD,GAAsBvC,GAChDkK,EACAjL,GAAqBiB,GAAeqC,IAAqB,KACtD,GAELrR,EAAW,IAAIiX,SACbhB,GAAYjW,EAASyX,KAlJF,MAkJ4BvB,GAAY,KACzDpI,GAASA,IACTsF,GAAeA,GAAa,IAE9B3R,EAEJ,CAEAkG,EAAeA,GAAgB,OAE/B,IAAIsR,QAAqBrB,GAAUzX,EAAMpJ,QAAQ6gB,GAAWjQ,IAAiB,QAAQ3H,EAAUF,GAI/F,OAFCiZ,GAAoB3F,GAAeA,UAEvB,IAAIV,SAAQ,CAACtG,EAASC,KACjCF,GAAOC,EAASC,EAAQ,CACtB3S,KAAMuf,EACN1S,QAASsC,GAAanI,KAAKV,EAASuG,SACpCrG,OAAQF,EAASE,OACjB0T,WAAY5T,EAAS4T,WACrB9T,SACAC,WACA,GAEN,CAAE,MAAO2T,GAGP,GAFAN,GAAeA,IAEXM,GAAoB,cAAbA,EAAIpb,MAAwB,SAASiJ,KAAKmS,EAAI9T,SACvD,MAAM7L,OAAOqI,OACX,IAAIuD,EAAW,gBAAiBA,EAAWyU,YAAatU,EAAQC,GAChE,CACEe,MAAO4S,EAAI5S,OAAS4S,IAK1B,MAAM/T,EAAWe,KAAKgT,EAAKA,GAAOA,EAAI7T,KAAMC,EAAQC,EACtD,CACD,ICtNDI,EAAM/J,QAAQgiB,IAAe,CAAC1kB,EAAIyI,KAChC,GAAIzI,EAAI,CACN,IACEK,OAAOmI,eAAexI,EAAI,OAAQ,CAACyI,SACrC,CAAE,MAAOoL,GACP,CAEFxT,OAAOmI,eAAexI,EAAI,cAAe,CAACyI,SAC5C,KAGF,MAAM+c,GAAgB9D,GAAW,KAAKA,IAEhC+D,GAAoB9S,GAAYlG,EAAMjL,WAAWmR,IAAwB,OAAZA,IAAgC,IAAZA,EAEvF,GACe+S,IACXA,EAAWjZ,EAAMtL,QAAQukB,GAAYA,EAAW,CAACA,GAEjD,MAAM,OAAC3iB,GAAU2iB,EACjB,IAAIC,EACAhT,EAEJ,MAAMiT,EAAkB,CAAC,EAEzB,IAAK,IAAIhjB,EAAI,EAAGA,EAAIG,EAAQH,IAAK,CAE/B,IAAI+N,EAIJ,GALAgV,EAAgBD,EAAS9iB,GAGzB+P,EAAUgT,GAELF,GAAiBE,KACpBhT,EAAU+R,IAAe/T,EAAKvH,OAAOuc,IAAgB5kB,oBAErCiC,IAAZ2P,GACF,MAAM,IAAI1G,EAAW,oBAAoB0E,MAI7C,GAAIgC,EACF,MAGFiT,EAAgBjV,GAAM,IAAM/N,GAAK+P,CACnC,CAEA,IAAKA,EAAS,CAEZ,MAAMkT,EAAUxlB,OAAOiS,QAAQsT,GAC5BnjB,KAAI0B,IAAA,IAAEwM,EAAImV,GAAM3hB,EAAA,MAAK,WAAWwM,OACpB,IAAVmV,EAAkB,sCAAwC,gCAAgC,IAG/F,IAAIC,EAAIhjB,EACL8iB,EAAQ9iB,OAAS,EAAI,YAAc8iB,EAAQpjB,IAAI+iB,IAAc7X,KAAK,MAAQ,IAAM6X,GAAaK,EAAQ,IACtG,0BAEF,MAAM,IAAI5Z,EACR,wDAA0D8Z,EAC1D,kBAEJ,CAEA,OAAOpT,CAAO,EE3DlB,SAASqT,GAA6B5Z,GAKpC,GAJIA,EAAO6R,aACT7R,EAAO6R,YAAYgI,mBAGjB7Z,EAAOuT,QAAUvT,EAAOuT,OAAOwB,QACjC,MAAM,IAAI5I,GAAc,KAAMnM,EAElC,CASe,SAAS8Z,GAAgB9Z,GACtC4Z,GAA6B5Z,GAE7BA,EAAOyG,QAAUsC,GAAanI,KAAKZ,EAAOyG,SAG1CzG,EAAOpG,KAAOmS,GAActX,KAC1BuL,EACAA,EAAOwG,mBAGgD,IAArD,CAAC,OAAQ,MAAO,SAAStJ,QAAQ8C,EAAOuI,SAC1CvI,EAAOyG,QAAQM,eAAe,qCAAqC,GAKrE,OAFgBuS,GAAoBtZ,EAAOuG,SAAWH,GAASG,QAExDA,CAAQvG,GAAQL,MAAK,SAA6BO,GAYvD,OAXA0Z,GAA6B5Z,GAG7BE,EAAStG,KAAOmS,GAActX,KAC5BuL,EACAA,EAAO2H,kBACPzH,GAGFA,EAASuG,QAAUsC,GAAanI,KAAKV,EAASuG,SAEvCvG,CACT,IAAG,SAA4BoV,GAe7B,OAdKrJ,GAASqJ,KACZsE,GAA6B5Z,GAGzBsV,GAAUA,EAAOpV,WACnBoV,EAAOpV,SAAStG,KAAOmS,GAActX,KACnCuL,EACAA,EAAO2H,kBACP2N,EAAOpV,UAEToV,EAAOpV,SAASuG,QAAUsC,GAAanI,KAAK0U,EAAOpV,SAASuG,WAIzDmM,QAAQrG,OAAO+I,EACxB,GACF,CChFO,MAAMyE,GAAU,QCKjBC,GAAa,CAAC,EAGpB,CAAC,SAAU,UAAW,SAAU,WAAY,SAAU,UAAU1jB,SAAQ,CAACzB,EAAM2B,KAC7EwjB,GAAWnlB,GAAQ,SAAmBN,GACpC,cAAcA,IAAUM,GAAQ,KAAO2B,EAAI,EAAI,KAAO,KAAO3B,CAC/D,CAAC,IAGH,MAAMolB,GAAqB,CAAC,EAW5BD,GAAW3T,aAAe,SAAsB6T,EAAWC,EAASra,GAClE,SAASsa,EAAcC,EAAKC,GAC1B,MAAO,uCAAoDD,EAAM,IAAOC,GAAQxa,EAAU,KAAOA,EAAU,GAC7G,CAGA,MAAO,CAACzD,EAAOge,EAAKE,KAClB,IAAkB,IAAdL,EACF,MAAM,IAAIra,EACRua,EAAcC,EAAK,qBAAuBF,EAAU,OAASA,EAAU,KACvEta,EAAW2a,gBAef,OAXIL,IAAYF,GAAmBI,KACjCJ,GAAmBI,IAAO,EAE1BI,QAAQC,KACNN,EACEC,EACA,+BAAiCF,EAAU,8CAK1CD,GAAYA,EAAU7d,EAAOge,EAAKE,EAAY,CAEzD,EAEAP,GAAWW,SAAW,SAAkBC,GACtC,MAAO,CAACve,EAAOge,KAEbI,QAAQC,KAAK,GAAGL,gCAAkCO,MAC3C,EAEX,EAmCA,UACEC,cAxBF,SAAuBlZ,EAASmZ,EAAQC,GACtC,GAAuB,kBAAZpZ,EACT,MAAM,IAAI9B,EAAW,4BAA6BA,EAAWmb,sBAE/D,MAAMnkB,EAAO5C,OAAO4C,KAAK8K,GACzB,IAAInL,EAAIK,EAAKF,OACb,KAAOH,KAAM,GAAG,CACd,MAAM6jB,EAAMxjB,EAAKL,GACX0jB,EAAYY,EAAOT,GACzB,GAAIH,EAAJ,CACE,MAAM7d,EAAQsF,EAAQ0Y,GAChBxf,OAAmBjE,IAAVyF,GAAuB6d,EAAU7d,EAAOge,EAAK1Y,GAC5D,IAAe,IAAX9G,EACF,MAAM,IAAIgF,EAAW,UAAYwa,EAAM,YAAcxf,EAAQgF,EAAWmb,qBAG5E,MACA,IAAqB,IAAjBD,EACF,MAAM,IAAIlb,EAAW,kBAAoBwa,EAAKxa,EAAWob,eAE7D,CACF,EAIEjB,eCtFIA,GAAaE,GAAUF,WAS7B,MAAMkB,GACJ3gB,WAAAA,CAAY4gB,GACV7f,KAAK8K,SAAW+U,EAChB7f,KAAK8f,aAAe,CAClBnb,QAAS,IAAIob,GACbnb,SAAU,IAAImb,GAElB,CAUA,aAAMpb,CAAQqb,EAAatb,GACzB,IACE,aAAa1E,KAAK8c,SAASkD,EAAatb,EAC1C,CAAE,MAAO4T,GACP,GAAIA,aAAe1V,MAAO,CACxB,IAAIqd,EAAQ,CAAC,EAEbrd,MAAMiC,kBAAoBjC,MAAMiC,kBAAkBob,GAAUA,EAAQ,IAAIrd,MAGxE,MAAMoB,EAAQic,EAAMjc,MAAQic,EAAMjc,MAAMzD,QAAQ,QAAS,IAAM,GAC/D,IACO+X,EAAItU,MAGEA,IAAUtC,OAAO4W,EAAItU,OAAOzC,SAASyC,EAAMzD,QAAQ,YAAa,OACzE+X,EAAItU,OAAS,KAAOA,GAHpBsU,EAAItU,MAAQA,CAKhB,CAAE,MAAOmI,GACP,CAEJ,CAEA,MAAMmM,CACR,CACF,CAEAwE,QAAAA,CAASkD,EAAatb,GAGO,kBAAhBsb,GACTtb,EAASA,GAAU,CAAC,GACb2D,IAAM2X,EAEbtb,EAASsb,GAAe,CAAC,EAG3Btb,EAASyQ,GAAYnV,KAAK8K,SAAUpG,GAEpC,MAAM,aAACqG,EAAY,iBAAE6K,EAAgB,QAAEzK,GAAWzG,OAE7BpJ,IAAjByP,GACF6T,GAAUW,cAAcxU,EAAc,CACpC3B,kBAAmBsV,GAAW3T,aAAa2T,GAAWwB,SACtD7W,kBAAmBqV,GAAW3T,aAAa2T,GAAWwB,SACtD5W,oBAAqBoV,GAAW3T,aAAa2T,GAAWwB,WACvD,GAGmB,MAApBtK,IACE7Q,EAAMjL,WAAW8b,GACnBlR,EAAOkR,iBAAmB,CACxBtN,UAAWsN,GAGbgJ,GAAUW,cAAc3J,EAAkB,CACxClO,OAAQgX,GAAWyB,SACnB7X,UAAWoW,GAAWyB,WACrB,IAIPvB,GAAUW,cAAc7a,EAAQ,CAC9B0b,QAAS1B,GAAWW,SAAS,WAC7BgB,cAAe3B,GAAWW,SAAS,mBAClC,GAGH3a,EAAOuI,QAAUvI,EAAOuI,QAAUjN,KAAK8K,SAASmC,QAAU,OAAO5T,cAGjE,IAAIinB,EAAiBnV,GAAWpG,EAAMjF,MACpCqL,EAAQ6B,OACR7B,EAAQzG,EAAOuI,SAGjB9B,GAAWpG,EAAM/J,QACf,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,QAAS,WACjDiS,WACQ9B,EAAQ8B,EAAO,IAI1BvI,EAAOyG,QAAUsC,GAAazH,OAAOsa,EAAgBnV,GAGrD,MAAMoV,EAA0B,GAChC,IAAIC,GAAiC,EACrCxgB,KAAK8f,aAAanb,QAAQ3J,SAAQ,SAAoCylB,GACjC,oBAAxBA,EAAY1X,UAA0D,IAAhC0X,EAAY1X,QAAQrE,KAIrE8b,EAAiCA,GAAkCC,EAAY3X,YAE/EyX,EAAwBG,QAAQD,EAAY7X,UAAW6X,EAAY5X,UACrE,IAEA,MAAM8X,EAA2B,GAKjC,IAAIC,EAJJ5gB,KAAK8f,aAAalb,SAAS5J,SAAQ,SAAkCylB,GACnEE,EAAyBliB,KAAKgiB,EAAY7X,UAAW6X,EAAY5X,SACnE,IAGA,IACIpN,EADAP,EAAI,EAGR,IAAKslB,EAAgC,CACnC,MAAMK,EAAQ,CAACrC,GAAgBnmB,KAAK2H,WAAO1E,GAO3C,IANAulB,EAAMH,QAAQloB,MAAMqoB,EAAON,GAC3BM,EAAMpiB,KAAKjG,MAAMqoB,EAAOF,GACxBllB,EAAMolB,EAAMxlB,OAEZulB,EAAUtJ,QAAQtG,QAAQtM,GAEnBxJ,EAAIO,GACTmlB,EAAUA,EAAQvc,KAAKwc,EAAM3lB,KAAM2lB,EAAM3lB,MAG3C,OAAO0lB,CACT,CAEAnlB,EAAM8kB,EAAwBllB,OAE9B,IAAIsb,EAAYjS,EAIhB,IAFAxJ,EAAI,EAEGA,EAAIO,GAAK,CACd,MAAMqlB,EAAcP,EAAwBrlB,KACtC6lB,EAAaR,EAAwBrlB,KAC3C,IACEyb,EAAYmK,EAAYnK,EAC1B,CAAE,MAAOpR,GACPwb,EAAW5nB,KAAK6G,KAAMuF,GACtB,KACF,CACF,CAEA,IACEqb,EAAUpC,GAAgBrlB,KAAK6G,KAAM2W,EACvC,CAAE,MAAOpR,GACP,OAAO+R,QAAQrG,OAAO1L,EACxB,CAKA,IAHArK,EAAI,EACJO,EAAMklB,EAAyBtlB,OAExBH,EAAIO,GACTmlB,EAAUA,EAAQvc,KAAKsc,EAAyBzlB,KAAMylB,EAAyBzlB,MAGjF,OAAO0lB,CACT,CAEAI,MAAAA,CAAOtc,GAGL,OAAO0D,GADUyM,IADjBnQ,EAASyQ,GAAYnV,KAAK8K,SAAUpG,IACEoQ,QAASpQ,EAAO2D,KAC5B3D,EAAOqD,OAAQrD,EAAOkR,iBAClD,EAIF7Q,EAAM/J,QAAQ,CAAC,SAAU,MAAO,OAAQ,YAAY,SAA6BiS,GAE/E2S,GAAMhnB,UAAUqU,GAAU,SAAS5E,EAAK3D,GACtC,OAAO1E,KAAK2E,QAAQwQ,GAAYzQ,GAAU,CAAC,EAAG,CAC5CuI,SACA5E,MACA/J,MAAOoG,GAAU,CAAC,GAAGpG,OAEzB,CACF,IAEAyG,EAAM/J,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BiS,GAGrE,SAASgU,EAAmBC,GAC1B,OAAO,SAAoB7Y,EAAK/J,EAAMoG,GACpC,OAAO1E,KAAK2E,QAAQwQ,GAAYzQ,GAAU,CAAC,EAAG,CAC5CuI,SACA9B,QAAS+V,EAAS,CAChB,eAAgB,uBACd,CAAC,EACL7Y,MACA/J,SAEJ,CACF,CAEAshB,GAAMhnB,UAAUqU,GAAUgU,IAE1BrB,GAAMhnB,UAAUqU,EAAS,QAAUgU,GAAmB,EACxD,IAEA,YC7NA,MAAME,GACJliB,WAAAA,CAAYmiB,GACV,GAAwB,oBAAbA,EACT,MAAM,IAAI9a,UAAU,gCAGtB,IAAI+a,EAEJrhB,KAAK4gB,QAAU,IAAItJ,SAAQ,SAAyBtG,GAClDqQ,EAAiBrQ,CACnB,IAEA,MAAMjT,EAAQiC,KAGdA,KAAK4gB,QAAQvc,MAAKiV,IAChB,IAAKvb,EAAMujB,WAAY,OAEvB,IAAIpmB,EAAI6C,EAAMujB,WAAWjmB,OAEzB,KAAOH,KAAM,GACX6C,EAAMujB,WAAWpmB,GAAGoe,GAEtBvb,EAAMujB,WAAa,IAAI,IAIzBthB,KAAK4gB,QAAQvc,KAAOkd,IAClB,IAAIC,EAEJ,MAAMZ,EAAU,IAAItJ,SAAQtG,IAC1BjT,EAAMyb,UAAUxI,GAChBwQ,EAAWxQ,CAAO,IACjB3M,KAAKkd,GAMR,OAJAX,EAAQtH,OAAS,WACfvb,EAAMia,YAAYwJ,EACpB,EAEOZ,CAAO,EAGhBQ,GAAS,SAAgB5c,EAASE,EAAQC,GACpC5G,EAAMic,SAKVjc,EAAMic,OAAS,IAAInJ,GAAcrM,EAASE,EAAQC,GAClD0c,EAAetjB,EAAMic,QACvB,GACF,CAKAuE,gBAAAA,GACE,GAAIve,KAAKga,OACP,MAAMha,KAAKga,MAEf,CAMAR,SAAAA,CAAU5G,GACJ5S,KAAKga,OACPpH,EAAS5S,KAAKga,QAIZha,KAAKshB,WACPthB,KAAKshB,WAAW7iB,KAAKmU,GAErB5S,KAAKshB,WAAa,CAAC1O,EAEvB,CAMAoF,WAAAA,CAAYpF,GACV,IAAK5S,KAAKshB,WACR,OAEF,MAAMha,EAAQtH,KAAKshB,WAAW1f,QAAQgR,IACvB,IAAXtL,GACFtH,KAAKshB,WAAWG,OAAOna,EAAO,EAElC,CAEAgW,aAAAA,GACE,MAAMxD,EAAa,IAAIC,gBAEjBR,EAASjB,IACbwB,EAAWP,MAAMjB,EAAI,EAOvB,OAJAtY,KAAKwZ,UAAUD,GAEfO,EAAW7B,OAAOD,YAAc,IAAMhY,KAAKgY,YAAYuB,GAEhDO,EAAW7B,MACpB,CAMA,aAAO5Z,GACL,IAAIib,EAIJ,MAAO,CACLvb,MAJY,IAAIojB,IAAY,SAAkBO,GAC9CpI,EAASoI,CACX,IAGEpI,SAEJ,EAGF,YCtIA,MAAMqI,GAAiB,CACrBC,SAAU,IACVC,mBAAoB,IACpBC,WAAY,IACZC,WAAY,IACZC,GAAI,IACJC,QAAS,IACTC,SAAU,IACVC,4BAA6B,IAC7BC,UAAW,IACXC,aAAc,IACdC,eAAgB,IAChBC,YAAa,IACbC,gBAAiB,IACjBC,OAAQ,IACRC,gBAAiB,IACjBC,iBAAkB,IAClBC,MAAO,IACPC,SAAU,IACVC,YAAa,IACbC,SAAU,IACVC,OAAQ,IACRC,kBAAmB,IACnBC,kBAAmB,IACnBC,WAAY,IACZC,aAAc,IACdC,gBAAiB,IACjBC,UAAW,IACXC,SAAU,IACVC,iBAAkB,IAClBC,cAAe,IACfC,4BAA6B,IAC7BC,eAAgB,IAChBC,SAAU,IACVC,KAAM,IACNC,eAAgB,IAChBC,mBAAoB,IACpBC,gBAAiB,IACjBC,WAAY,IACZC,qBAAsB,IACtBC,oBAAqB,IACrBC,kBAAmB,IACnBC,UAAW,IACXC,mBAAoB,IACpBC,oBAAqB,IACrBC,OAAQ,IACRC,iBAAkB,IAClBC,SAAU,IACVC,gBAAiB,IACjBC,qBAAsB,IACtBC,gBAAiB,IACjBC,4BAA6B,IAC7BC,2BAA4B,IAC5BC,oBAAqB,IACrBC,eAAgB,IAChBC,WAAY,IACZC,mBAAoB,IACpBC,eAAgB,IAChBC,wBAAyB,IACzBC,sBAAuB,IACvBC,oBAAqB,IACrBC,aAAc,IACdC,YAAa,IACbC,8BAA+B,KAGjC/sB,OAAOiS,QAAQ+W,IAAgB3mB,SAAQyB,IAAkB,IAAhBf,EAAKqF,GAAMtE,EAClDklB,GAAe5gB,GAASrF,CAAG,IAG7B,YCxBA,MAAMiqB,GAnBN,SAASC,EAAeC,GACtB,MAAM1pB,EAAU,IAAIyjB,GAAMiG,GACpBC,EAAWztB,EAAKunB,GAAMhnB,UAAU+L,QAASxI,GAa/C,OAVA4I,EAAM5E,OAAO2lB,EAAUlG,GAAMhnB,UAAWuD,EAAS,CAACf,YAAY,IAG9D2J,EAAM5E,OAAO2lB,EAAU3pB,EAAS,KAAM,CAACf,YAAY,IAGnD0qB,EAAS9sB,OAAS,SAAgB6mB,GAChC,OAAO+F,EAAezQ,GAAY0Q,EAAehG,GACnD,EAEOiG,CACT,CAGcF,CAAe9a,IAG7B6a,GAAM/F,MAAQA,GAGd+F,GAAM9U,cAAgBA,GACtB8U,GAAMxE,YAAcA,GACpBwE,GAAMhV,SAAWA,GACjBgV,GAAMlH,QAAUA,GAChBkH,GAAM1d,WAAaA,EAGnB0d,GAAMphB,WAAaA,EAGnBohB,GAAMI,OAASJ,GAAM9U,cAGrB8U,GAAMK,IAAM,SAAaC,GACvB,OAAO3O,QAAQ0O,IAAIC,EACrB,EAEAN,GAAMO,OC9CS,SAAgBC,GAC7B,OAAO,SAAcrkB,GACnB,OAAOqkB,EAAS3tB,MAAM,KAAMsJ,EAC9B,CACF,ED6CA6jB,GAAMS,aE7DS,SAAsBC,GACnC,OAAOthB,EAAM/K,SAASqsB,KAAsC,IAAzBA,EAAQD,YAC7C,EF8DAT,GAAMxQ,YAAcA,GAEpBwQ,GAAMlY,aAAeA,GAErBkY,GAAMW,WAAartB,GAASuS,GAAezG,EAAMxI,WAAWtD,GAAS,IAAImG,SAASnG,GAASA,GAE3F0sB,GAAMY,WAAavI,GAEnB2H,GAAMhE,eAAiBA,GAEvBgE,GAAMa,QAAUb,GAGhB,2BGlFA,SAAS1T,EAAMwU,GACb,OAAOA,EAAI,GAAM,CACnB,oBACA,MAAMC,EAAMA,CAACD,EAAGtrB,EAAGgO,IAAMnL,KAAK2oB,IAAI3oB,KAAKqT,IAAIoV,EAAGtd,GAAIhO,GAClD,SAASyrB,EAAIH,GACX,OAAOC,EAAIzU,EAAU,KAAJwU,GAAW,EAAG,IACjC,CAIA,SAASI,EAAIJ,GACX,OAAOC,EAAIzU,EAAU,IAAJwU,GAAU,EAAG,IAChC,CACA,SAASK,EAAIL,GACX,OAAOC,EAAIzU,EAAMwU,EAAI,MAAQ,IAAK,EAAG,EACvC,CACA,SAASM,EAAIN,GACX,OAAOC,EAAIzU,EAAU,IAAJwU,GAAU,EAAG,IAChC,CAEA,MAAMO,EAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAGC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIlnB,EAAG,GAAIC,EAAG,GAAIqhB,EAAG,GAAI6F,EAAG,GAAIpb,EAAG,GAAIqb,EAAG,IACrJC,EAAM,IAAI,oBACVC,EAAKrnB,GAAKonB,EAAQ,GAAJpnB,GACdsnB,EAAKtnB,GAAKonB,GAAS,IAAJpnB,IAAa,GAAKonB,EAAQ,GAAJpnB,GACrCunB,EAAKvnB,IAAW,IAAJA,IAAa,KAAY,GAAJA,GAyBvC,SAASwnB,EAAUpB,GACjB,IAAIe,EAzBUf,IAAKmB,EAAGnB,EAAEqB,IAAMF,EAAGnB,EAAEsB,IAAMH,EAAGnB,EAAEpmB,IAAMunB,EAAGnB,EAAErmB,GAyBjD4nB,CAAQvB,GAAKiB,EAAKC,EAC1B,OAAOlB,EACH,IAAMe,EAAEf,EAAEqB,GAAKN,EAAEf,EAAEsB,GAAKP,EAAEf,EAAEpmB,GAJpB4nB,EAAC7nB,EAAGonB,IAAMpnB,EAAI,IAAMonB,EAAEpnB,GAAK,GAIF6nB,CAAMxB,EAAErmB,EAAGonB,QAC5ClsB,CACN,CAEA,MAAM4sB,EAAS,+GACf,SAASC,EAAShf,EAAGkV,EAAGljB,GACtB,MAAMiF,EAAIie,EAAIrgB,KAAKqT,IAAIlW,EAAG,EAAIA,GACxBqsB,EAAI,SAACY,GAAC,IAAEC,EAAC5vB,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,IAAI2vB,EAAIjf,EAAI,IAAM,GAAE,OAAKhO,EAAIiF,EAAIpC,KAAK2oB,IAAI3oB,KAAKqT,IAAIgX,EAAI,EAAG,EAAIA,EAAG,IAAK,EAAE,EACvF,MAAO,CAACb,EAAE,GAAIA,EAAE,GAAIA,EAAE,GACxB,CACA,SAASc,EAASnf,EAAGkV,EAAGoI,GACtB,MAAMe,EAAI,SAACY,GAAC,IAAEC,EAAC5vB,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,IAAI2vB,EAAIjf,EAAI,IAAM,EAAC,OAAKsd,EAAIA,EAAIpI,EAAIrgB,KAAK2oB,IAAI3oB,KAAKqT,IAAIgX,EAAG,EAAIA,EAAG,GAAI,EAAE,EACrF,MAAO,CAACb,EAAE,GAAIA,EAAE,GAAIA,EAAE,GACxB,CACA,SAASe,EAASpf,EAAGgG,EAAG9O,GACtB,MAAMmoB,EAAML,EAAShf,EAAG,EAAG,IAC3B,IAAIjO,EAMJ,IALIiU,EAAI9O,EAAI,IACVnF,EAAI,GAAKiU,EAAI9O,GACb8O,GAAKjU,EACLmF,GAAKnF,GAEFA,EAAI,EAAGA,EAAI,EAAGA,IACjBstB,EAAIttB,IAAM,EAAIiU,EAAI9O,EAClBmoB,EAAIttB,IAAMiU,EAEZ,OAAOqZ,CACT,CAUA,SAASC,EAAQhC,GACf,MACMqB,EAAIrB,EAAEqB,EADE,IAERC,EAAItB,EAAEsB,EAFE,IAGR1nB,EAAIomB,EAAEpmB,EAHE,IAIRsmB,EAAM3oB,KAAK2oB,IAAImB,EAAGC,EAAG1nB,GACrBgR,EAAMrT,KAAKqT,IAAIyW,EAAGC,EAAG1nB,GACrBlF,GAAKwrB,EAAMtV,GAAO,EACxB,IAAIlI,EAAGkV,EAAGkJ,EAOV,OANIZ,IAAQtV,IACVkW,EAAIZ,EAAMtV,EACVgN,EAAIljB,EAAI,GAAMosB,GAAK,EAAIZ,EAAMtV,GAAOkW,GAAKZ,EAAMtV,GAC/ClI,EArBJ,SAAkB2e,EAAGC,EAAG1nB,EAAGknB,EAAGZ,GAC5B,OAAImB,IAAMnB,GACCoB,EAAI1nB,GAAKknB,GAAMQ,EAAI1nB,EAAI,EAAI,GAElC0nB,IAAMpB,GACAtmB,EAAIynB,GAAKP,EAAI,GAEfO,EAAIC,GAAKR,EAAI,CACvB,CAaQmB,CAASZ,EAAGC,EAAG1nB,EAAGknB,EAAGZ,GACzBxd,EAAQ,GAAJA,EAAS,IAER,CAAK,EAAJA,EAAOkV,GAAK,EAAGljB,EACzB,CACA,SAASwtB,EAAMnB,EAAGpnB,EAAGC,EAAGqhB,GACtB,OACEhoB,MAAMD,QAAQ2G,GACVonB,EAAEpnB,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAChBonB,EAAEpnB,EAAGC,EAAGqhB,IACZ3mB,IAAI8rB,EACR,CACA,SAAS+B,EAAQzf,EAAGkV,EAAGljB,GACrB,OAAOwtB,EAAMR,EAAUhf,EAAGkV,EAAGljB,EAC/B,CAOA,SAAS0tB,EAAI1f,GACX,OAAQA,EAAI,IAAM,KAAO,GAC3B,CACA,SAAS2f,EAAS5vB,GAChB,MAAMiK,EAAI+kB,EAAO5lB,KAAKpJ,GACtB,IACIutB,EADArmB,EAAI,IAER,IAAK+C,EACH,OAEEA,EAAE,KAAOsjB,IACXrmB,EAAI+C,EAAE,GAAKyjB,GAAKzjB,EAAE,IAAM0jB,GAAK1jB,EAAE,KAEjC,MAAMgG,EAAI0f,GAAK1lB,EAAE,IACXC,GAAMD,EAAE,GAAK,IACbE,GAAMF,EAAE,GAAK,IAQnB,OANEsjB,EADW,QAATtjB,EAAE,GAtBR,SAAiBgG,EAAGgG,EAAG9O,GACrB,OAAOsoB,EAAMJ,EAAUpf,EAAGgG,EAAG9O,EAC/B,CAqBQ0oB,CAAQ5f,EAAG/F,EAAIC,GACD,QAATF,EAAE,GArBf,SAAiBgG,EAAGkV,EAAGoI,GACrB,OAAOkC,EAAML,EAAUnf,EAAGkV,EAAGoI,EAC/B,CAoBQuC,CAAQ7f,EAAG/F,EAAIC,GAEfulB,EAAQzf,EAAG/F,EAAIC,GAEd,CACLykB,EAAGrB,EAAE,GACLsB,EAAGtB,EAAE,GACLpmB,EAAGomB,EAAE,GACLrmB,EAAGA,EAEP,CAsBA,MAAMrF,EAAM,CACXkuB,EAAG,OACHC,EAAG,QACHC,EAAG,KACHC,EAAG,MACHC,EAAG,KACHC,EAAG,SACHC,EAAG,QACHtC,EAAG,KACHuC,EAAG,KACHC,EAAG,KACHvC,EAAG,KACHC,EAAG,QACHC,EAAG,QACHsC,EAAG,KACHC,EAAG,WACHtC,EAAG,KACHuC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,QACH1C,EAAG,KACH2C,EAAG,KACHC,EAAG,OACHC,EAAG,KACHC,EAAG,QACHC,EAAG,MAEEC,EAAU,CACfC,OAAQ,SACRC,YAAa,SACbC,KAAM,OACNC,UAAW,SACXC,KAAM,SACNC,MAAO,SACPC,OAAQ,SACRC,MAAO,IACPC,aAAc,SACdC,GAAI,KACJC,QAAS,SACTC,KAAM,SACNC,UAAW,SACXC,OAAQ,SACRC,SAAU,SACVC,QAAS,SACTC,IAAK,SACLC,YAAa,SACbC,QAAS,SACTC,QAAS,SACTC,KAAM,OACNC,IAAK,KACLC,MAAO,OACPC,QAAS,SACTC,KAAM,SACNC,KAAM,OACNC,KAAM,SACNC,OAAQ,SACRC,QAAS,SACTC,SAAU,SACVC,OAAQ,SACRC,MAAO,SACPC,IAAK,SACLC,OAAQ,SACRC,OAAQ,SACRC,KAAM,SACNC,MAAO,SACPC,MAAO,SACPC,IAAK,OACLC,OAAQ,SACRC,OAAQ,SACRC,SAAU,OACVC,OAAQ,SACRC,OAAQ,SACRC,SAAU,SACVC,SAAU,SACVC,SAAU,SACVC,SAAU,SACVC,OAAQ,SACRC,QAAS,SACTC,UAAW,SACXC,IAAK,SACLC,OAAQ,SACRC,IAAK,SACLC,IAAK,OACLC,MAAO,SACPC,IAAK,SACLC,QAAS,SACTC,OAAQ,SACRC,QAAS,SACTC,MAAO,SACPC,KAAM,SACNC,MAAO,SACPC,OAAQ,SACRC,UAAW,SACXC,QAAS,SACTC,WAAY,SACZC,IAAK,SACLC,KAAM,SACNC,MAAO,SACPC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,QAAS,SACTC,IAAK,SACLC,KAAM,OACNC,QAAS,SACTC,IAAK,SACLC,OAAQ,SACRC,MAAO,SACPC,WAAY,SACZC,IAAK,KACLC,MAAO,SACPC,OAAQ,SACRC,OAAQ,SACRC,KAAM,SACNC,UAAW,OACXC,IAAK,SACLC,SAAU,SACVC,WAAY,SACZC,QAAS,SACTC,SAAU,SACVC,QAAS,SACTC,WAAY,SACZC,KAAM,KACNC,OAAQ,SACRC,KAAM,SACNC,QAAS,SACTC,MAAO,SACPC,QAAS,SACTC,KAAM,SACNC,UAAW,SACXC,OAAQ,SACRC,MAAO,SACPC,WAAY,SACZC,UAAW,SACXC,QAAS,SACTC,KAAM,SACNC,IAAK,SACLC,KAAM,SACNC,QAAS,SACTC,MAAO,SACPC,YAAa,SACbC,GAAI,SACJC,SAAU,SACVC,MAAO,SACPC,UAAW,SACXC,MAAO,SACPC,UAAW,SACXC,MAAO,SACPC,QAAS,SACTC,MAAO,SACPC,OAAQ,SACRC,MAAO,SACPC,IAAK,SACLC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,SAAU,OACVC,OAAQ,SACRC,IAAK,SACLC,IAAK,OACLC,MAAO,SACPC,OAAQ,SACRC,GAAI,SACJC,MAAO,SACPC,IAAK,SACLC,KAAM,SACNC,UAAW,SACXC,GAAI,SACJC,MAAO,UAmBR,IAAIC,EACJ,SAASC,EAAU16B,GACZy6B,IACHA,EApBJ,WACE,MAAME,EAAW,CAAC,EACZt4B,EAAO5C,OAAO4C,KAAK+uB,GACnBwJ,EAAQn7B,OAAO4C,KAAKR,GAC1B,IAAIG,EAAG64B,EAAG1L,EAAG2L,EAAIC,EACjB,IAAK/4B,EAAI,EAAGA,EAAIK,EAAKF,OAAQH,IAAK,CAEhC,IADA84B,EAAKC,EAAK14B,EAAKL,GACV64B,EAAI,EAAGA,EAAID,EAAMz4B,OAAQ04B,IAC5B1L,EAAIyL,EAAMC,GACVE,EAAKA,EAAG1zB,QAAQ8nB,EAAGttB,EAAIstB,IAEzBA,EAAI6L,SAAS5J,EAAQ0J,GAAK,IAC1BH,EAASI,GAAM,CAAC5L,GAAK,GAAK,IAAMA,GAAK,EAAI,IAAU,IAAJA,EACjD,CACA,OAAOwL,CACT,CAKYM,GACRR,EAAMS,YAAc,CAAC,EAAG,EAAG,EAAG,IAEhC,MAAMh0B,EAAIuzB,EAAMz6B,EAAIG,eACpB,OAAO+G,GAAK,CACV0nB,EAAG1nB,EAAE,GACL2nB,EAAG3nB,EAAE,GACLC,EAAGD,EAAE,GACLA,EAAgB,IAAbA,EAAE/E,OAAe+E,EAAE,GAAK,IAE/B,CAEA,MAAMi0B,EAAS,uGAiCf,MAAMC,EAAK7N,GAAKA,GAAK,SAAgB,MAAJA,EAAqC,MAAzBzoB,KAAKu2B,IAAI9N,EAAG,EAAM,KAAe,KACxEnhB,EAAOmhB,GAAKA,GAAK,OAAUA,EAAI,MAAQzoB,KAAKu2B,KAAK9N,EAAI,MAAS,MAAO,KAa3E,SAAS+N,EAAO/N,EAAGvrB,EAAGu5B,GACpB,GAAIhO,EAAG,CACL,IAAIiO,EAAMjM,EAAQhC,GAClBiO,EAAIx5B,GAAK8C,KAAK2oB,IAAI,EAAG3oB,KAAKqT,IAAIqjB,EAAIx5B,GAAKw5B,EAAIx5B,GAAKu5B,EAAa,IAANv5B,EAAU,IAAM,IACvEw5B,EAAM9L,EAAQ8L,GACdjO,EAAEqB,EAAI4M,EAAI,GACVjO,EAAEsB,EAAI2M,EAAI,GACVjO,EAAEpmB,EAAIq0B,EAAI,EACZ,CACF,CACA,SAASC,EAAMlO,EAAGmO,GAChB,OAAOnO,EAAI9tB,OAAOqI,OAAO4zB,GAAS,CAAC,EAAGnO,GAAKA,CAC7C,CACA,SAASoO,EAAWC,GAClB,IAAIrO,EAAI,CAACqB,EAAG,EAAGC,EAAG,EAAG1nB,EAAG,EAAGD,EAAG,KAY9B,OAXI1G,MAAMD,QAAQq7B,GACZA,EAAMz5B,QAAU,IAClBorB,EAAI,CAACqB,EAAGgN,EAAM,GAAI/M,EAAG+M,EAAM,GAAIz0B,EAAGy0B,EAAM,GAAI10B,EAAG,KAC3C00B,EAAMz5B,OAAS,IACjBorB,EAAErmB,EAAIymB,EAAIiO,EAAM,OAIpBrO,EAAIkO,EAAMG,EAAO,CAAChN,EAAG,EAAGC,EAAG,EAAG1nB,EAAG,EAAGD,EAAG,KACrCA,EAAIymB,EAAIJ,EAAErmB,GAEPqmB,CACT,CACA,SAASsO,EAAc77B,GACrB,MAAsB,MAAlBA,EAAI87B,OAAO,GA3EjB,SAAkB97B,GAChB,MAAMiK,EAAIkxB,EAAO/xB,KAAKpJ,GACtB,IACI4uB,EAAGC,EAAG1nB,EADND,EAAI,IAER,GAAK+C,EAAL,CAGA,GAAIA,EAAE,KAAO2kB,EAAG,CACd,MAAMrB,GAAKtjB,EAAE,GACb/C,EAAI+C,EAAE,GAAKyjB,EAAIH,GAAKC,EAAQ,IAAJD,EAAS,EAAG,IACtC,CAOA,OANAqB,GAAK3kB,EAAE,GACP4kB,GAAK5kB,EAAE,GACP9C,GAAK8C,EAAE,GACP2kB,EAAI,KAAO3kB,EAAE,GAAKyjB,EAAIkB,GAAKpB,EAAIoB,EAAG,EAAG,MACrCC,EAAI,KAAO5kB,EAAE,GAAKyjB,EAAImB,GAAKrB,EAAIqB,EAAG,EAAG,MACrC1nB,EAAI,KAAO8C,EAAE,GAAKyjB,EAAIvmB,GAAKqmB,EAAIrmB,EAAG,EAAG,MAC9B,CACLynB,EAAGA,EACHC,EAAGA,EACH1nB,EAAGA,EACHD,EAAGA,EAfL,CAiBF,CAqDW60B,CAAS/7B,GAEX4vB,EAAS5vB,EAClB,CACA,MAAMg8B,EACJj2B,WAAAA,CAAY61B,GACV,GAAIA,aAAiBI,EACnB,OAAOJ,EAET,MAAMv7B,SAAcu7B,EACpB,IAAIrO,EACS,WAATltB,EACFktB,EAAIoO,EAAWC,GACG,WAATv7B,IACTktB,EAjcN,SAAkBvtB,GAChB,IACIiE,EADA1B,EAAMvC,EAAImC,OAmBd,MAjBe,MAAXnC,EAAI,KACM,IAARuC,GAAqB,IAARA,EACf0B,EAAM,CACJ2qB,EAAG,IAAsB,GAAhBd,EAAM9tB,EAAI,IACnB6uB,EAAG,IAAsB,GAAhBf,EAAM9tB,EAAI,IACnBmH,EAAG,IAAsB,GAAhB2mB,EAAM9tB,EAAI,IACnBkH,EAAW,IAAR3E,EAA4B,GAAhBurB,EAAM9tB,EAAI,IAAW,KAErB,IAARuC,GAAqB,IAARA,IACtB0B,EAAM,CACJ2qB,EAAGd,EAAM9tB,EAAI,KAAO,EAAI8tB,EAAM9tB,EAAI,IAClC6uB,EAAGf,EAAM9tB,EAAI,KAAO,EAAI8tB,EAAM9tB,EAAI,IAClCmH,EAAG2mB,EAAM9tB,EAAI,KAAO,EAAI8tB,EAAM9tB,EAAI,IAClCkH,EAAW,IAAR3E,EAAaurB,EAAM9tB,EAAI,KAAO,EAAI8tB,EAAM9tB,EAAI,IAAO,OAIrDiE,CACT,CA4aUg4B,CAASL,IAAUlB,EAAUkB,IAAUC,EAAcD,IAE3D90B,KAAKo1B,KAAO3O,EACZzmB,KAAKq1B,SAAW5O,CAClB,CACA,SAAI6O,GACF,OAAOt1B,KAAKq1B,MACd,CACA,OAAI7M,GACF,IAAI/B,EAAIkO,EAAM30B,KAAKo1B,MAInB,OAHI3O,IACFA,EAAErmB,EAAI0mB,EAAIL,EAAErmB,IAEPqmB,CACT,CACA,OAAI+B,CAAIvtB,GACN+E,KAAKo1B,KAAOP,EAAW55B,EACzB,CACAs6B,SAAAA,GACE,OAAOv1B,KAAKq1B,QArFG5O,EAqFgBzmB,KAAKo1B,QAnFpC3O,EAAErmB,EAAI,IACF,QAAQqmB,EAAEqB,MAAMrB,EAAEsB,MAAMtB,EAAEpmB,MAAMymB,EAAIL,EAAErmB,MACtC,OAAOqmB,EAAEqB,MAAMrB,EAAEsB,MAAMtB,EAAEpmB,WAiFe/E,EArFhD,IAAmBmrB,CAsFjB,CACAoB,SAAAA,GACE,OAAO7nB,KAAKq1B,OAASxN,EAAU7nB,KAAKo1B,WAAQ95B,CAC9C,CACAk6B,SAAAA,GACE,OAAOx1B,KAAKq1B,OApVhB,SAAmB5O,GACjB,IAAKA,EACH,OAEF,MAAMrmB,EAAIqoB,EAAQhC,GACZtd,EAAI/I,EAAE,GACNie,EAAI0I,EAAI3mB,EAAE,IACVjF,EAAI4rB,EAAI3mB,EAAE,IAChB,OAAOqmB,EAAErmB,EAAI,IACT,QAAQ+I,MAAMkV,OAAOljB,OAAO2rB,EAAIL,EAAErmB,MAClC,OAAO+I,MAAMkV,OAAOljB,KAC1B,CAyUyBq6B,CAAUx1B,KAAKo1B,WAAQ95B,CAC9C,CACAm6B,GAAAA,CAAIC,EAAOC,GACT,GAAID,EAAO,CACT,MAAME,EAAK51B,KAAKwoB,IACVqN,EAAKH,EAAMlN,IACjB,IAAIsN,EACJ,MAAMC,EAAIJ,IAAWG,EAAK,GAAMH,EAC1BxmB,EAAI,EAAI4mB,EAAI,EACZ31B,EAAIw1B,EAAGx1B,EAAIy1B,EAAGz1B,EACd41B,IAAO7mB,EAAI/O,KAAO,EAAI+O,GAAKA,EAAI/O,IAAM,EAAI+O,EAAI/O,IAAM,GAAK,EAC9D01B,EAAK,EAAIE,EACTJ,EAAG9N,EAAI,IAAOkO,EAAKJ,EAAG9N,EAAIgO,EAAKD,EAAG/N,EAAI,GACtC8N,EAAG7N,EAAI,IAAOiO,EAAKJ,EAAG7N,EAAI+N,EAAKD,EAAG9N,EAAI,GACtC6N,EAAGv1B,EAAI,IAAO21B,EAAKJ,EAAGv1B,EAAIy1B,EAAKD,EAAGx1B,EAAI,GACtCu1B,EAAGx1B,EAAI21B,EAAIH,EAAGx1B,GAAK,EAAI21B,GAAKF,EAAGz1B,EAC/BJ,KAAKwoB,IAAMoN,CACb,CACA,OAAO51B,IACT,CACAi2B,WAAAA,CAAYP,EAAOQ,GAIjB,OAHIR,IACF11B,KAAKo1B,KAvGX,SAAqBe,EAAMC,EAAMF,GAC/B,MAAMpO,EAAIxiB,EAAKwhB,EAAIqP,EAAKrO,IAClBC,EAAIziB,EAAKwhB,EAAIqP,EAAKpO,IAClB1nB,EAAIiF,EAAKwhB,EAAIqP,EAAK91B,IACxB,MAAO,CACLynB,EAAGjB,EAAIyN,EAAGxM,EAAIoO,GAAK5wB,EAAKwhB,EAAIsP,EAAKtO,IAAMA,KACvCC,EAAGlB,EAAIyN,EAAGvM,EAAImO,GAAK5wB,EAAKwhB,EAAIsP,EAAKrO,IAAMA,KACvC1nB,EAAGwmB,EAAIyN,EAAGj0B,EAAI61B,GAAK5wB,EAAKwhB,EAAIsP,EAAK/1B,IAAMA,KACvCD,EAAG+1B,EAAK/1B,EAAI81B,GAAKE,EAAKh2B,EAAI+1B,EAAK/1B,GAEnC,CA6FkB61B,CAAYj2B,KAAKo1B,KAAMM,EAAMN,KAAMc,IAE1Cl2B,IACT,CACA20B,KAAAA,GACE,OAAO,IAAIO,EAAMl1B,KAAKwoB,IACxB,CACAP,KAAAA,CAAM7nB,GAEJ,OADAJ,KAAKo1B,KAAKh1B,EAAIymB,EAAIzmB,GACXJ,IACT,CACAq2B,OAAAA,CAAQ5B,GAGN,OAFYz0B,KAAKo1B,KACbh1B,GAAK,EAAIq0B,EACNz0B,IACT,CACAs2B,SAAAA,GACE,MAAM9N,EAAMxoB,KAAKo1B,KACXl7B,EAAM+X,EAAc,GAARuW,EAAIV,EAAkB,IAARU,EAAIT,EAAmB,IAARS,EAAInoB,GAEnD,OADAmoB,EAAIV,EAAIU,EAAIT,EAAIS,EAAInoB,EAAInG,EACjB8F,IACT,CACAu2B,OAAAA,CAAQ9B,GAGN,OAFYz0B,KAAKo1B,KACbh1B,GAAK,EAAIq0B,EACNz0B,IACT,CACAw2B,MAAAA,GACE,MAAM/P,EAAIzmB,KAAKo1B,KAIf,OAHA3O,EAAEqB,EAAI,IAAMrB,EAAEqB,EACdrB,EAAEsB,EAAI,IAAMtB,EAAEsB,EACdtB,EAAEpmB,EAAI,IAAMomB,EAAEpmB,EACPL,IACT,CACAy2B,OAAAA,CAAQhC,GAEN,OADAD,EAAOx0B,KAAKo1B,KAAM,EAAGX,GACdz0B,IACT,CACA02B,MAAAA,CAAOjC,GAEL,OADAD,EAAOx0B,KAAKo1B,KAAM,GAAIX,GACfz0B,IACT,CACA22B,QAAAA,CAASlC,GAEP,OADAD,EAAOx0B,KAAKo1B,KAAM,EAAGX,GACdz0B,IACT,CACA42B,UAAAA,CAAWnC,GAET,OADAD,EAAOx0B,KAAKo1B,KAAM,GAAIX,GACfz0B,IACT,CACA62B,MAAAA,CAAOC,GAEL,OAtaJ,SAAgBrQ,EAAGqQ,GACjB,IAAI3tB,EAAIsf,EAAQhC,GAChBtd,EAAE,GAAK0f,EAAI1f,EAAE,GAAK2tB,GAClB3tB,EAAIyf,EAAQzf,GACZsd,EAAEqB,EAAI3e,EAAE,GACRsd,EAAEsB,EAAI5e,EAAE,GACRsd,EAAEpmB,EAAI8I,EAAE,EACV,CA8ZI0tB,CAAO72B,KAAKo1B,KAAM0B,GACX92B,IACT,EC3jBK,SAASsD,IACJ,CAML,MAAMyzB,EAAO,MAClB,IAAI9tB,EAAK,EACT,MAAO,IAAMA,GACd,EAHmB,GAUb,SAAS+tB,EAAcj2B,GAC5B,OAAiB,OAAVA,QAA4BzF,IAAVyF,CAC3B,CAOO,SAAStH,EAAqBsH,GACnC,GAAIrH,MAAMD,SAAWC,MAAMD,QAAQsH,GACjC,OAAO,EAET,MAAMxH,EAAOZ,OAAOC,UAAUF,SAASS,KAAK4H,GAC5C,MAAyB,YAArBxH,EAAKH,MAAM,EAAG,IAAuC,WAAnBG,EAAKH,OAAO,EAIpD,CAOO,SAASY,EAAS+G,GACvB,OAAiB,OAAVA,GAA4D,oBAA1CpI,OAAOC,UAAUF,SAASS,KAAK4H,EAC1D,CAMA,SAASk2B,EAAel2B,GACtB,OAAyB,kBAAVA,GAAsBA,aAAiB0C,SAAWC,UAAU3C,EAC7E,CAUO,SAASm2B,EAAgBn2B,EAAgByC,GAC9C,OAAOyzB,EAAel2B,GAASA,EAAQyC,CACzC,CAOO,SAAS2zB,EAAkBp2B,EAAsByC,GACtD,MAAwB,qBAAVzC,EAAwByC,EAAezC,CACvD,OAOaq2B,EAAcA,CAACr2B,EAAwBs2B,IACjC,kBAAVt2B,GAAsBA,EAAMQ,SAAS,KAC1C+1B,WAAWv2B,GAAS,IAAMs2B,GACvBt2B,EASA,SAASolB,EACd7tB,EACAka,EACAja,GAEA,GAAID,GAAyB,oBAAZA,EAAGa,KAClB,OAAOb,EAAGE,MAAMD,EAASia,EAE7B,CAuBO,SAAS+kB,EACdC,EACAl/B,EACAC,EACAk/B,GAEA,IAAIv8B,EAAWO,EAAaF,EAC5B,GAAI9B,EAAQ+9B,GAEV,GADA/7B,EAAM+7B,EAASn8B,OACXo8B,EACF,IAAKv8B,EAAIO,EAAM,EAAGP,GAAK,EAAGA,IACxB5C,EAAGa,KAAKZ,EAASi/B,EAASt8B,GAAIA,QAGhC,IAAKA,EAAI,EAAGA,EAAIO,EAAKP,IACnB5C,EAAGa,KAAKZ,EAASi/B,EAASt8B,GAAIA,QAG7B,GAAIlB,EAASw9B,GAGlB,IAFAj8B,EAAO5C,OAAO4C,KAAKi8B,GACnB/7B,EAAMF,EAAKF,OACNH,EAAI,EAAGA,EAAIO,EAAKP,IACnB5C,EAAGa,KAAKZ,EAASi/B,EAASj8B,EAAKL,IAAKK,EAAKL,GAG/C,CAQO,SAASw8B,EAAeC,EAAuBC,GACpD,IAAI18B,EAAW28B,EAAcC,EAAqBC,EAElD,IAAKJ,IAAOC,GAAMD,EAAGt8B,SAAWu8B,EAAGv8B,OACjC,OAAO,EAGT,IAAKH,EAAI,EAAG28B,EAAOF,EAAGt8B,OAAQH,EAAI28B,IAAQ38B,EAIxC,GAHA48B,EAAKH,EAAGz8B,GACR68B,EAAKH,EAAG18B,GAEJ48B,EAAGE,eAAiBD,EAAGC,cAAgBF,EAAGxwB,QAAUywB,EAAGzwB,MACzD,OAAO,EAIX,OAAO,CACT,CAMO,SAASqtB,EAASt2B,GACvB,GAAI5E,EAAQ4E,GACV,OAAOA,EAAOtD,IAAI45B,GAGpB,GAAI36B,EAASqE,GAAS,CACpB,MAAM6F,EAASvL,OAAOK,OAAO,MACvBuC,EAAO5C,OAAO4C,KAAK8C,GACnB45B,EAAO18B,EAAKF,OAClB,IAAIgtB,EAAI,EAER,KAAOA,EAAI4P,IAAQ5P,EACjBnkB,EAAO3I,EAAK8sB,IAAMsM,EAAMt2B,EAAO9C,EAAK8sB,KAGtC,OAAOnkB,EAGT,OAAO7F,CACT,CAEA,SAAS65B,EAAWx8B,GAClB,OAAmE,IAA5D,CAAC,YAAa,YAAa,eAAekG,QAAQlG,EAC3D,CAOO,SAASy8B,EAAQz8B,EAAawI,EAAmB7F,EAAmBgI,GACzE,IAAK6xB,EAAWx8B,GACd,OAGF,MAAM08B,EAAOl0B,EAAOxI,GACd28B,EAAOh6B,EAAO3C,GAEhB1B,EAASo+B,IAASp+B,EAASq+B,GAE7Bv4B,EAAMs4B,EAAMC,EAAMhyB,GAElBnC,EAAOxI,GAAOi5B,EAAM0D,EAExB,CA0BO,SAASv4B,EAASoE,EAAW7F,EAAqBgI,GACvD,MAAMiyB,EAAU7+B,EAAQ4E,GAAUA,EAAS,CAACA,GACtCw5B,EAAOS,EAAQj9B,OAErB,IAAKrB,EAASkK,GACZ,OAAOA,EAIT,MAAMq0B,GADNlyB,EAAUA,GAAW,CAAC,GACCkyB,QAAUJ,EACjC,IAAIK,EAEJ,IAAK,IAAIt9B,EAAI,EAAGA,EAAI28B,IAAQ38B,EAAG,CAE7B,GADAs9B,EAAUF,EAAQp9B,IACblB,EAASw+B,GACZ,SAGF,MAAMj9B,EAAO5C,OAAO4C,KAAKi9B,GACzB,IAAK,IAAInQ,EAAI,EAAG4P,EAAO18B,EAAKF,OAAQgtB,EAAI4P,IAAQ5P,EAC9CkQ,EAAOh9B,EAAK8sB,GAAInkB,EAAQs0B,EAASnyB,EAErC,CAEA,OAAOnC,CACT,CAgBO,SAASu0B,EAAWv0B,EAAW7F,GAEpC,OAAOyB,EAASoE,EAAQ7F,EAAQ,CAACk6B,OAAQG,GAC3C,CAMO,SAASA,EAAUh9B,EAAawI,EAAmB7F,GACxD,IAAK65B,EAAWx8B,GACd,OAGF,MAAM08B,EAAOl0B,EAAOxI,GACd28B,EAAOh6B,EAAO3C,GAEhB1B,EAASo+B,IAASp+B,EAASq+B,GAC7BI,EAAQL,EAAMC,GACJ1/B,OAAOC,UAAU4D,eAAerD,KAAK+K,EAAQxI,KACvDwI,EAAOxI,GAAOi5B,EAAM0D,GAExB,CAaA,MAAMM,GAAe,CAEnB,GAAIlS,GAAKA,EAETwC,EAAG2P,GAAKA,EAAE3P,EACV4P,EAAGD,GAAKA,EAAEC,GAqCL,SAASC,GAAiB79B,EAAgBS,GAC/C,MAAMq9B,EAAWJ,GAAaj9B,KAASi9B,GAAaj9B,GAhBtD,SAAyBA,GACvB,MAAMH,EAjBD,SAAmBG,GACxB,MAAMs9B,EAAQt9B,EAAIuH,MAAM,KAClB1H,EAAiB,GACvB,IAAIm5B,EAAM,GACV,IAAK,MAAMuE,KAAQD,EACjBtE,GAAOuE,EACHvE,EAAInzB,SAAS,MACfmzB,EAAMA,EAAIt7B,MAAM,GAAI,GAAK,KAEzBmC,EAAKkD,KAAKi2B,GACVA,EAAM,IAGV,OAAOn5B,CACT,CAGe29B,CAAUx9B,GACvB,OAAOT,IACL,IAAK,MAAMotB,KAAK9sB,EAAM,CACpB,GAAU,KAAN8sB,EAGF,MAEFptB,EAAMA,GAAOA,EAAIotB,EACnB,CACA,OAAOptB,CAAA,CAEX,CAG6Dk+B,CAAgBz9B,IAC3E,OAAOq9B,EAAS99B,EAClB,CAKO,SAASm+B,GAAYlgC,GAC1B,OAAOA,EAAI87B,OAAO,GAAGv3B,cAAgBvE,EAAIE,MAAM,EACjD,OAGaigC,GAAWt4B,GAAoC,qBAAVA,EAErCjH,GAAciH,GAAsE,oBAAVA,EAG1Eu4B,GAAYA,CAAIl5B,EAAWC,KACtC,GAAID,EAAEwD,OAASvD,EAAEuD,KACf,OAAO,EAGT,IAAK,MAAM21B,KAAQn5B,EACjB,IAAKC,EAAEsO,IAAI4qB,GACT,OAAO,EAIX,OAAO,CAAI,EC9YN,MAAMC,GAAKx7B,KAAKw7B,GACVC,GAAM,EAAID,GACVE,GAAQD,GAAMD,GACdG,GAAWl2B,OAAOm2B,kBAClBC,GAAcL,GAAK,IACnBM,GAAUN,GAAK,EACfO,GAAaP,GAAK,EAClBQ,GAAqB,EAALR,GAAS,EAEzBS,GAAQj8B,KAAKi8B,MACbC,GAAOl8B,KAAKk8B,KAElB,SAASC,GAAalR,EAAW4P,EAAWuB,GACjD,OAAOp8B,KAAKq8B,IAAIpR,EAAI4P,GAAKuB,CAC3B,CAKO,SAASE,GAAQC,GACtB,MAAMC,EAAex8B,KAAKiU,MAAMsoB,GAChCA,EAAQJ,GAAaI,EAAOC,EAAcD,EAAQ,KAAQC,EAAeD,EACzE,MAAME,EAAYz8B,KAAKu2B,IAAI,GAAIv2B,KAAKmT,MAAM8oB,GAAMM,KAC1CG,EAAWH,EAAQE,EAEzB,OADqBC,GAAY,EAAI,EAAIA,GAAY,EAAI,EAAIA,GAAY,EAAI,EAAI,IAC3DD,CACxB,CAyBO,SAAS1gC,GAASquB,GACvB,OAAQuS,MAAMrD,WAAWlP,KAAiB1kB,SAAS0kB,EACrD,CAUO,SAASwS,GACdC,EACA32B,EACA42B,GAEA,IAAI5/B,EAAW28B,EAAc92B,EAE7B,IAAK7F,EAAI,EAAG28B,EAAOgD,EAAMx/B,OAAQH,EAAI28B,EAAM38B,IACzC6F,EAAQ85B,EAAM3/B,GAAG4/B,GACZH,MAAM55B,KACTmD,EAAOmN,IAAMrT,KAAKqT,IAAInN,EAAOmN,IAAKtQ,GAClCmD,EAAOyiB,IAAM3oB,KAAK2oB,IAAIziB,EAAOyiB,IAAK5lB,GAGxC,CAEO,SAASg6B,GAAUC,GACxB,OAAOA,GAAWxB,GAAK,IACzB,CAEO,SAASyB,GAAUC,GACxB,OAAOA,GAAW,IAAM1B,GAC1B,CASO,SAAS2B,GAAelS,GAC7B,IAAKgO,EAAehO,GAClB,OAEF,IAAI9c,EAAI,EACJ4pB,EAAI,EACR,KAAO/3B,KAAKiU,MAAMgX,EAAI9c,GAAKA,IAAM8c,GAC/B9c,GAAK,GACL4pB,IAEF,OAAOA,CACT,CAGO,SAASqF,GACdC,EACAC,GAEA,MAAMC,EAAsBD,EAAWrS,EAAIoS,EAAYpS,EACjDuS,EAAsBF,EAAWzC,EAAIwC,EAAYxC,EACjD4C,EAA2Bz9B,KAAK09B,KAAKH,EAAsBA,EAAsBC,EAAsBA,GAE7G,IAAIG,EAAQ39B,KAAK49B,MAAMJ,EAAqBD,GAM5C,OAJII,GAAU,GAAMnC,KAClBmC,GAASlC,IAGJ,CACLkC,QACAE,SAAUJ,EAEd,CAEO,SAASK,GAAsBC,EAAYC,GAChD,OAAOh+B,KAAK09B,KAAK19B,KAAKu2B,IAAIyH,EAAI/S,EAAI8S,EAAI9S,EAAG,GAAKjrB,KAAKu2B,IAAIyH,EAAInD,EAAIkD,EAAIlD,EAAG,GACxE,CAMO,SAASoD,GAAW77B,EAAWC,GACpC,OAAQD,EAAIC,EAAIq5B,IAASD,GAAMD,EACjC,CAMO,SAAS0C,GAAgB97B,GAC9B,OAAQA,EAAIq5B,GAAMA,IAAOA,EAC3B,CAKO,SAAS0C,GAAcR,EAAeS,EAAe/hB,EAAagiB,GACvE,MAAMj8B,EAAI87B,GAAgBP,GACpBtd,EAAI6d,GAAgBE,GACpBjwB,EAAI+vB,GAAgB7hB,GACpBiiB,EAAeJ,GAAgB7d,EAAIje,GACnCm8B,EAAaL,GAAgB/vB,EAAI/L,GACjCo8B,EAAeN,GAAgB97B,EAAIie,GACnCoe,EAAaP,GAAgB97B,EAAI+L,GACvC,OAAO/L,IAAMie,GAAKje,IAAM+L,GAAMkwB,GAAyBhe,IAAMlS,GACvDmwB,EAAeC,GAAcC,EAAeC,CACpD,CASO,SAASC,GAAY37B,EAAesQ,EAAasV,GACtD,OAAO3oB,KAAK2oB,IAAItV,EAAKrT,KAAKqT,IAAIsV,EAAK5lB,GACrC,CAiBO,SAAS47B,GAAW57B,EAAeq7B,EAAe/hB,GAA6B,IAAhB+f,EAAU3hC,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,QAC9E,OAAOsI,GAAS/C,KAAKqT,IAAI+qB,EAAO/hB,GAAO+f,GAAWr5B,GAAS/C,KAAK2oB,IAAIyV,EAAO/hB,GAAO+f,CACpF,CCpLO,SAASwC,GACdC,EACA97B,EACA+7B,GAEAA,EAAMA,GAAA,CAASx1B,GAAUu1B,EAAMv1B,GAASvG,GACxC,IAEIg8B,EAFAC,EAAKH,EAAMxhC,OAAS,EACpB4hC,EAAK,EAGT,KAAOD,EAAKC,EAAK,GACfF,EAAOE,EAAKD,GAAO,EACfF,EAAIC,GACNE,EAAKF,EAELC,EAAKD,EAIT,MAAO,CAACE,KAAID,KACd,CAUO,MAAME,GAAeA,CAC1BL,EACAnhC,EACAqF,EACAo8B,IAEAP,GAAQC,EAAO97B,EAAOo8B,EAClB71B,IACA,MAAM81B,EAAKP,EAAMv1B,GAAO5L,GACxB,OAAO0hC,EAAKr8B,GAASq8B,IAAOr8B,GAAS87B,EAAMv1B,EAAQ,GAAG5L,KAASqF,CAAA,EAE/DuG,GAASu1B,EAAMv1B,GAAO5L,GAAOqF,GAStBs8B,GAAgBA,CAC3BR,EACAnhC,EACAqF,IAEA67B,GAAQC,EAAO97B,GAAOuG,GAASu1B,EAAMv1B,GAAO5L,IAAQqF,IAyBtD,MAAMu8B,GAAc,CAAC,OAAQ,MAAO,QAAS,SAAU,WA0DhD,SAASC,GAAoB1C,EAAOjoB,GACzC,MAAM4qB,EAAO3C,EAAM4C,SACnB,IAAKD,EACH,OAGF,MAAME,EAAYF,EAAKE,UACjBp2B,EAAQo2B,EAAU97B,QAAQgR,IACjB,IAAXtL,GACFo2B,EAAUjc,OAAOna,EAAO,GAGtBo2B,EAAUriC,OAAS,IAIvBiiC,GAAYtiC,SAASU,WACZm/B,EAAMn/B,EAAI,WAGZm/B,EAAM4C,SACf,CAKO,SAASE,GAAgBC,GAC9B,MAAMj7B,EAAM,IAAIk7B,IAAOD,GAEvB,OAAIj7B,EAAIiB,OAASg6B,EAAMviC,OACduiC,EAGFlkC,MAAM4L,KAAK3C,EACpB,CCnLa,MAAAm7B,GACW,qBAAX9hC,OACF,SAASmqB,GACd,OAAOA,GACT,EAEKnqB,OAAO+hC,sBAOT,SAASpqB,GACdrb,EACAC,GAEA,IAAIylC,EAAY,GACZC,GAAU,EAEd,OAAO,WAAyB,QAAAtuB,EAAAlX,UAAA4C,OAAbmX,EAAW,IAAA9Y,MAAAiW,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAX4C,EAAW5C,GAAAnX,UAAAmX,GAE5BouB,EAAYxrB,EACPyrB,IACHA,GAAU,EACVH,GAAiB3kC,KAAK6C,QAAQ,KAC5BiiC,GAAU,EACV3lC,EAAGE,MAAMD,EAASylC,EAAA,IAGxB,CACF,CAsBO,MAAME,GAAsBC,GAAgD,UAAVA,EAAoB,OAAmB,QAAVA,EAAkB,QAAU,SAMrHC,GAAiBA,CAACD,EAAmC/B,EAAe/hB,IAA0B,UAAV8jB,EAAoB/B,EAAkB,QAAV+B,EAAkB9jB,GAAO+hB,EAAQ/hB,GAAO,EAe9J,SAASgkB,GAAiCC,EAAqCC,EAAwBC,GAC5G,MAAMC,EAAaF,EAAOljC,OAE1B,IAAI+gC,EAAQ,EACRsC,EAAQD,EAEZ,GAAIH,EAAKK,QAAS,CAChB,MAAM,OAACC,EAAA,QAAQC,GAAWP,EACpBQ,EAAOF,EAAOE,MACd,IAACztB,EAAG,IAAEsV,EAAG,WAAEoY,EAAU,WAAEC,GAAcJ,EAAOK,gBAE9CF,IACF3C,EAAQM,GAAY1+B,KAAKqT,IAEvB6rB,GAAa2B,EAASC,EAAMztB,GAAK4rB,GAEjCuB,EAAqBC,EAAavB,GAAaqB,EAAQO,EAAMF,EAAOM,iBAAiB7tB,IAAM4rB,IAC7F,EAAGwB,EAAa,IAGhBC,EADEM,EACMtC,GAAY1+B,KAAK2oB,IAEvBuW,GAAa2B,EAASD,EAAOE,KAAMnY,GAAK,GAAMqW,GAAK,EAEnDwB,EAAqB,EAAItB,GAAaqB,EAAQO,EAAMF,EAAOM,iBAAiBvY,IAAM,GAAMqW,GAAK,GAC/FZ,EAAOqC,GAAcrC,EAEbqC,EAAarC,EAIzB,MAAO,CAACA,QAAOsC,QACjB,CAQO,SAASS,GAAoBb,GAClC,MAAM,OAACc,EAAM,OAAEC,EAAA,aAAQC,GAAgBhB,EACjCiB,EAAY,CAChBC,KAAMJ,EAAO/tB,IACbouB,KAAML,EAAOzY,IACb+Y,KAAML,EAAOhuB,IACbsuB,KAAMN,EAAO1Y,KAEf,IAAK2Y,EAEH,OADAhB,EAAKgB,aAAeC,GACb,EAET,MAAMK,EAAUN,EAAaE,OAASJ,EAAO/tB,KAC1CiuB,EAAaG,OAASL,EAAOzY,KAC7B2Y,EAAaI,OAASL,EAAOhuB,KAC7BiuB,EAAaK,OAASN,EAAO1Y,IAGhC,OADAhuB,OAAOqI,OAAOs+B,EAAcC,GACrBK,CACT,CC/IA,MAAMC,GAAU3J,GAAoB,IAANA,GAAiB,IAANA,EACnC4J,GAAYA,CAAC5J,EAAW7X,EAAW0X,KAAgB/3B,KAAKu2B,IAAI,EAAG,IAAM2B,GAAK,IAAMl4B,KAAK+hC,KAAK7J,EAAI7X,GAAKob,GAAM1D,GACzGiK,GAAaA,CAAC9J,EAAW7X,EAAW0X,IAAc/3B,KAAKu2B,IAAI,GAAI,GAAK2B,GAAKl4B,KAAK+hC,KAAK7J,EAAI7X,GAAKob,GAAM1D,GAAK,EAOvGkK,GAAU,CACdC,OAAShK,GAAcA,EAEvBiK,WAAajK,GAAcA,EAAIA,EAE/BkK,YAAclK,IAAeA,GAAKA,EAAI,GAEtCmK,cAAgBnK,IAAgBA,GAAK,IAAO,EACxC,GAAMA,EAAIA,GACT,MAAUA,GAAMA,EAAI,GAAK,GAE9BoK,YAAcpK,GAAcA,EAAIA,EAAIA,EAEpCqK,aAAerK,IAAeA,GAAK,GAAKA,EAAIA,EAAI,EAEhDsK,eAAiBtK,IAAgBA,GAAK,IAAO,EACzC,GAAMA,EAAIA,EAAIA,EACd,KAAQA,GAAK,GAAKA,EAAIA,EAAI,GAE9BuK,YAAcvK,GAAcA,EAAIA,EAAIA,EAAIA,EAExCwK,aAAexK,MAAiBA,GAAK,GAAKA,EAAIA,EAAIA,EAAI,GAEtDyK,eAAiBzK,IAAgBA,GAAK,IAAO,EACzC,GAAMA,EAAIA,EAAIA,EAAIA,GACjB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAI,GAEnC0K,YAAc1K,GAAcA,EAAIA,EAAIA,EAAIA,EAAIA,EAE5C2K,aAAe3K,IAAeA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,EAExD4K,eAAiB5K,IAAgBA,GAAK,IAAO,EACzC,GAAMA,EAAIA,EAAIA,EAAIA,EAAIA,EACtB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,GAEtC6K,WAAa7K,GAAuC,EAAxBl4B,KAAKgjC,IAAI9K,EAAI4D,IAEzCmH,YAAc/K,GAAcl4B,KAAK+hC,IAAI7J,EAAI4D,IAEzCoH,cAAgBhL,IAAe,IAAOl4B,KAAKgjC,IAAIxH,GAAKtD,GAAK,GAEzDiL,WAAajL,GAAqB,IAAPA,EAAY,EAAIl4B,KAAKu2B,IAAI,EAAG,IAAM2B,EAAI,IAEjEkL,YAAclL,GAAqB,IAAPA,EAAY,EAA4B,EAAvBl4B,KAAKu2B,IAAI,GAAI,GAAK2B,GAE/DmL,cAAgBnL,GAAc2J,GAAO3J,GAAKA,EAAIA,EAAI,GAC9C,GAAMl4B,KAAKu2B,IAAI,EAAG,IAAU,EAAJ2B,EAAQ,IAChC,IAAyC,EAAjCl4B,KAAKu2B,IAAI,GAAI,IAAU,EAAJ2B,EAAQ,KAEvCoL,WAAapL,GAAcA,GAAM,EAAKA,IAAMl4B,KAAK09B,KAAK,EAAIxF,EAAIA,GAAK,GAEnEqL,YAAcrL,GAAcl4B,KAAK09B,KAAK,GAAKxF,GAAK,GAAKA,GAErDsL,cAAgBtL,IAAgBA,GAAK,IAAO,GACvC,IAAOl4B,KAAK09B,KAAK,EAAIxF,EAAIA,GAAK,GAC/B,IAAOl4B,KAAK09B,KAAK,GAAKxF,GAAK,GAAKA,GAAK,GAEzCuL,cAAgBvL,GAAc2J,GAAO3J,GAAKA,EAAI4J,GAAU5J,EAAG,KAAO,IAElEwL,eAAiBxL,GAAc2J,GAAO3J,GAAKA,EAAI8J,GAAW9J,EAAG,KAAO,IAEpEyL,gBAAAA,CAAiBzL,GACf,MAAM7X,EAAI,MAEV,OAAOwhB,GAAO3J,GAAKA,EACjBA,EAAI,GACA,GAAM4J,GAAc,EAAJ5J,EAAO7X,EAHnB,KAIJ,GAAM,GAAM2hB,GAAe,EAAJ9J,EAAQ,EAAG7X,EAJ9B,IAKZ,EAEAujB,UAAAA,CAAW1L,GACT,MAAM7X,EAAI,QACV,OAAO6X,EAAIA,IAAM7X,EAAI,GAAK6X,EAAI7X,EAChC,EAEAwjB,WAAAA,CAAY3L,GACV,MAAM7X,EAAI,QACV,OAAQ6X,GAAK,GAAKA,IAAM7X,EAAI,GAAK6X,EAAI7X,GAAK,CAC5C,EAEAyjB,aAAAA,CAAc5L,GACZ,IAAI7X,EAAI,QACR,OAAK6X,GAAK,IAAO,EACDA,EAAIA,IAAuB,GAAhB7X,GAAM,QAAe6X,EAAI7X,GAA3C,GAEF,KAAQ6X,GAAK,GAAKA,IAAuB,GAAhB7X,GAAM,QAAe6X,EAAI7X,GAAK,EAChE,EAEA0jB,aAAe7L,GAAc,EAAI+J,GAAQ+B,cAAc,EAAI9L,GAE3D8L,aAAAA,CAAc9L,GACZ,MAAM/yB,EAAI,OACJokB,EAAI,KACV,OAAI2O,EAAK,EAAI3O,EACJpkB,EAAI+yB,EAAIA,EAEbA,EAAK,EAAI3O,EACJpkB,GAAK+yB,GAAM,IAAM3O,GAAM2O,EAAI,IAEhCA,EAAK,IAAM3O,EACNpkB,GAAK+yB,GAAM,KAAO3O,GAAM2O,EAAI,MAE9B/yB,GAAK+yB,GAAM,MAAQ3O,GAAM2O,EAAI,OACtC,EAEA+L,gBAAkB/L,GAAeA,EAAI,GACH,GAA9B+J,GAAQ8B,aAAiB,EAAJ7L,GACc,GAAnC+J,GAAQ+B,cAAkB,EAAJ9L,EAAQ,GAAW,ICpHxC,SAASgM,GAAoBnhC,GAClC,GAAIA,GAA0B,kBAAVA,EAAoB,CACtC,MAAMxH,EAAOwH,EAAMrI,WACnB,MAAgB,2BAATa,GAA8C,4BAATA,EAG9C,OAAO,CACT,CAWO,SAASm8B,GAAM30B,GACpB,OAAOmhC,GAAoBnhC,GAASA,EAAQ,IAAIm0B,EAAMn0B,EACxD,CAKO,SAASohC,GAAcphC,GAC5B,OAAOmhC,GAAoBnhC,GACvBA,EACA,IAAIm0B,EAAMn0B,GAAO41B,SAAS,IAAKD,OAAO,IAAK7O,WACjD,CC/BA,MAAMua,GAAU,CAAC,IAAK,IAAK,cAAe,SAAU,WAC9CC,GAAS,CAAC,QAAS,cAAe,mBCAxC,MAAMC,GAAY,IAAIC,IAaf,SAASC,GAAaC,EAAaC,EAAgBr8B,GACxD,OAZF,SAAyBq8B,EAAgBr8B,GACvCA,EAAUA,GAAW,CAAC,EACtB,MAAMs8B,EAAWD,EAASz7B,KAAKC,UAAUb,GACzC,IAAIu8B,EAAYN,GAAU/zB,IAAIo0B,GAK9B,OAJKC,IACHA,EAAY,IAAIC,KAAKC,aAAaJ,EAAQr8B,GAC1Ci8B,GAAU3/B,IAAIggC,EAAUC,IAEnBA,CACT,CAGSG,CAAgBL,EAAQr8B,GAAS4I,OAAOwzB,EACjD,CCRA,MAAMO,GAAa,CAOjBC,OAAOliC,GACEtH,EAAQsH,GAAkCA,EAAS,GAAKA,EAWjEmiC,OAAAA,CAAQC,EAAW77B,EAAO87B,GACxB,GAAkB,IAAdD,EACF,MAAO,IAGT,MAAMT,EAAS1iC,KAAKqjC,MAAMh9B,QAAQq8B,OAClC,IAAIY,EACAC,EAAQJ,EAEZ,GAAIC,EAAM/nC,OAAS,EAAG,CAEpB,MAAMmoC,EAAUxlC,KAAK2oB,IAAI3oB,KAAKq8B,IAAI+I,EAAM,GAAGriC,OAAQ/C,KAAKq8B,IAAI+I,EAAMA,EAAM/nC,OAAS,GAAG0F,SAChFyiC,EAAU,MAAQA,EAAU,QAC9BF,EAAW,cAGbC,EAyCN,SAAwBJ,EAAWC,GAGjC,IAAIG,EAAQH,EAAM/nC,OAAS,EAAI+nC,EAAM,GAAGriC,MAAQqiC,EAAM,GAAGriC,MAAQqiC,EAAM,GAAGriC,MAAQqiC,EAAM,GAAGriC,MAGvF/C,KAAKq8B,IAAIkJ,IAAU,GAAKJ,IAAcnlC,KAAKmT,MAAMgyB,KAEnDI,EAAQJ,EAAYnlC,KAAKmT,MAAMgyB,IAEjC,OAAOI,CACT,CApDcE,CAAeN,EAAWC,GAGpC,MAAMM,EAAWzJ,GAAMj8B,KAAKq8B,IAAIkJ,IAO1BI,EAAahJ,MAAM+I,GAAY,EAAI1lC,KAAK2oB,IAAI3oB,KAAKqT,KAAK,EAAIrT,KAAKmT,MAAMuyB,GAAW,IAAK,GAErFr9B,EAAU,CAACi9B,WAAUM,sBAAuBD,EAAYE,sBAAuBF,GAGrF,OAFAhrC,OAAOqI,OAAOqF,EAASrG,KAAKqG,QAAQ+8B,MAAMn0B,QAEnCuzB,GAAaW,EAAWT,EAAQr8B,EACzC,EAWAy9B,WAAAA,CAAYX,EAAW77B,EAAO87B,GAC5B,GAAkB,IAAdD,EACF,MAAO,IAET,MAAMY,EAASX,EAAM97B,GAAO08B,aAAgBb,EAAanlC,KAAKu2B,IAAI,GAAIv2B,KAAKmT,MAAM8oB,GAAMkJ,KACvF,MAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,IAAIc,SAASF,IAAWz8B,EAAQ,GAAM87B,EAAM/nC,OACxD2nC,GAAWE,QAAQ/pC,KAAK6G,KAAMmjC,EAAW77B,EAAO87B,GAElD,EACT,GAsBF,IAAAc,GAAe,CAAClB,qBC/FHmB,GAAYxrC,OAAOK,OAAO,MAC1B8D,GAAcnE,OAAOK,OAAO,MAOzC,SAASorC,GAASC,EAAM3oC,GACtB,IAAKA,EACH,OAAO2oC,EAET,MAAM9oC,EAAOG,EAAIuH,MAAM,KACvB,IAAK,IAAI/H,EAAI,EAAGktB,EAAI7sB,EAAKF,OAAQH,EAAIktB,IAAKltB,EAAG,CAC3C,MAAMmtB,EAAI9sB,EAAKL,GACfmpC,EAAOA,EAAKhc,KAAOgc,EAAKhc,GAAK1vB,OAAOK,OAAO,MAC7C,CACA,OAAOqrC,CACT,CAEA,SAAS1hC,GAAI2hC,EAAMC,EAAOtB,GACxB,MAAqB,kBAAVsB,EACFzkC,EAAMskC,GAASE,EAAMC,GAAQtB,GAE/BnjC,EAAMskC,GAASE,EAAM,IAAKC,EACnC,CAMO,MAAMC,GACXvlC,WAAAA,CAAYwlC,EAAcC,GACxB1kC,KAAK2kC,eAAYrpC,EACjB0E,KAAK4kC,gBAAkB,kBACvB5kC,KAAK6kC,YAAc,kBACnB7kC,KAAK01B,MAAQ,OACb11B,KAAK8kC,SAAW,CAAC,EACjB9kC,KAAK+kC,iBAAoB5oC,GAAYA,EAAQknC,MAAM94B,SAASy6B,sBAC5DhlC,KAAKilC,SAAW,CAAC,EACjBjlC,KAAKklC,OAAS,CACZ,YACA,WACA,QACA,aACA,aAEFllC,KAAKmlC,KAAO,CACVC,OAAQ,qDACRxhC,KAAM,GACNyhC,MAAO,SACPC,WAAY,IACZ3P,OAAQ,MAEV31B,KAAKulC,MAAQ,CAAC,EACdvlC,KAAKwlC,qBAAuB,CAACC,EAAKp/B,IAAY87B,GAAc97B,EAAQu+B,iBACpE5kC,KAAK0lC,iBAAmB,CAACD,EAAKp/B,IAAY87B,GAAc97B,EAAQw+B,aAChE7kC,KAAK2lC,WAAa,CAACF,EAAKp/B,IAAY87B,GAAc97B,EAAQqvB,OAC1D11B,KAAK4lC,UAAY,IACjB5lC,KAAK6lC,YAAc,CACjBC,KAAM,UACNC,WAAW,EACXC,kBAAkB,GAEpBhmC,KAAKimC,qBAAsB,EAC3BjmC,KAAKkmC,QAAU,KACflmC,KAAKmmC,QAAU,KACfnmC,KAAKomC,SAAU,EACfpmC,KAAKqmC,QAAU,CAAC,EAChBrmC,KAAKsmC,YAAa,EAClBtmC,KAAKumC,WAAQjrC,EACb0E,KAAKwmC,OAAS,CAAC,EACfxmC,KAAKymC,UAAW,EAChBzmC,KAAK0mC,yBAA0B,EAE/B1mC,KAAK2mC,SAASlC,GACdzkC,KAAKxH,MAAMksC,EACb,CAMA/hC,GAAAA,CAAI4hC,EAAOtB,GACT,OAAOtgC,GAAI3C,KAAMukC,EAAOtB,EAC1B,CAKA10B,GAAAA,CAAIg2B,GACF,OAAOH,GAASpkC,KAAMukC,EACxB,CAMAoC,QAAAA,CAASpC,EAAOtB,GACd,OAAOtgC,GAAI7F,GAAaynC,EAAOtB,EACjC,CAEA2D,QAAAA,CAASrC,EAAOtB,GACd,OAAOtgC,GAAIwhC,GAAWI,EAAOtB,EAC/B,CAmBA4D,KAAAA,CAAMtC,EAAOrnC,EAAM4pC,EAAaC,GAC9B,MAAMC,EAAc5C,GAASpkC,KAAMukC,GAC7B0C,EAAoB7C,GAASpkC,KAAM8mC,GACnCI,EAAc,IAAMhqC,EAE1BvE,OAAOyE,iBAAiB4pC,EAAa,CAEnC,CAACE,GAAc,CACbnmC,MAAOimC,EAAY9pC,GACnBwF,UAAU,GAGZ,CAACxF,GAAO,CACNuF,YAAY,EACZ8L,GAAAA,GACE,MAAM44B,EAAQnnC,KAAKknC,GACbhjC,EAAS+iC,EAAkBF,GACjC,OAAI/sC,EAASmtC,GACJxuC,OAAOqI,OAAO,CAAC,EAAGkD,EAAQijC,GAE5BhQ,EAAegQ,EAAOjjC,EAC/B,EACAvB,GAAAA,CAAI5B,GACFf,KAAKknC,GAAenmC,CACtB,IAGN,CAEAvI,KAAAA,CAAM4uC,GACJA,EAASpsC,SAASxC,GAAUA,EAAMwH,OACpC,EAIF,IAAA8K,GAA+B,IAAI05B,GAAS,CAC1C6C,YAAcnqC,IAAUA,EAAKoqC,WAAW,MACxCC,WAAarqC,GAAkB,WAATA,EACtBqoC,MAAO,CACLiC,UAAW,eAEb3B,YAAa,CACXwB,aAAa,EACbE,YAAY,IAEb,CH3KI,SAAiCz8B,GACtCA,EAASnI,IAAI,YAAa,CACxB8kC,WAAOnsC,EACPosC,SAAU,IACVC,OAAQ,eACRrvC,QAAIgD,EACJgK,UAAMhK,EACNssC,UAAMtsC,EACNg5B,QAAIh5B,EACJ/B,UAAM+B,IAGRwP,EAAS67B,SAAS,YAAa,CAC7Ba,WAAW,EACXD,YAAY,EACZF,YAAcnqC,GAAkB,eAATA,GAAkC,eAATA,GAAkC,OAATA,IAG3E4N,EAASnI,IAAI,aAAc,CACzB0/B,OAAQ,CACN9oC,KAAM,QACNsuC,WAAYxF,IAEdD,QAAS,CACP7oC,KAAM,SACNsuC,WAAYzF,MAIhBt3B,EAAS67B,SAAS,aAAc,CAC9Ba,UAAW,cAGb18B,EAASnI,IAAI,cAAe,CAC1BmlC,OAAQ,CACNnD,UAAW,CACT+C,SAAU,MAGdK,OAAQ,CACNpD,UAAW,CACT+C,SAAU,IAGdM,KAAM,CACJC,WAAY,CACV5F,OAAQ,CACN/8B,KAAM,eAER4iC,QAAS,CACP3uC,KAAM,UACNmuC,SAAU,KAIhBS,KAAM,CACJF,WAAY,CACV5F,OAAQ,CACN/N,GAAI,eAEN4T,QAAS,CACP3uC,KAAM,UACNouC,OAAQ,SACRrvC,GAAImuB,GAAS,EAAJA,MAKnB,EIvEO,SAA8B3b,GACnCA,EAASnI,IAAI,SAAU,CACrBylC,aAAa,EACbC,QAAS,CACPC,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRC,KAAM,IAGZ,ECRO,SAA4B39B,GACjCA,EAASnI,IAAI,QAAS,CACpB+lC,SAAS,EACTC,QAAQ,EACRlR,SAAS,EACTmR,aAAa,EASbC,OAAQ,QAERC,MAAM,EAMNC,MAAO,EAGPC,KAAM,CACJN,SAAS,EACTO,UAAW,EACXC,iBAAiB,EACjBC,WAAW,EACXC,WAAY,EACZC,UAAWA,CAACC,EAAMjjC,IAAYA,EAAQ4iC,UACtCM,UAAWA,CAACD,EAAMjjC,IAAYA,EAAQqvB,MACtCiT,QAAQ,GAGVa,OAAQ,CACNd,SAAS,EACTe,KAAM,GACNC,WAAY,EACZC,MAAO,GAITC,MAAO,CAELlB,SAAS,EAGTmB,KAAM,GAGNxB,QAAS,CACPC,IAAK,EACLE,OAAQ,IAKZpF,MAAO,CACL0G,YAAa,EACbC,YAAa,GACbC,QAAQ,EACRC,gBAAiB,EACjBC,gBAAiB,GACjB7B,QAAS,EACTK,SAAS,EACTyB,UAAU,EACVC,gBAAiB,EACjBC,YAAa,EAEblkB,SAAU+d,GAAMlB,WAAWC,OAC3BqH,MAAO,CAAC,EACRC,MAAO,CAAC,EACRpM,MAAO,SACPqM,WAAY,OAEZC,mBAAmB,EACnBC,cAAe,4BACfC,gBAAiB,KAIrB7/B,EAAS+7B,MAAM,cAAe,QAAS,GAAI,SAC3C/7B,EAAS+7B,MAAM,aAAc,QAAS,GAAI,eAC1C/7B,EAAS+7B,MAAM,eAAgB,QAAS,GAAI,eAC5C/7B,EAAS+7B,MAAM,cAAe,QAAS,GAAI,SAE3C/7B,EAAS67B,SAAS,QAAS,CACzBa,WAAW,EACXH,YAAcnqC,IAAUA,EAAKoqC,WAAW,YAAcpqC,EAAKoqC,WAAW,UAAqB,aAATpqC,GAAgC,WAATA,EACzGqqC,WAAarqC,GAAkB,eAATA,GAAkC,mBAATA,GAAsC,SAATA,IAG9E4N,EAAS67B,SAAS,SAAU,CAC1Ba,UAAW,UAGb18B,EAAS67B,SAAS,cAAe,CAC/BU,YAAcnqC,GAAkB,oBAATA,GAAuC,aAATA,EACrDqqC,WAAarqC,GAAkB,oBAATA,GAE1B,IClEO,SAAS0tC,GACdnF,EACAnnC,EACAusC,EACAC,EACAC,GAEA,IAAIC,EAAY1sC,EAAKysC,GAQrB,OAPKC,IACHA,EAAY1sC,EAAKysC,GAAUtF,EAAIwF,YAAYF,GAAQpB,MACnDkB,EAAGpsC,KAAKssC,IAENC,EAAYF,IACdA,EAAUE,GAELF,CACT,CASO,SAASI,GACdzF,EACAN,EACAgG,EACApyC,GAGA,IAAIuF,GADJvF,EAAQA,GAAS,CAAC,GACDuF,KAAOvF,EAAMuF,MAAQ,CAAC,EACnCusC,EAAK9xC,EAAMqyC,eAAiBryC,EAAMqyC,gBAAkB,GAEpDryC,EAAMosC,OAASA,IACjB7mC,EAAOvF,EAAMuF,KAAO,CAAC,EACrBusC,EAAK9xC,EAAMqyC,eAAiB,GAC5BryC,EAAMosC,KAAOA,GAGfM,EAAI4F,OAEJ5F,EAAIN,KAAOA,EACX,IAAI2F,EAAU,EACd,MAAMjT,EAAOsT,EAAc9vC,OAC3B,IAAIH,EAAW64B,EAAWuX,EAAcryC,EAAwBsyC,EAChE,IAAKrwC,EAAI,EAAGA,EAAI28B,EAAM38B,IAIpB,GAHAjC,EAAQkyC,EAAcjwC,QAGRI,IAAVrC,GAAiC,OAAVA,GAAmBQ,EAAQR,IAE/C,GAAIQ,EAAQR,GAGjB,IAAK86B,EAAI,EAAGuX,EAAOryC,EAAMoC,OAAQ04B,EAAIuX,EAAMvX,IACzCwX,EAActyC,EAAM86B,QAEAz4B,IAAhBiwC,GAA6C,OAAhBA,GAAyB9xC,EAAQ8xC,KAChET,EAAUF,GAAanF,EAAKnnC,EAAMusC,EAAIC,EAASS,SARnDT,EAAUF,GAAanF,EAAKnnC,EAAMusC,EAAIC,EAAS7xC,GAcnDwsC,EAAI+F,UAEJ,MAAMC,EAAQZ,EAAGxvC,OAAS,EAC1B,GAAIowC,EAAQN,EAAc9vC,OAAQ,CAChC,IAAKH,EAAI,EAAGA,EAAIuwC,EAAOvwC,WACdoD,EAAKusC,EAAG3vC,IAEjB2vC,EAAGppB,OAAO,EAAGgqB,GAEf,OAAOX,CACT,CAUO,SAASY,GAAYrI,EAAcsI,EAAehC,GACvD,MAAM5E,EAAmB1B,EAAMuI,wBACzBC,EAAsB,IAAVlC,EAAc3rC,KAAK2oB,IAAIgjB,EAAQ,EAAG,IAAO,EAC3D,OAAO3rC,KAAKiU,OAAO05B,EAAQE,GAAa9G,GAAoBA,EAAmB8G,CACjF,CAKO,SAASC,GAAYC,EAA4BtG,IACjDA,GAAQsG,MAIbtG,EAAMA,GAAOsG,EAAOC,WAAW,OAE3BX,OAGJ5F,EAAIwG,iBACJxG,EAAIyG,UAAU,EAAG,EAAGH,EAAOpC,MAAOoC,EAAOI,QACzC1G,EAAI+F,UACN,CASO,SAASY,GACd3G,EACAp/B,EACA4iB,EACA4P,GAGAwT,GAAgB5G,EAAKp/B,EAAS4iB,EAAG4P,EAAG,KACtC,CAGO,SAASwT,GACd5G,EACAp/B,EACA4iB,EACA4P,EACA1pB,GAEA,IAAI5V,EAAc+yC,EAAiBC,EAAiB3oC,EAAc4oC,EAAsB7C,EAAe8C,EAAkBC,EACzH,MAAMrH,EAAQh/B,EAAQsmC,WAChBC,EAAWvmC,EAAQumC,SACnBC,EAASxmC,EAAQwmC,OACvB,IAAIC,GAAOF,GAAY,GAAK/S,GAE5B,GAAIwL,GAA0B,kBAAVA,IAClB9rC,EAAO8rC,EAAM3sC,WACA,8BAATa,GAAiD,+BAATA,GAM1C,OALAksC,EAAI4F,OACJ5F,EAAIsH,UAAU9jB,EAAG4P,GACjB4M,EAAI5O,OAAOiW,GACXrH,EAAIuH,UAAU3H,GAAQA,EAAMsE,MAAQ,GAAItE,EAAM8G,OAAS,EAAG9G,EAAMsE,MAAOtE,EAAM8G,aAC7E1G,EAAI+F,UAKR,KAAI7Q,MAAMkS,IAAWA,GAAU,GAA/B,CAMA,OAFApH,EAAIwH,YAEI5H,GAEN,QACMl2B,EACFs2B,EAAIyH,QAAQjkB,EAAG4P,EAAG1pB,EAAI,EAAG09B,EAAQ,EAAG,EAAGpT,IAEvCgM,EAAI0H,IAAIlkB,EAAG4P,EAAGgU,EAAQ,EAAGpT,IAE3BgM,EAAI2H,YACJ,MACF,IAAK,WACHzD,EAAQx6B,EAAIA,EAAI,EAAI09B,EACpBpH,EAAI4H,OAAOpkB,EAAIjrB,KAAK+hC,IAAI+M,GAAOnD,EAAO9Q,EAAI76B,KAAKgjC,IAAI8L,GAAOD,GAC1DC,GAAO9S,GACPyL,EAAI6H,OAAOrkB,EAAIjrB,KAAK+hC,IAAI+M,GAAOnD,EAAO9Q,EAAI76B,KAAKgjC,IAAI8L,GAAOD,GAC1DC,GAAO9S,GACPyL,EAAI6H,OAAOrkB,EAAIjrB,KAAK+hC,IAAI+M,GAAOnD,EAAO9Q,EAAI76B,KAAKgjC,IAAI8L,GAAOD,GAC1DpH,EAAI2H,YACJ,MACF,IAAK,cAQHZ,EAAwB,KAATK,EACfjpC,EAAOipC,EAASL,EAChBF,EAAUtuC,KAAKgjC,IAAI8L,EAAM/S,IAAcn2B,EACvC6oC,EAAWzuC,KAAKgjC,IAAI8L,EAAM/S,KAAe5qB,EAAIA,EAAI,EAAIq9B,EAAe5oC,GACpE2oC,EAAUvuC,KAAK+hC,IAAI+M,EAAM/S,IAAcn2B,EACvC8oC,EAAW1uC,KAAK+hC,IAAI+M,EAAM/S,KAAe5qB,EAAIA,EAAI,EAAIq9B,EAAe5oC,GACpE6hC,EAAI0H,IAAIlkB,EAAIwjB,EAAU5T,EAAI0T,EAASC,EAAcM,EAAMtT,GAAIsT,EAAMhT,IACjE2L,EAAI0H,IAAIlkB,EAAIyjB,EAAU7T,EAAIyT,EAASE,EAAcM,EAAMhT,GAASgT,GAChErH,EAAI0H,IAAIlkB,EAAIwjB,EAAU5T,EAAI0T,EAASC,EAAcM,EAAKA,EAAMhT,IAC5D2L,EAAI0H,IAAIlkB,EAAIyjB,EAAU7T,EAAIyT,EAASE,EAAcM,EAAMhT,GAASgT,EAAMtT,IACtEiM,EAAI2H,YACJ,MACF,IAAK,OACH,IAAKR,EAAU,CACbhpC,EAAO5F,KAAKuvC,QAAUV,EACtBlD,EAAQx6B,EAAIA,EAAI,EAAIvL,EACpB6hC,EAAI+H,KAAKvkB,EAAI0gB,EAAO9Q,EAAIj1B,EAAM,EAAI+lC,EAAO,EAAI/lC,GAC7C,MAEFkpC,GAAO/S,GAET,IAAK,UACH0S,EAAWzuC,KAAKgjC,IAAI8L,IAAQ39B,EAAIA,EAAI,EAAI09B,GACxCP,EAAUtuC,KAAKgjC,IAAI8L,GAAOD,EAC1BN,EAAUvuC,KAAK+hC,IAAI+M,GAAOD,EAC1BH,EAAW1uC,KAAK+hC,IAAI+M,IAAQ39B,EAAIA,EAAI,EAAI09B,GACxCpH,EAAI4H,OAAOpkB,EAAIwjB,EAAU5T,EAAI0T,GAC7B9G,EAAI6H,OAAOrkB,EAAIyjB,EAAU7T,EAAIyT,GAC7B7G,EAAI6H,OAAOrkB,EAAIwjB,EAAU5T,EAAI0T,GAC7B9G,EAAI6H,OAAOrkB,EAAIyjB,EAAU7T,EAAIyT,GAC7B7G,EAAI2H,YACJ,MACF,IAAK,WACHN,GAAO/S,GAET,IAAK,QACH0S,EAAWzuC,KAAKgjC,IAAI8L,IAAQ39B,EAAIA,EAAI,EAAI09B,GACxCP,EAAUtuC,KAAKgjC,IAAI8L,GAAOD,EAC1BN,EAAUvuC,KAAK+hC,IAAI+M,GAAOD,EAC1BH,EAAW1uC,KAAK+hC,IAAI+M,IAAQ39B,EAAIA,EAAI,EAAI09B,GACxCpH,EAAI4H,OAAOpkB,EAAIwjB,EAAU5T,EAAI0T,GAC7B9G,EAAI6H,OAAOrkB,EAAIwjB,EAAU5T,EAAI0T,GAC7B9G,EAAI4H,OAAOpkB,EAAIyjB,EAAU7T,EAAIyT,GAC7B7G,EAAI6H,OAAOrkB,EAAIyjB,EAAU7T,EAAIyT,GAC7B,MACF,IAAK,OACHG,EAAWzuC,KAAKgjC,IAAI8L,IAAQ39B,EAAIA,EAAI,EAAI09B,GACxCP,EAAUtuC,KAAKgjC,IAAI8L,GAAOD,EAC1BN,EAAUvuC,KAAK+hC,IAAI+M,GAAOD,EAC1BH,EAAW1uC,KAAK+hC,IAAI+M,IAAQ39B,EAAIA,EAAI,EAAI09B,GACxCpH,EAAI4H,OAAOpkB,EAAIwjB,EAAU5T,EAAI0T,GAC7B9G,EAAI6H,OAAOrkB,EAAIwjB,EAAU5T,EAAI0T,GAC7B9G,EAAI4H,OAAOpkB,EAAIyjB,EAAU7T,EAAIyT,GAC7B7G,EAAI6H,OAAOrkB,EAAIyjB,EAAU7T,EAAIyT,GAC7BQ,GAAO/S,GACP0S,EAAWzuC,KAAKgjC,IAAI8L,IAAQ39B,EAAIA,EAAI,EAAI09B,GACxCP,EAAUtuC,KAAKgjC,IAAI8L,GAAOD,EAC1BN,EAAUvuC,KAAK+hC,IAAI+M,GAAOD,EAC1BH,EAAW1uC,KAAK+hC,IAAI+M,IAAQ39B,EAAIA,EAAI,EAAI09B,GACxCpH,EAAI4H,OAAOpkB,EAAIwjB,EAAU5T,EAAI0T,GAC7B9G,EAAI6H,OAAOrkB,EAAIwjB,EAAU5T,EAAI0T,GAC7B9G,EAAI4H,OAAOpkB,EAAIyjB,EAAU7T,EAAIyT,GAC7B7G,EAAI6H,OAAOrkB,EAAIyjB,EAAU7T,EAAIyT,GAC7B,MACF,IAAK,OACHA,EAAUn9B,EAAIA,EAAI,EAAInR,KAAKgjC,IAAI8L,GAAOD,EACtCN,EAAUvuC,KAAK+hC,IAAI+M,GAAOD,EAC1BpH,EAAI4H,OAAOpkB,EAAIqjB,EAASzT,EAAI0T,GAC5B9G,EAAI6H,OAAOrkB,EAAIqjB,EAASzT,EAAI0T,GAC5B,MACF,IAAK,OACH9G,EAAI4H,OAAOpkB,EAAG4P,GACd4M,EAAI6H,OAAOrkB,EAAIjrB,KAAKgjC,IAAI8L,IAAQ39B,EAAIA,EAAI,EAAI09B,GAAShU,EAAI76B,KAAK+hC,IAAI+M,GAAOD,GACzE,MACF,KAAK,EACHpH,EAAI2H,YAIR3H,EAAIgI,OACApnC,EAAQqnC,YAAc,GACxBjI,EAAIkI,SAER,CASO,SAASC,GACdC,EACAC,EACAC,GAIA,OAFAA,EAASA,GAAU,IAEXD,GAASD,GAASA,EAAM5kB,EAAI6kB,EAAKrF,KAAOsF,GAAUF,EAAM5kB,EAAI6kB,EAAKvF,MAAQwF,GACjFF,EAAMhV,EAAIiV,EAAKxF,IAAMyF,GAAUF,EAAMhV,EAAIiV,EAAKtF,OAASuF,CACzD,CAEO,SAASC,GAASvI,EAA+BqI,GACtDrI,EAAI4F,OACJ5F,EAAIwH,YACJxH,EAAI+H,KAAKM,EAAKrF,KAAMqF,EAAKxF,IAAKwF,EAAKvF,MAAQuF,EAAKrF,KAAMqF,EAAKtF,OAASsF,EAAKxF,KACzE7C,EAAIqD,MACN,CAEO,SAASmF,GAAWxI,GACzBA,EAAI+F,SACN,CAKO,SAAS0C,GACdzI,EACA0I,EACAjqC,EACAkqC,EACAtI,GAEA,IAAKqI,EACH,OAAO1I,EAAI6H,OAAOppC,EAAO+kB,EAAG/kB,EAAO20B,GAErC,GAAa,WAATiN,EAAmB,CACrB,MAAMuI,GAAYF,EAASllB,EAAI/kB,EAAO+kB,GAAK,EAC3Cwc,EAAI6H,OAAOe,EAAUF,EAAStV,GAC9B4M,EAAI6H,OAAOe,EAAUnqC,EAAO20B,EAC9B,KAAoB,UAATiN,MAAuBsI,EAChC3I,EAAI6H,OAAOa,EAASllB,EAAG/kB,EAAO20B,GAE9B4M,EAAI6H,OAAOppC,EAAO+kB,EAAGklB,EAAStV,GAEhC4M,EAAI6H,OAAOppC,EAAO+kB,EAAG/kB,EAAO20B,EAC9B,CAKO,SAASyV,GACd7I,EACA0I,EACAjqC,EACAkqC,GAEA,IAAKD,EACH,OAAO1I,EAAI6H,OAAOppC,EAAO+kB,EAAG/kB,EAAO20B,GAErC4M,EAAI8I,cACFH,EAAOD,EAASK,KAAOL,EAASM,KAChCL,EAAOD,EAASO,KAAOP,EAASQ,KAChCP,EAAOlqC,EAAOuqC,KAAOvqC,EAAOsqC,KAC5BJ,EAAOlqC,EAAOyqC,KAAOzqC,EAAOwqC,KAC5BxqC,EAAO+kB,EACP/kB,EAAO20B,EACX,CAwBA,SAAS+V,GACPnJ,EACAxc,EACA4P,EACAzqB,EACA6Q,GAEA,GAAIA,EAAK4vB,eAAiB5vB,EAAK6vB,UAAW,CAQxC,MAAMC,EAAUtJ,EAAIwF,YAAY78B,GAC1Bq6B,EAAOxf,EAAI8lB,EAAQC,sBACnBzG,EAAQtf,EAAI8lB,EAAQE,uBACpB3G,EAAMzP,EAAIkW,EAAQG,wBAClB1G,EAAS3P,EAAIkW,EAAQI,yBACrBC,EAAcnwB,EAAK4vB,eAAiBvG,EAAME,GAAU,EAAIA,EAE9D/C,EAAI4J,YAAc5J,EAAI6J,UACtB7J,EAAIwH,YACJxH,EAAIwD,UAAYhqB,EAAKswB,iBAAmB,EACxC9J,EAAI4H,OAAO5E,EAAM2G,GACjB3J,EAAI6H,OAAO/E,EAAO6G,GAClB3J,EAAIkI,SAER,CAEA,SAAS6B,GAAa/J,EAA+BxmB,GACnD,MAAMwwB,EAAWhK,EAAI6J,UAErB7J,EAAI6J,UAAYrwB,EAAKyW,MACrB+P,EAAIiK,SAASzwB,EAAKwpB,KAAMxpB,EAAKqpB,IAAKrpB,EAAK0qB,MAAO1qB,EAAKktB,QACnD1G,EAAI6J,UAAYG,CAClB,CAKO,SAASE,GACdlK,EACAoE,EACA5gB,EACA4P,EACAsM,GAEA,IADAlmB,EAAuBxmB,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,MAEvB,MAAMm3C,EAAQn2C,EAAQowC,GAAQA,EAAO,CAACA,GAChC8D,EAAS1uB,EAAK4wB,YAAc,GAA0B,KAArB5wB,EAAK6wB,YAC5C,IAAI50C,EAAWkT,EAMf,IAJAq3B,EAAI4F,OACJ5F,EAAIN,KAAOA,EAAK4F,OA7ElB,SAAuBtF,EAA+BxmB,GAChDA,EAAK8wB,aACPtK,EAAIsH,UAAU9tB,EAAK8wB,YAAY,GAAI9wB,EAAK8wB,YAAY,IAGjD/Y,EAAc/X,EAAK2tB,WACtBnH,EAAI5O,OAAO5X,EAAK2tB,UAGd3tB,EAAKyW,QACP+P,EAAI6J,UAAYrwB,EAAKyW,OAGnBzW,EAAK+wB,YACPvK,EAAIuK,UAAY/wB,EAAK+wB,WAGnB/wB,EAAKgxB,eACPxK,EAAIwK,aAAehxB,EAAKgxB,aAE5B,CA0DEC,CAAczK,EAAKxmB,GAEd/jB,EAAI,EAAGA,EAAI00C,EAAMv0C,SAAUH,EAC9BkT,EAAOwhC,EAAM10C,GAET+jB,EAAKkxB,UACPX,GAAa/J,EAAKxmB,EAAKkxB,UAGrBxC,IACE1uB,EAAK6wB,cACPrK,EAAI4J,YAAcpwB,EAAK6wB,aAGpB9Y,EAAc/X,EAAK4wB,eACtBpK,EAAIwD,UAAYhqB,EAAK4wB,aAGvBpK,EAAI2K,WAAWhiC,EAAM6a,EAAG4P,EAAG5Z,EAAKoxB,WAGlC5K,EAAI6K,SAASliC,EAAM6a,EAAG4P,EAAG5Z,EAAKoxB,UAC9BzB,GAAanJ,EAAKxc,EAAG4P,EAAGzqB,EAAM6Q,GAE9B4Z,GAAKp1B,OAAO0hC,EAAKG,YAGnBG,EAAI+F,SACN,CAOO,SAAS+E,GACd9K,EACA+H,GAEA,MAAM,EAACvkB,EAAC,EAAE4P,EAAC,EAAE1pB,EAAC,EAAEhG,EAAC,OAAE0jC,GAAUW,EAG7B/H,EAAI0H,IAAIlkB,EAAI4jB,EAAO2D,QAAS3X,EAAIgU,EAAO2D,QAAS3D,EAAO2D,QAAS,IAAMhX,GAAIA,IAAI,GAG9EiM,EAAI6H,OAAOrkB,EAAG4P,EAAI1vB,EAAI0jC,EAAO4D,YAG7BhL,EAAI0H,IAAIlkB,EAAI4jB,EAAO4D,WAAY5X,EAAI1vB,EAAI0jC,EAAO4D,WAAY5D,EAAO4D,WAAYjX,GAAIM,IAAS,GAG1F2L,EAAI6H,OAAOrkB,EAAI9Z,EAAI09B,EAAO6D,YAAa7X,EAAI1vB,GAG3Cs8B,EAAI0H,IAAIlkB,EAAI9Z,EAAI09B,EAAO6D,YAAa7X,EAAI1vB,EAAI0jC,EAAO6D,YAAa7D,EAAO6D,YAAa5W,GAAS,GAAG,GAGhG2L,EAAI6H,OAAOrkB,EAAI9Z,EAAG0pB,EAAIgU,EAAO8D,UAG7BlL,EAAI0H,IAAIlkB,EAAI9Z,EAAI09B,EAAO8D,SAAU9X,EAAIgU,EAAO8D,SAAU9D,EAAO8D,SAAU,GAAI7W,IAAS,GAGpF2L,EAAI6H,OAAOrkB,EAAI4jB,EAAO2D,QAAS3X,EACjC,CCxgBA,MAAM+X,GAAc,uCACdC,GAAa,wEAcZ,SAASC,GAAa/vC,EAAwB6C,GACnD,MAAMvB,GAAW,GAAKtB,GAAO8G,MAAM+oC,IACnC,IAAKvuC,GAA0B,WAAfA,EAAQ,GACtB,OAAc,IAAPuB,EAKT,OAFA7C,GAASsB,EAAQ,GAETA,EAAQ,IACd,IAAK,KACH,OAAOtB,EACT,IAAK,IACHA,GAAS,IAMb,OAAO6C,EAAO7C,CAChB,CAUO,SAASgwC,GAAkBhwC,EAAwCF,GACxE,MAAM1D,EAAM,CAAC,EACP6zC,EAAWh3C,EAAS6G,GACpBtF,EAAOy1C,EAAWr4C,OAAO4C,KAAKsF,GAASA,EACvC4T,EAAOza,EAAS+G,GAClBiwC,EACEt0C,GAAQy6B,EAAep2B,EAAMrE,GAAOqE,EAAMF,EAAMnE,KAChDA,GAAQqE,EAAMrE,GAChB,IAAMqE,EAEV,IAAK,MAAMrE,KAAQnB,EACjB4B,EAAIT,IAAqB+X,EAAK/X,IAnBS,EAqBzC,OAAOS,CACT,CAUO,SAAS8zC,GAAOlwC,GACrB,OAAOgwC,GAAkBhwC,EAAO,CAACunC,IAAK,IAAKC,MAAO,IAAKC,OAAQ,IAAKC,KAAM,KAC5E,CASO,SAASyI,GAAcnwC,GAC5B,OAAOgwC,GAAkBhwC,EAAO,CAAC,UAAW,WAAY,aAAc,eACxE,CAUO,SAASowC,GAAUpwC,GACxB,MAAM9F,EAAMg2C,GAAOlwC,GAKnB,OAHA9F,EAAI0uC,MAAQ1uC,EAAIwtC,KAAOxtC,EAAIstC,MAC3BttC,EAAIkxC,OAASlxC,EAAIqtC,IAAMrtC,EAAIutC,OAEpBvtC,CACT,CAUO,SAASm2C,GAAO/qC,EAA4BgrC,GACjDhrC,EAAUA,GAAW,CAAC,EACtBgrC,EAAWA,GAAYvmC,GAASq6B,KAEhC,IAAIvhC,EAAOuzB,EAAe9wB,EAAQzC,KAAMytC,EAASztC,MAE7B,kBAATA,IACTA,EAAOswB,SAAStwB,EAAM,KAExB,IAAIyhC,EAAQlO,EAAe9wB,EAAQg/B,MAAOgM,EAAShM,OAC/CA,KAAW,GAAKA,GAAOx9B,MAAMgpC,MAC/B1xB,QAAQC,KAAK,kCAAoCimB,EAAQ,KACzDA,OAAQ/pC,GAGV,MAAM6pC,EAAO,CACXC,OAAQjO,EAAe9wB,EAAQ++B,OAAQiM,EAASjM,QAChDE,WAAYwL,GAAa3Z,EAAe9wB,EAAQi/B,WAAY+L,EAAS/L,YAAa1hC,GAClFA,OACAyhC,QACA1P,OAAQwB,EAAe9wB,EAAQsvB,OAAQ0b,EAAS1b,QAChDoV,OAAQ,IAIV,OADA5F,EAAK4F,ODlHA,SAAsB5F,GAC3B,OAAKA,GAAQnO,EAAcmO,EAAKvhC,OAASozB,EAAcmO,EAAKC,QACnD,MAGDD,EAAKE,MAAQF,EAAKE,MAAQ,IAAM,KACrCF,EAAKxP,OAASwP,EAAKxP,OAAS,IAAM,IACnCwP,EAAKvhC,KAAO,MACZuhC,EAAKC,MACT,CCyGgBkM,CAAanM,GACpBA,CACT,CAaO,SAASn0B,GAAQugC,EAAwBp1C,EAAkBmL,EAAgBkqC,GAChF,IACIt2C,EAAW28B,EAAc92B,EADzB0wC,GAAY,EAGhB,IAAKv2C,EAAI,EAAG28B,EAAO0Z,EAAOl2C,OAAQH,EAAI28B,IAAQ38B,EAE5C,GADA6F,EAAQwwC,EAAOr2C,QACDI,IAAVyF,SAGYzF,IAAZa,GAA0C,oBAAV4E,IAClCA,EAAQA,EAAM5E,GACds1C,GAAY,QAEAn2C,IAAVgM,GAAuB7N,EAAQsH,KACjCA,EAAQA,EAAMuG,EAAQvG,EAAM1F,QAC5Bo2C,GAAY,QAEAn2C,IAAVyF,GAIF,OAHIywC,IAASC,IACXD,EAAKC,WAAY,GAEZ1wC,CAGb,CA0BO,SAAS2wC,GAAcC,EAAuBx1C,GACnD,OAAOxD,OAAOqI,OAAOrI,OAAOK,OAAO24C,GAAgBx1C,EACrD,CCnLO,SAASy1C,GAIdC,GAKA,IAJAC,EAAWr5C,UAAA4C,OAAA,QAAAC,IAAA7C,UAAC,GAADA,UAAC,GAAD,CAAC,IAEZ44C,EAA4B54C,UAAA4C,OAAA,EAAA5C,UAAA,QAAA6C,EAC5By2C,EAAAt5C,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAY,IAAMo5C,EAAO,GAEzB,MAAMG,GAJQv5C,UAAA4C,OAAA,EAAA5C,UAAA,QAAA6C,IAIwBu2C,EACd,qBAAbR,IACTA,EAAW7vB,GAAS,YAAaqwB,IAEnC,MAAM94C,EAA6B,CACjC,CAACoB,OAAOC,aAAc,SACtB63C,YAAY,EACZC,QAASL,EACTM,YAAaH,EACbxK,UAAW6J,EACXe,WAAYL,EACZnL,SAAWrC,GAAqBqN,GAAgB,CAACrN,KAAUsN,GAASC,EAAUE,EAAiBX,IAEjG,OAAO,IAAIgB,MAAMt5C,EAAO,CAItBu5C,eAAeA,CAAApuC,EAAQxH,YACdwH,EAAOxH,UACPwH,EAAOquC,aACPV,EAAO,GAAGn1C,IACV,GAMT6R,IAAIA,CAAArK,EAAQxH,IACH81C,GAAQtuC,EAAQxH,GACrB,IAoUR,SACEA,EACAo1C,EACAD,EACAY,GAEA,IAAI1xC,EACJ,IAAK,MAAM2xC,KAAUZ,EAEnB,GADA/wC,EAAQygB,GAASmxB,GAAQD,EAAQh2C,GAAOm1C,GACnB,qBAAV9wC,EACT,OAAO6xC,GAAiBl2C,EAAMqE,GAC1B8xC,GAAkBhB,EAAQY,EAAO/1C,EAAMqE,GACvCA,CAGV,CAnVc+xC,CAAqBp2C,EAAMo1C,EAAUD,EAAQ3tC,KAOvD6uC,yBAAyBA,CAAA7uC,EAAQxH,IACxBs2C,QAAQD,yBAAyB7uC,EAAOguC,QAAQ,GAAIx1C,GAM7D7D,eAAiBA,IACRm6C,QAAQn6C,eAAeg5C,EAAO,IAMvCljC,IAAIA,CAAAzK,EAAQxH,IACHu2C,GAAqB/uC,GAAQ+/B,SAASvnC,GAM/Cw2C,QAAQhvC,GACC+uC,GAAqB/uC,GAM9BvB,GAAAA,CAAIuB,EAAQxH,EAAcqE,GACxB,MAAMoyC,EAAUjvC,EAAOkvC,WAAalvC,EAAOkvC,SAAWrB,KAGtD,OAFA7tC,EAAOxH,GAAQy2C,EAAQz2C,GAAQqE,SACxBmD,EAAOquC,OACP,CACT,GAEJ,CAUO,SAASc,GAIdZ,EACAt2C,EACAm3C,EACAC,GAEA,MAAMx6C,EAA4B,CAChCk5C,YAAY,EACZuB,OAAQf,EACRgB,SAAUt3C,EACVu3C,UAAWJ,EACXK,OAAQ,IAAI9V,IACZ4G,aAAcA,GAAagO,EAAOc,GAClCK,WAAanO,GAAmB4N,GAAeZ,EAAOhN,EAAK6N,EAAUC,GACrE3M,SAAWrC,GAAqB8O,GAAeZ,EAAM7L,SAASrC,GAAQpoC,EAASm3C,EAAUC,IAE3F,OAAO,IAAIlB,MAAMt5C,EAAO,CAItBu5C,eAAeA,CAAApuC,EAAQxH,YACdwH,EAAOxH,UACP+1C,EAAM/1C,IACN,GAMT6R,IAAG,CAACrK,EAAQxH,EAAcm3C,IACjBrB,GAAQtuC,EAAQxH,GACrB,IAiFR,SACEwH,EACAxH,EACAm3C,GAEA,MAAM,OAACL,EAAM,SAAEC,EAAQ,UAAEC,EAAWjP,aAAc3nC,GAAeoH,EACjE,IAAInD,EAAQyyC,EAAO92C,GAGf5C,GAAWiH,IAAUjE,EAAYg3C,aAAap3C,KAChDqE,EAYJ,SACErE,EACAq3C,EACA7vC,EACA2vC,GAEA,MAAM,OAACL,EAAA,SAAQC,EAAA,UAAUC,EAAS,OAAEC,GAAUzvC,EAC9C,GAAIyvC,EAAOhlC,IAAIjS,GACb,MAAM,IAAIkG,MAAM,uBAAyBlJ,MAAM4L,KAAKquC,GAAQ1tC,KAAK,MAAQ,KAAOvJ,GAElFi3C,EAAOK,IAAIt3C,GACX,IAAIqE,EAAQgzC,EAASN,EAAUC,GAAaG,GAC5CF,EAAO9kC,OAAOnS,GACVk2C,GAAiBl2C,EAAMqE,KAEzBA,EAAQ8xC,GAAkBW,EAAOtB,QAASsB,EAAQ92C,EAAMqE,IAE1D,OAAOA,CACT,CA9BYkzC,CAAmBv3C,EAAMqE,EAAOmD,EAAQ2vC,IAE9Cp6C,EAAQsH,IAAUA,EAAM1F,SAC1B0F,EA6BJ,SACErE,EACAqE,EACAmD,EACAgwC,GAEA,MAAM,OAACV,EAAM,SAAEC,EAAQ,UAAEC,EAAWjP,aAAc3nC,GAAeoH,EAEjE,GAA8B,qBAAnBuvC,EAASnsC,OAAyB4sC,EAAYx3C,GACvD,OAAOqE,EAAM0yC,EAASnsC,MAAQvG,EAAM1F,QAC/B,GAAIrB,EAAS+G,EAAM,IAAK,CAE7B,MAAMe,EAAMf,EACN8wC,EAAS2B,EAAOtB,QAAQ9wC,QAAOid,GAAKA,IAAMvc,IAChDf,EAAQ,GACR,IAAK,MAAMw4B,KAAQz3B,EAAK,CACtB,MAAMi3B,EAAW8Z,GAAkBhB,EAAQ2B,EAAQ92C,EAAM68B,GACzDx4B,EAAMtC,KAAK40C,GAAeta,EAAU0a,EAAUC,GAAaA,EAAUh3C,GAAOI,GAC9E,EAEF,OAAOiE,CACT,CAlDYozC,CAAcz3C,EAAMqE,EAAOmD,EAAQpH,EAAYo3C,cAErDtB,GAAiBl2C,EAAMqE,KAEzBA,EAAQsyC,GAAetyC,EAAO0yC,EAAUC,GAAaA,EAAUh3C,GAAOI,IAExE,OAAOiE,CACT,CArGcqzC,CAAoBlwC,EAAQxH,EAAMm3C,KAO5Cd,yBAAyBA,CAAA7uC,EAAQxH,IACxBwH,EAAOugC,aAAa4P,QACvBrB,QAAQrkC,IAAI8jC,EAAO/1C,GAAQ,CAAC+F,YAAY,EAAM4N,cAAc,QAAQ/U,EACpE03C,QAAQD,yBAAyBN,EAAO/1C,GAM9C7D,eAAiBA,IACRm6C,QAAQn6C,eAAe45C,GAMhC9jC,IAAIA,CAAAzK,EAAQxH,IACHs2C,QAAQrkC,IAAI8jC,EAAO/1C,GAM5Bw2C,QAAUA,IACDF,QAAQE,QAAQT,GAMzB9vC,IAAG,CAACuB,EAAQxH,EAAMqE,KAChB0xC,EAAM/1C,GAAQqE,SACPmD,EAAOxH,IACP,IAGb,CAKO,SAAS+nC,GACdgO,GAEY,IADZ3nC,EAA+BrS,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,IAAC67C,YAAY,EAAMC,WAAW,GAE7D,MAAM,YAAClN,EAAcv8B,EAASwpC,WAAU,WAAE/M,EAAaz8B,EAASypC,UAAS,SAAEC,EAAW1pC,EAASupC,SAAW5B,EAC1G,MAAO,CACL4B,QAASG,EACTF,WAAYjN,EACZkN,UAAWhN,EACXuM,aAAch6C,GAAWutC,GAAeA,EAAc,IAAMA,EAC5D6M,YAAap6C,GAAWytC,GAAcA,EAAa,IAAMA,EAE7D,CAEA,MAAMoL,GAAUA,CAACD,EAAgBx1C,IAAiBw1C,EAASA,EAAStZ,GAAYl8B,GAAQA,EAClF01C,GAAmBA,CAACl2C,EAAcqE,IAAmB/G,EAAS+G,IAAmB,aAATrE,IAC1C,OAAjC/D,OAAOE,eAAekI,IAAmBA,EAAM9B,cAAgBtG,QAElE,SAAS65C,GACPtuC,EACAxH,EACAsU,GAEA,GAAIrY,OAAOC,UAAU4D,eAAerD,KAAK+K,EAAQxH,IAAkB,gBAATA,EACxD,OAAOwH,EAAOxH,GAGhB,MAAMqE,EAAQiQ,IAGd,OADA9M,EAAOxH,GAAQqE,EACRA,CACT,CAmEA,SAAS0zC,GACPpD,EACA30C,EACAqE,GAEA,OAAOjH,GAAWu3C,GAAYA,EAAS30C,EAAMqE,GAASswC,CACxD,CAEA,MAAMqD,GAAWA,CAACh5C,EAAwBi5C,KAA8B,IAARj5C,EAAei5C,EAC5D,kBAARj5C,EAAmBo9B,GAAiB6b,EAAQj5C,QAAOJ,EAE9D,SAASs5C,GACPjyC,EACAkyC,EACAn5C,EACAo5C,EACA/zC,GAEA,IAAK,MAAM4zC,KAAUE,EAAc,CACjC,MAAMtQ,EAAQmQ,GAASh5C,EAAKi5C,GAC5B,GAAIpQ,EAAO,CACT5hC,EAAIqxC,IAAIzP,GACR,MAAM8M,EAAWoD,GAAgBlQ,EAAMiD,UAAW9rC,EAAKqF,GACvD,GAAwB,qBAAbswC,GAA4BA,IAAa31C,GAAO21C,IAAayD,EAGtE,OAAOzD,OAEJ,IAAc,IAAV9M,GAA6C,qBAAnBuQ,GAAkCp5C,IAAQo5C,EAG7E,OAAO,IAEX,CACA,OAAO,CACT,CAEA,SAASjC,GACPgC,EACA9b,EACAr8B,EACAqE,GAEA,MAAMg0C,EAAahc,EAASoZ,YACtBd,EAAWoD,GAAgB1b,EAASyO,UAAW9qC,EAAMqE,GACrDi0C,EAAY,IAAIH,KAAiBE,GACjCpyC,EAAM,IAAIk7B,IAChBl7B,EAAIqxC,IAAIjzC,GACR,IAAIrF,EAAMu5C,GAAiBtyC,EAAKqyC,EAAWt4C,EAAM20C,GAAY30C,EAAMqE,GACnE,OAAY,OAARrF,KAGoB,qBAAb21C,GAA4BA,IAAa30C,IAClDhB,EAAMu5C,GAAiBtyC,EAAKqyC,EAAW3D,EAAU31C,EAAKqF,GAC1C,OAARrF,KAICk2C,GAAgBl4C,MAAM4L,KAAK3C,GAAM,CAAC,IAAKoyC,EAAY1D,GACxD,IAgBJ,SACEtY,EACAr8B,EACAqE,GAEA,MAAM4zC,EAAS5b,EAASqZ,aAClB11C,KAAQi4C,IACZA,EAAOj4C,GAAQ,CAAC,GAElB,MAAMwH,EAASywC,EAAOj4C,GACtB,GAAIjD,EAAQyK,IAAWlK,EAAS+G,GAE9B,OAAOA,EAET,OAAOmD,GAAU,CAAC,CACpB,CA/BUgxC,CAAanc,EAAUr8B,EAAgBqE,KACjD,CAEA,SAASk0C,GACPtyC,EACAqyC,EACAt5C,EACA21C,EACA9X,GAEA,KAAO79B,GACLA,EAAMk5C,GAAUjyC,EAAKqyC,EAAWt5C,EAAK21C,EAAU9X,GAEjD,OAAO79B,CACT,CAoCA,SAAS8lB,GAAS9lB,EAAam2C,GAC7B,IAAK,MAAMtN,KAASsN,EAAQ,CAC1B,IAAKtN,EACH,SAEF,MAAMxjC,EAAQwjC,EAAM7oC,GACpB,GAAqB,qBAAVqF,EACT,OAAOA,CAEX,CACF,CAEA,SAASkyC,GAAqB/uC,GAC5B,IAAI3I,EAAO2I,EAAOquC,MAIlB,OAHKh3C,IACHA,EAAO2I,EAAOquC,MAKlB,SAAkCV,GAChC,MAAMlvC,EAAM,IAAIk7B,IAChB,IAAK,MAAM0G,KAASsN,EAClB,IAAK,MAAMn2C,KAAO/C,OAAO4C,KAAKgpC,GAAOnjC,QAAOinB,IAAMA,EAAEif,WAAW,OAC7D3kC,EAAIqxC,IAAIt4C,GAGZ,OAAOhC,MAAM4L,KAAK3C,EACpB,CAb0BwyC,CAAyBjxC,EAAOguC,UAEjD32C,CACT,CAYO,SAAS65C,GACd9W,EACAhgC,EACA89B,EACAsC,GAEA,MAAM,OAACE,GAAUN,GACX,IAAC5iC,EAAM,KAAOsE,KAAKq1C,SACnBlnC,EAAS,IAAIzU,MAAoBglC,GACvC,IAAIxjC,EAAW28B,EAAcvwB,EAAeiyB,EAE5C,IAAKr+B,EAAI,EAAG28B,EAAO6G,EAAOxjC,EAAI28B,IAAQ38B,EACpCoM,EAAQpM,EAAIkhC,EACZ7C,EAAOj7B,EAAKgJ,GACZ6G,EAAOjT,GAAK,CACV4sB,EAAG8W,EAAO1yB,MAAM4sB,GAAiBS,EAAM79B,GAAM4L,IAGjD,OAAO6G,CACT,CClcA,MAAMmnC,GAAU7xC,OAAO6xC,SAAW,MAG5BC,GAAWA,CAAChX,EAAuBrjC,IAAmCA,EAAIqjC,EAAOljC,SAAWkjC,EAAOrjC,GAAGs6C,MAAQjX,EAAOrjC,GACrHu6C,GAAgB7P,GAAuC,MAAdA,EAAoB,IAAM,IAElE,SAAS8P,GACdC,EACAC,EACAC,EACA3f,GAUA,MAAMiY,EAAWwH,EAAWH,KAAOI,EAAcD,EAC3Cnd,EAAUod,EACV5zC,EAAO6zC,EAAWL,KAAOI,EAAcC,EACvCC,EAAMha,GAAsBtD,EAAS2V,GACrC4H,EAAMja,GAAsB95B,EAAMw2B,GAExC,IAAIwd,EAAMF,GAAOA,EAAMC,GACnBE,EAAMF,GAAOD,EAAMC,GAGvBC,EAAMrb,MAAMqb,GAAO,EAAIA,EACvBC,EAAMtb,MAAMsb,GAAO,EAAIA,EAEvB,MAAMC,EAAKhgB,EAAI8f,EACTG,EAAKjgB,EAAI+f,EAEf,MAAO,CACL9H,SAAU,CACRllB,EAAGuP,EAAQvP,EAAIitB,GAAMl0C,EAAKinB,EAAIklB,EAASllB,GACvC4P,EAAGL,EAAQK,EAAIqd,GAAMl0C,EAAK62B,EAAIsV,EAAStV,IAEzC72B,KAAM,CACJinB,EAAGuP,EAAQvP,EAAIktB,GAAMn0C,EAAKinB,EAAIklB,EAASllB,GACvC4P,EAAGL,EAAQK,EAAIsd,GAAMn0C,EAAK62B,EAAIsV,EAAStV,IAG7C,CAsEO,SAASud,GAAoB7X,GAAmD,IAA5BqH,EAAAntC,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAuB,IAChF,MAAM49C,EAAYZ,GAAa7P,GACzB0Q,EAAY/X,EAAOljC,OACnBk7C,EAAmB78C,MAAM48C,GAAW7I,KAAK,GACzC+I,EAAe98C,MAAM48C,GAG3B,IAAIp7C,EAAGu7C,EAAkCC,EACrCC,EAAapB,GAAShX,EAAQ,GAElC,IAAKrjC,EAAI,EAAGA,EAAIo7C,IAAap7C,EAI3B,GAHAu7C,EAAcC,EACdA,EAAeC,EACfA,EAAapB,GAAShX,EAAQrjC,EAAI,GAC7Bw7C,EAAL,CAIA,GAAIC,EAAY,CACd,MAAMC,EAAaD,EAAW/Q,GAAa8Q,EAAa9Q,GAGxD2Q,EAAOr7C,GAAoB,IAAf07C,GAAoBD,EAAWN,GAAaK,EAAaL,IAAcO,EAAa,EAElGJ,EAAGt7C,GAAMu7C,EACJE,EACEzc,GAAKqc,EAAOr7C,EAAI,MAAQg/B,GAAKqc,EAAOr7C,IAAO,GACzCq7C,EAAOr7C,EAAI,GAAKq7C,EAAOr7C,IAAM,EAFpBq7C,EAAOr7C,EAAI,GADNq7C,EAAOr7C,IAzFlC,SAAwBqjC,EAAuBgY,EAAkBC,GAC/D,MAAMF,EAAY/X,EAAOljC,OAEzB,IAAIw7C,EAAgBC,EAAeC,EAAcC,EAA0BN,EACvEC,EAAapB,GAAShX,EAAQ,GAClC,IAAK,IAAIrjC,EAAI,EAAGA,EAAIo7C,EAAY,IAAKp7C,EACnCw7C,EAAeC,EACfA,EAAapB,GAAShX,EAAQrjC,EAAI,GAC7Bw7C,GAAiBC,IAIlBxc,GAAaoc,EAAOr7C,GAAI,EAAGo6C,IAC7BkB,EAAGt7C,GAAKs7C,EAAGt7C,EAAI,GAAK,GAItB27C,EAASL,EAAGt7C,GAAKq7C,EAAOr7C,GACxB47C,EAAQN,EAAGt7C,EAAI,GAAKq7C,EAAOr7C,GAC3B87C,EAAmBh5C,KAAKu2B,IAAIsiB,EAAQ,GAAK74C,KAAKu2B,IAAIuiB,EAAO,GACrDE,GAAoB,IAIxBD,EAAO,EAAI/4C,KAAK09B,KAAKsb,GACrBR,EAAGt7C,GAAK27C,EAASE,EAAOR,EAAOr7C,GAC/Bs7C,EAAGt7C,EAAI,GAAK47C,EAAQC,EAAOR,EAAOr7C,KAEtC,CAmEE+7C,CAAe1Y,EAAQgY,EAAQC,GAjEjC,SAAyBjY,EAAuBiY,GAA0C,IAA5B5Q,EAAAntC,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAuB,IACnF,MAAM49C,EAAYZ,GAAa7P,GACzB0Q,EAAY/X,EAAOljC,OACzB,IAAIkoC,EAAekT,EAAkCC,EACjDC,EAAapB,GAAShX,EAAQ,GAElC,IAAK,IAAIrjC,EAAI,EAAGA,EAAIo7C,IAAap7C,EAAG,CAIlC,GAHAu7C,EAAcC,EACdA,EAAeC,EACfA,EAAapB,GAAShX,EAAQrjC,EAAI,IAC7Bw7C,EACH,SAGF,MAAMQ,EAASR,EAAa9Q,GACtBuR,EAAST,EAAaL,GACxBI,IACFlT,GAAS2T,EAAST,EAAY7Q,IAAc,EAC5C8Q,EAAa,MAAM9Q,KAAesR,EAAS3T,EAC3CmT,EAAa,MAAML,KAAec,EAAS5T,EAAQiT,EAAGt7C,IAEpDy7C,IACFpT,GAASoT,EAAW/Q,GAAasR,GAAU,EAC3CR,EAAa,MAAM9Q,KAAesR,EAAS3T,EAC3CmT,EAAa,MAAML,KAAec,EAAS5T,EAAQiT,EAAGt7C,GAE1D,CACF,CAwCEk8C,CAAgB7Y,EAAQiY,EAAI5Q,EAC9B,CAEA,SAASyR,GAAgBC,EAAYjmC,EAAasV,GAChD,OAAO3oB,KAAK2oB,IAAI3oB,KAAKqT,IAAIimC,EAAI3wB,GAAMtV,EACrC,CA2BO,SAASkmC,GACdhZ,EACAl4B,EACAynC,EACAlG,EACAhC,GAEA,IAAI1qC,EAAW28B,EAAcgW,EAAoB2J,EAOjD,GAJInxC,EAAQoxC,WACVlZ,EAASA,EAAOn9B,QAAQk2C,IAAQA,EAAG9B,QAGE,aAAnCnvC,EAAQqxC,uBACVtB,GAAoB7X,EAAQqH,OACvB,CACL,IAAI+R,EAAO/P,EAAOrJ,EAAOA,EAAOljC,OAAS,GAAKkjC,EAAO,GACrD,IAAKrjC,EAAI,EAAG28B,EAAO0G,EAAOljC,OAAQH,EAAI28B,IAAQ38B,EAC5C2yC,EAAQtP,EAAOrjC,GACfs8C,EAAgB9B,GACdiC,EACA9J,EACAtP,EAAOvgC,KAAKqT,IAAInW,EAAI,EAAG28B,GAAQ+P,EAAO,EAAI,IAAM/P,GAChDxxB,EAAQuxC,SAEV/J,EAAMW,KAAOgJ,EAAcrJ,SAASllB,EACpC4kB,EAAMa,KAAO8I,EAAcrJ,SAAStV,EACpCgV,EAAMY,KAAO+I,EAAcx1C,KAAKinB,EAChC4kB,EAAMc,KAAO6I,EAAcx1C,KAAK62B,EAChC8e,EAAO9J,EAIPxnC,EAAQwxC,iBA3Dd,SAAyBtZ,EAAuBuP,GAC9C,IAAI5yC,EAAG28B,EAAMgW,EAAOiK,EAAQC,EACxBC,EAAapK,GAAerP,EAAO,GAAIuP,GAC3C,IAAK5yC,EAAI,EAAG28B,EAAO0G,EAAOljC,OAAQH,EAAI28B,IAAQ38B,EAC5C68C,EAAaD,EACbA,EAASE,EACTA,EAAa98C,EAAI28B,EAAO,GAAK+V,GAAerP,EAAOrjC,EAAI,GAAI4yC,GACtDgK,IAGLjK,EAAQtP,EAAOrjC,GACX68C,IACFlK,EAAMW,KAAO6I,GAAgBxJ,EAAMW,KAAMV,EAAKrF,KAAMqF,EAAKvF,OACzDsF,EAAMa,KAAO2I,GAAgBxJ,EAAMa,KAAMZ,EAAKxF,IAAKwF,EAAKtF,SAEtDwP,IACFnK,EAAMY,KAAO4I,GAAgBxJ,EAAMY,KAAMX,EAAKrF,KAAMqF,EAAKvF,OACzDsF,EAAMc,KAAO0I,GAAgBxJ,EAAMc,KAAMb,EAAKxF,IAAKwF,EAAKtF,SAG9D,CAwCIqP,CAAgBtZ,EAAQuP,EAE5B,CC9MO,SAASmK,KACd,MAAyB,qBAAXj8C,QAA8C,qBAAb4N,QACjD,CAKO,SAASsuC,GAAeC,GAC7B,IAAIxD,EAASwD,EAAQC,WAIrB,OAHIzD,GAAgC,wBAAtBA,EAAOj8C,aACnBi8C,EAAUA,EAAsB3gC,MAE3B2gC,CACT,CAOA,SAAS0D,GAAcC,EAA6BjU,EAAmBkU,GACrE,IAAIC,EAYJ,MAX0B,kBAAfF,GACTE,EAAgBtkB,SAASokB,EAAY,KAEJ,IAA7BA,EAAW12C,QAAQ,OAErB42C,EAAgBA,EAAiB,IAAOnU,EAAK+T,WAAWG,KAG1DC,EAAgBF,EAGXE,CACT,CAEA,MAAMC,GAAoBC,GACxBA,EAAQC,cAAcC,YAAYH,iBAAiBC,EAAS,MAM9D,MAAMG,GAAY,CAAC,MAAO,QAAS,SAAU,QAC7C,SAASC,GAAmBC,EAA6B1T,EAAe2T,GACtE,MAAMz5C,EAAS,CAAC,EAChBy5C,EAASA,EAAS,IAAMA,EAAS,GACjC,IAAK,IAAI99C,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMof,EAAMu+B,GAAU39C,GACtBqE,EAAO+a,GAAOgd,WAAWyhB,EAAO1T,EAAQ,IAAM/qB,EAAM0+B,KAAY,CAClE,CAGA,OAFAz5C,EAAOoqC,MAAQpqC,EAAOkpC,KAAOlpC,EAAOgpC,MACpChpC,EAAO4sC,OAAS5sC,EAAO+oC,IAAM/oC,EAAOipC,OAC7BjpC,CACT,CA0CO,SAAS05C,GACdxlC,EACA4vB,GAEA,GAAI,WAAY5vB,EACd,OAAOA,EAGT,MAAM,OAACs4B,EAAA,wBAAQH,GAA2BvI,EACpCgC,EAAQoT,GAAiB1M,GACzBmN,EAAgC,eAApB7T,EAAM8T,UAClBC,EAAWN,GAAmBzT,EAAO,WACrCgU,EAAUP,GAAmBzT,EAAO,SAAU,UAC9C,EAACpc,EAAA,EAAG4P,EAAA,IAAGygB,GA7Cf,SACEntC,EACA4/B,GAMA,MAAMwN,EAAUptC,EAAkBotC,QAC5Bl7C,EAAUk7C,GAAWA,EAAQl+C,OAASk+C,EAAQ,GAAKptC,GACnD,QAACqtC,EAAA,QAASC,GAAWp7C,EAC3B,IACI4qB,EAAG4P,EADHygB,GAAM,EAEV,GArBmBI,EAACzwB,EAAW4P,EAAW30B,KACzC+kB,EAAI,GAAK4P,EAAI,MAAQ30B,IAAWA,EAAwBy1C,YAoBrDD,CAAaF,EAASC,EAASttC,EAAEjI,QACnC+kB,EAAIuwB,EACJ3gB,EAAI4gB,MACC,CACL,MAAMjM,EAAOzB,EAAO6N,wBACpB3wB,EAAI5qB,EAAOw7C,QAAUrM,EAAK/E,KAC1B5P,EAAIx6B,EAAOy7C,QAAUtM,EAAKlF,IAC1BgR,GAAM,EAER,MAAO,CAACrwB,IAAG4P,IAAGygB,MAChB,CAsBsBS,CAAkBtmC,EAAOs4B,GACvCO,EAAU8M,EAAS3Q,MAAQ6Q,GAAOD,EAAQ5Q,MAC1C8D,EAAU6M,EAAS9Q,KAAOgR,GAAOD,EAAQ/Q,KAE/C,IAAI,MAACqB,EAAA,OAAOwC,GAAU9I,EAKtB,OAJI6V,IACFvP,GAASyP,EAASzP,MAAQ0P,EAAQ1P,MAClCwC,GAAUiN,EAASjN,OAASkN,EAAQlN,QAE/B,CACLljB,EAAGjrB,KAAKiU,OAAOgX,EAAIqjB,GAAW3C,EAAQoC,EAAOpC,MAAQiC,GACrD/S,EAAG76B,KAAKiU,OAAO4mB,EAAI0T,GAAWJ,EAASJ,EAAOI,OAASP,GAE3D,CA6BA,MAAMoO,GAAUvzB,GAAczoB,KAAKiU,MAAU,GAAJwU,GAAU,GAG5C,SAASwzB,GACdlO,EACAmO,EACAC,EACAC,GAEA,MAAM/U,EAAQoT,GAAiB1M,GACzBsO,EAAUvB,GAAmBzT,EAAO,UACpCgL,EAAWgI,GAAchT,EAAMgL,SAAUtE,EAAQ,gBAAkBpS,GACnE2gB,EAAYjC,GAAchT,EAAMiV,UAAWvO,EAAQ,iBAAmBpS,GACtE4gB,EAxCR,SAA0BxO,EAA2BpC,EAAewC,GAClE,IAAIkE,EAAkBiK,EAEtB,QAAch/C,IAAVquC,QAAkCruC,IAAX6wC,EAAsB,CAC/C,MAAMqO,EAAYzO,GAAUmM,GAAenM,GAC3C,GAAKyO,EAGE,CACL,MAAMhN,EAAOgN,EAAUZ,wBACjBa,EAAiBhC,GAAiB+B,GAClCE,EAAkB5B,GAAmB2B,EAAgB,SAAU,SAC/DE,EAAmB7B,GAAmB2B,EAAgB,WAC5D9Q,EAAQ6D,EAAK7D,MAAQgR,EAAiBhR,MAAQ+Q,EAAgB/Q,MAC9DwC,EAASqB,EAAKrB,OAASwO,EAAiBxO,OAASuO,EAAgBvO,OACjEkE,EAAWgI,GAAcoC,EAAepK,SAAUmK,EAAW,eAC7DF,EAAYjC,GAAcoC,EAAeH,UAAWE,EAAW,qBAV/D7Q,EAAQoC,EAAO6O,YACfzO,EAASJ,EAAO8O,aAYpB,MAAO,CACLlR,QACAwC,SACAkE,SAAUA,GAAY1W,GACtB2gB,UAAWA,GAAa3gB,GAE5B,CAewBmhB,CAAiB/O,EAAQmO,EAASC,GACxD,IAAI,MAACxQ,EAAA,OAAOwC,GAAUoO,EAEtB,GAAwB,gBAApBlV,EAAM8T,UAA6B,CACrC,MAAME,EAAUP,GAAmBzT,EAAO,SAAU,SAC9C+T,EAAWN,GAAmBzT,EAAO,WAC3CsE,GAASyP,EAASzP,MAAQ0P,EAAQ1P,MAClCwC,GAAUiN,EAASjN,OAASkN,EAAQlN,OAEtCxC,EAAQ3rC,KAAK2oB,IAAI,EAAGgjB,EAAQ0Q,EAAQ1Q,OACpCwC,EAASnuC,KAAK2oB,IAAI,EAAGyzB,EAAczQ,EAAQyQ,EAAcjO,EAASkO,EAAQlO,QAC1ExC,EAAQqQ,GAAOh8C,KAAKqT,IAAIs4B,EAAO0G,EAAUkK,EAAclK,WACvDlE,EAAS6N,GAAOh8C,KAAKqT,IAAI86B,EAAQmO,EAAWC,EAAcD,YACtD3Q,IAAUwC,IAGZA,EAAS6N,GAAOrQ,EAAQ,IAU1B,YAPmCruC,IAAZ4+C,QAAsC5+C,IAAb6+C,IAE1BC,GAAeG,EAAcpO,QAAUA,EAASoO,EAAcpO,SAClFA,EAASoO,EAAcpO,OACvBxC,EAAQqQ,GAAOh8C,KAAKmT,MAAMg7B,EAASiO,KAG9B,CAACzQ,QAAOwC,SACjB,CAQO,SAAS4O,GACd1X,EACA2X,EACAC,GAEA,MAAMC,EAAaF,GAAc,EAC3BG,EAAen9C,KAAKmT,MAAMkyB,EAAM8I,OAAS+O,GACzCE,EAAcp9C,KAAKmT,MAAMkyB,EAAMsG,MAAQuR,GAE7C7X,EAAM8I,OAASnuC,KAAKmT,MAAMkyB,EAAM8I,QAChC9I,EAAMsG,MAAQ3rC,KAAKmT,MAAMkyB,EAAMsG,OAE/B,MAAMoC,EAAS1I,EAAM0I,OAUrB,OALIA,EAAO1G,QAAU4V,IAAgBlP,EAAO1G,MAAM8G,SAAWJ,EAAO1G,MAAMsE,SACxEoC,EAAO1G,MAAM8G,OAAS,GAAG9I,EAAM8I,WAC/BJ,EAAO1G,MAAMsE,MAAQ,GAAGtG,EAAMsG,YAG5BtG,EAAMuI,0BAA4BsP,GAC/BnP,EAAOI,SAAWgP,GAClBpP,EAAOpC,QAAUyR,KACtB/X,EAAMuI,wBAA0BsP,EAChCnP,EAAOI,OAASgP,EAChBpP,EAAOpC,MAAQyR,EACf/X,EAAMoC,IAAI4V,aAAaH,EAAY,EAAG,EAAGA,EAAY,EAAG,IACjD,EAGX,CAOa,MAAAI,GAAgC,WAC3C,IAAIC,GAAmB,EACvB,IACE,MAAMl1C,EAAU,CACd,WAAIm1C,GAEF,OADAD,GAAmB,GACZ,CACT,GAGEtD,OACFj8C,OAAOmC,iBAAiB,OAAQ,KAAMkI,GACtCrK,OAAOkc,oBAAoB,OAAQ,KAAM7R,GAE7C,CAAE,MAAO8F,IAGT,OAAOovC,CACT,CAlB6C,GA8BtC,SAASE,GACd/C,EACA5d,GAEA,MAAM/5B,EAzOD,SAAkBsG,EAAiByzB,GACxC,OAAO2d,GAAiBpxC,GAAIq0C,iBAAiB5gB,EAC/C,CAuOgB6gB,CAASjD,EAAS5d,GAC1Bz4B,EAAUtB,GAASA,EAAM8G,MAAM,qBACrC,OAAOxF,GAAWA,EAAQ,QAAK/G,CACjC,CC9RO,SAASsgD,GAAax4C,EAAWC,EAAW6yB,EAAW4P,GAC5D,MAAO,CACL7c,EAAG7lB,EAAG6lB,EAAIiN,GAAK7yB,EAAG4lB,EAAI7lB,EAAG6lB,GACzB4P,EAAGz1B,EAAGy1B,EAAI3C,GAAK7yB,EAAGw1B,EAAIz1B,EAAGy1B,GAE7B,CAKO,SAASgjB,GACdz4C,EACAC,EACA6yB,EAAW4P,GAEX,MAAO,CACL7c,EAAG7lB,EAAG6lB,EAAIiN,GAAK7yB,EAAG4lB,EAAI7lB,EAAG6lB,GACzB4P,EAAY,WAATiN,EAAoB5P,EAAI,GAAM9yB,EAAGy1B,EAAIx1B,EAAGw1B,EAC9B,UAATiN,EAAmB5P,EAAI,EAAI9yB,EAAGy1B,EAAIx1B,EAAGw1B,EACnC3C,EAAI,EAAI7yB,EAAGw1B,EAAIz1B,EAAGy1B,EAE5B,CAKO,SAASijB,GAAqB14C,EAAiBC,EAAiB6yB,EAAW4P,GAChF,MAAMiW,EAAM,CAAC9yB,EAAG7lB,EAAGqrC,KAAM5V,EAAGz1B,EAAGurC,MACzBqN,EAAM,CAAC/yB,EAAG5lB,EAAGmrC,KAAM3V,EAAGx1B,EAAGqrC,MACzBtuC,EAAIw7C,GAAax4C,EAAI24C,EAAK7lB,GAC1B71B,EAAIu7C,GAAaG,EAAKC,EAAK9lB,GAC3BxU,EAAIk6B,GAAaI,EAAK34C,EAAI6yB,GAC1B3O,EAAIq0B,GAAax7C,EAAGC,EAAG61B,GACvB/pB,EAAIyvC,GAAav7C,EAAGqhB,EAAGwU,GAC7B,OAAO0lB,GAAar0B,EAAGpb,EAAG+pB,EAC5B,CCUO,SAAS+lB,GAAcC,EAAcC,EAAexS,GACzD,OAAOuS,EA3CqB,SAASC,EAAexS,GACpD,MAAO,CACL1gB,EAAEA,GACOkzB,EAAQA,EAAQxS,EAAQ1gB,EAEjCmzB,QAAAA,CAASjtC,GACPw6B,EAAQx6B,CACV,EACA6gC,UAAU7R,GACM,WAAVA,EACKA,EAEQ,UAAVA,EAAoB,OAAS,QAEtCke,MAAMA,CAAApzB,EAAGloB,IACAkoB,EAAIloB,EAEbu7C,WAAWA,CAAArzB,EAAGszB,IACLtzB,EAAIszB,EAGjB,CAsBeC,CAAsBL,EAAOxS,GAnBnC,CACL1gB,EAAEA,GACOA,EAETmzB,QAAAA,CAASjtC,GAAI,EAEb6gC,UAAU7R,GACDA,EAETke,MAAMA,CAAApzB,EAAGloB,IACAkoB,EAAIloB,EAEbu7C,WAAWA,CAAArzB,EAAGwzB,IACLxzB,EAOb,CAEO,SAASyzB,GAAsBjX,EAA+BkX,GACnE,IAAItX,EAA4BuX,EACd,QAAdD,GAAqC,QAAdA,IACzBtX,EAAQI,EAAIsG,OAAO1G,MACnBuX,EAAW,CACTvX,EAAMqW,iBAAiB,aACvBrW,EAAMwX,oBAAoB,cAG5BxX,EAAMyX,YAAY,YAAaH,EAAW,aACzClX,EAAiDsX,kBAAoBH,EAE1E,CAEO,SAASI,GAAqBvX,EAA+BmX,QACjDthD,IAAbshD,WACMnX,EAAiDsX,kBACzDtX,EAAIsG,OAAO1G,MAAMyX,YAAY,YAAaF,EAAS,GAAIA,EAAS,IAEpE,CC/DA,SAASK,GAAWniB,GAClB,MAAiB,UAAbA,EACK,CACLoiB,QAAS/gB,GACTghB,QAASlhB,GACTjtB,UAAWktB,IAGR,CACLghB,QAASvgB,GACTwgB,QAASA,CAAC/8C,EAAGC,IAAMD,EAAIC,EACvB2O,UAAWia,GAAKA,EAEpB,CAEA,SAASm0B,GAAiB3gD,GAAkC,IAAlC,MAAC2/B,EAAK,IAAE/hB,EAAG,MAAEqkB,EAAK,KAAEkJ,EAAI,MAAEvC,GAAM5oC,EACxD,MAAO,CACL2/B,MAAOA,EAAQsC,EACfrkB,IAAKA,EAAMqkB,EACXkJ,KAAMA,IAASvtB,EAAM+hB,EAAQ,GAAKsC,IAAU,EAC5C2G,QAEJ,CA4CO,SAASgY,GAAcC,EAAS/e,EAAQsK,GAC7C,IAAKA,EACH,MAAO,CAACyU,GAGV,MAAM,SAACxiB,EAAUsB,MAAOmhB,EAAYljC,IAAKmjC,GAAY3U,EAC/CnK,EAAQH,EAAOljC,QACf,QAAC8hD,EAAA,QAASD,EAAA,UAASluC,GAAaiuC,GAAWniB,IAC3C,MAACsB,EAAA,IAAO/hB,EAAA,KAAKutB,EAAA,MAAMvC,GAlD3B,SAAoBiY,EAAS/e,EAAQsK,GACnC,MAAM,SAAC/N,EAAUsB,MAAOmhB,EAAYljC,IAAKmjC,GAAY3U,GAC/C,QAACqU,EAAO,UAAEluC,GAAaiuC,GAAWniB,GAClC4D,EAAQH,EAAOljC,OAErB,IACIH,EAAG28B,GADH,MAACuE,EAAK,IAAE/hB,EAAA,KAAKutB,GAAQ0V,EAGzB,GAAI1V,EAAM,CAGR,IAFAxL,GAASsC,EACTrkB,GAAOqkB,EACFxjC,EAAI,EAAG28B,EAAO6G,EAAOxjC,EAAI28B,GACvBqlB,EAAQluC,EAAUuvB,EAAOnC,EAAQsC,GAAO5D,IAAYyiB,EAAYC,KADjCtiD,EAIpCkhC,IACA/hB,IAEF+hB,GAASsC,EACTrkB,GAAOqkB,EAMT,OAHIrkB,EAAM+hB,IACR/hB,GAAOqkB,GAEF,CAACtC,QAAO/hB,MAAKutB,OAAMvC,MAAOiY,EAAQjY,MAC3C,CAwBoCoY,CAAWH,EAAS/e,EAAQsK,GAExDtpC,EAAS,GACf,IAEIwB,EAAO8sC,EAAO6P,EAFdC,GAAS,EACTC,EAAW,KAGf,MAEMC,EAAcA,IAAMF,GAFET,EAAQK,EAAYG,EAAW38C,IAA6C,IAAnCo8C,EAAQI,EAAYG,GAGnFI,EAAaA,KAAOH,GAF6B,IAA7BR,EAAQK,EAAUz8C,IAAgBm8C,EAAQM,EAAUE,EAAW38C,GAIzF,IAAK,IAAI7F,EAAIkhC,EAAOub,EAAOvb,EAAOlhC,GAAKmf,IAAOnf,EAC5C2yC,EAAQtP,EAAOrjC,EAAIwjC,GAEfmP,EAAM2H,OAIVz0C,EAAQiO,EAAU6+B,EAAM/S,IAEpB/5B,IAAU28C,IAIdC,EAAST,EAAQn8C,EAAOw8C,EAAYC,GAEnB,OAAbI,GAAqBC,MACvBD,EAA0C,IAA/BT,EAAQp8C,EAAOw8C,GAAoBriD,EAAIy8C,GAGnC,OAAbiG,GAAqBE,MACvBv+C,EAAOd,KAAK2+C,GAAiB,CAAChhB,MAAOwhB,EAAUvjC,IAAKnf,EAAG0sC,OAAMlJ,QAAO2G,WACpEuY,EAAW,MAEbjG,EAAOz8C,EACPwiD,EAAY38C,IAOd,OAJiB,OAAb68C,GACFr+C,EAAOd,KAAK2+C,GAAiB,CAAChhB,MAAOwhB,EAAUvjC,MAAKutB,OAAMlJ,QAAO2G,WAG5D9lC,CACT,CAYO,SAASw+C,GAAe3vC,EAAMy6B,GACnC,MAAMtpC,EAAS,GACTy+C,EAAW5vC,EAAK4vC,SAEtB,IAAK,IAAI9iD,EAAI,EAAGA,EAAI8iD,EAAS3iD,OAAQH,IAAK,CACxC,MAAM+iD,EAAMZ,GAAcW,EAAS9iD,GAAIkT,EAAKmwB,OAAQsK,GAChDoV,EAAI5iD,QACNkE,EAAOd,QAAQw/C,EAEnB,CACA,OAAO1+C,CACT,CAiHA,SAAS2+C,GAAc9vC,EAAM4vC,EAAUzf,EAAQ4f,GAC7C,OAAKA,GAAmBA,EAAevK,YAAerV,EAaxD,SAAyBnwB,EAAM4vC,EAAUzf,EAAQ4f,GAC/C,MAAMC,EAAehwC,EAAKiwC,OAAOrS,aAC3BsS,EAAYC,GAAUnwC,EAAK/H,UAC1Bm4C,cAAexmB,EAAc3xB,SAAS,SAACoxC,IAAarpC,EACrDswB,EAAQH,EAAOljC,OACfkE,EAAS,GACf,IAAIk/C,EAAYH,EACZliB,EAAQ4hB,EAAS,GAAG5hB,MACpBlhC,EAAIkhC,EAER,SAASsiB,EAASrgC,EAAGlS,EAAGhR,EAAGwjD,GACzB,MAAMC,EAAMnH,GAAY,EAAI,EAC5B,GAAIp5B,IAAMlS,EAAV,CAKA,IADAkS,GAAKqgB,EACEH,EAAOlgB,EAAIqgB,GAAO8W,MACvBn3B,GAAKugC,EAEP,KAAOrgB,EAAOpyB,EAAIuyB,GAAO8W,MACvBrpC,GAAKyyC,EAEHvgC,EAAIqgB,IAAUvyB,EAAIuyB,IACpBn/B,EAAOd,KAAK,CAAC29B,MAAO/d,EAAIqgB,EAAOrkB,IAAKlO,EAAIuyB,EAAOkJ,KAAMzsC,EAAGkqC,MAAOsZ,IAC/DF,EAAYE,EACZviB,EAAQjwB,EAAIuyB,GAEhB,CAEA,IAAK,MAAM4e,KAAWU,EAAU,CAC9B5hB,EAAQqb,EAAWrb,EAAQkhB,EAAQlhB,MACnC,IACIiJ,EADAsS,EAAOpZ,EAAOnC,EAAQsC,GAE1B,IAAKxjC,EAAIkhC,EAAQ,EAAGlhC,GAAKoiD,EAAQjjC,IAAKnf,IAAK,CACzC,MAAMo8C,EAAK/Y,EAAOrjC,EAAIwjC,GACtB2G,EAAQkZ,GAAUJ,EAAevK,WAAWlC,GAAc0M,EAAc,CACtE7kD,KAAM,UACNslD,GAAIlH,EACJv0C,GAAIk0C,EACJwH,aAAc5jD,EAAI,GAAKwjC,EACvBqgB,YAAa7jD,EAAIwjC,EACjB1G,mBAEEgnB,GAAa3Z,EAAOoZ,IACtBC,EAAStiB,EAAOlhC,EAAI,EAAGoiD,EAAQ1V,KAAM6W,GAEvC9G,EAAOL,EACPmH,EAAYpZ,CACd,CACIjJ,EAAQlhC,EAAI,GACdwjD,EAAStiB,EAAOlhC,EAAI,EAAGoiD,EAAQ1V,KAAM6W,EAEzC,CAEA,OAAOl/C,CACT,CAlES0/C,CAAgB7wC,EAAM4vC,EAAUzf,EAAQ4f,GAFtCH,CAGX,CAmEA,SAASO,GAAUl4C,GACjB,MAAO,CACLu+B,gBAAiBv+B,EAAQu+B,gBACzBsa,eAAgB74C,EAAQ64C,eACxBC,WAAY94C,EAAQ84C,WACpBC,iBAAkB/4C,EAAQ+4C,iBAC1BC,gBAAiBh5C,EAAQg5C,gBACzB3R,YAAarnC,EAAQqnC,YACrB7I,YAAax+B,EAAQw+B,YAEzB,CAEA,SAASma,GAAa3Z,EAAOoZ,GAC3B,IAAKA,EACH,OAAO,EAET,MAAM1lD,EAAQ,GACRumD,EAAW,SAAS5jD,EAAKqF,GAC7B,OAAKmhC,GAAoBnhC,IAGpBhI,EAAMkrC,SAASljC,IAClBhI,EAAM0F,KAAKsC,GAENhI,EAAM6I,QAAQb,IALZA,CAMX,EACA,OAAOkG,KAAKC,UAAUm+B,EAAOia,KAAcr4C,KAAKC,UAAUu3C,EAAWa,EACvE,CChWO,MAAMC,GACXtgD,WAAAA,GACEe,KAAK8c,SAAW,KAChB9c,KAAKw/C,QAAU,IAAIjd,IACnBviC,KAAKy/C,UAAW,EAChBz/C,KAAK0/C,eAAYpkD,CACnB,CAKAqkD,OAAAA,CAAQtc,EAAOuc,EAAOC,EAAMtmD,GAC1B,MAAM2E,EAAY0hD,EAAMliB,UAAUnkC,GAC5BumD,EAAWF,EAAMlY,SAEvBxpC,EAAUlD,SAAQ1C,GAAMA,EAAG,CACzB+qC,QACA0c,QAASH,EAAMG,QACfD,WACAE,YAAahiD,KAAKqT,IAAIwuC,EAAOD,EAAMxjB,MAAO0jB,MAE9C,CAKAG,QAAAA,GACMjgD,KAAK8c,WAGT9c,KAAKy/C,UAAW,EAEhBz/C,KAAK8c,SAAWghB,GAAiB3kC,KAAK6C,QAAQ,KAC5CgE,KAAKkgD,UACLlgD,KAAK8c,SAAW,KAEZ9c,KAAKy/C,UACPz/C,KAAKigD,cAGX,CAKAC,OAAAA,GAA2B,IAAnBL,EAAApnD,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAOoZ,KAAKD,MACduuC,EAAY,EAEhBngD,KAAKw/C,QAAQxkD,SAAQ,CAAC4kD,EAAOvc,KAC3B,IAAKuc,EAAMQ,UAAYR,EAAMhiB,MAAMviC,OACjC,OAEF,MAAMuiC,EAAQgiB,EAAMhiB,MACpB,IAEIrE,EAFAr+B,EAAI0iC,EAAMviC,OAAS,EACnBglD,GAAO,EAGX,KAAOnlD,GAAK,IAAKA,EACfq+B,EAAOqE,EAAM1iC,GAETq+B,EAAK+mB,SACH/mB,EAAKgnB,OAASX,EAAMlY,WAGtBkY,EAAMlY,SAAWnO,EAAKgnB,QAExBhnB,EAAKinB,KAAKX,GACVQ,GAAO,IAIPziB,EAAM1iC,GAAK0iC,EAAMA,EAAMviC,OAAS,GAChCuiC,EAAMn2B,OAIN44C,IACFhd,EAAMgd,OACNrgD,KAAK2/C,QAAQtc,EAAOuc,EAAOC,EAAM,aAG9BjiB,EAAMviC,SACTukD,EAAMQ,SAAU,EAChBpgD,KAAK2/C,QAAQtc,EAAOuc,EAAOC,EAAM,YACjCD,EAAMG,SAAU,GAGlBI,GAAaviB,EAAMviC,MAAM,IAG3B2E,KAAK0/C,UAAYG,EAEC,IAAdM,IACFngD,KAAKy/C,UAAW,EAEpB,CAKAgB,SAAAA,CAAUpd,GACR,MAAMqd,EAAS1gD,KAAKw/C,QACpB,IAAII,EAAQc,EAAOnyC,IAAI80B,GAavB,OAZKuc,IACHA,EAAQ,CACNQ,SAAS,EACTL,SAAS,EACTniB,MAAO,GACPF,UAAW,CACTijB,SAAU,GACVptC,SAAU,KAGdmtC,EAAO/9C,IAAI0gC,EAAOuc,IAEbA,CACT,CAOAgB,MAAAA,CAAOvd,EAAO5vB,EAAOjV,GACnBwB,KAAKygD,UAAUpd,GAAO3F,UAAUjqB,GAAOhV,KAAKD,EAC9C,CAOAw1C,GAAAA,CAAI3Q,EAAOzF,GACJA,GAAUA,EAAMviC,QAGrB2E,KAAKygD,UAAUpd,GAAOzF,MAAMn/B,QAAQm/B,EACtC,CAMAjvB,GAAAA,CAAI00B,GACF,OAAOrjC,KAAKygD,UAAUpd,GAAOzF,MAAMviC,OAAS,CAC9C,CAMA+gC,KAAAA,CAAMiH,GACJ,MAAMuc,EAAQ5/C,KAAKw/C,QAAQjxC,IAAI80B,GAC1Buc,IAGLA,EAAMQ,SAAU,EAChBR,EAAMxjB,MAAQvqB,KAAKD,MACnBguC,EAAMlY,SAAWkY,EAAMhiB,MAAMijB,QAAO,CAACC,EAAKC,IAAQ/iD,KAAK2oB,IAAIm6B,EAAKC,EAAIC,YAAY,GAChFhhD,KAAKigD,WACP,CAEAG,OAAAA,CAAQ/c,GACN,IAAKrjC,KAAKy/C,SACR,OAAO,EAET,MAAMG,EAAQ5/C,KAAKw/C,QAAQjxC,IAAI80B,GAC/B,SAAKuc,GAAUA,EAAMQ,SAAYR,EAAMhiB,MAAMviC,OAI/C,CAMA4lD,IAAAA,CAAK5d,GACH,MAAMuc,EAAQ5/C,KAAKw/C,QAAQjxC,IAAI80B,GAC/B,IAAKuc,IAAUA,EAAMhiB,MAAMviC,OACzB,OAEF,MAAMuiC,EAAQgiB,EAAMhiB,MACpB,IAAI1iC,EAAI0iC,EAAMviC,OAAS,EAEvB,KAAOH,GAAK,IAAKA,EACf0iC,EAAM1iC,GAAGoe,SAEXsmC,EAAMhiB,MAAQ,GACd59B,KAAK2/C,QAAQtc,EAAOuc,EAAO/tC,KAAKD,MAAO,WACzC,CAMAgD,MAAAA,CAAOyuB,GACL,OAAOrjC,KAAKw/C,QAAQ3wC,OAAOw0B,EAC7B,EAIF,IAAA6d,GAA+B,IAAI3B,GCjNnC,MAAMnrB,GAAc,cACd+sB,GAAgB,CACpBjhC,QAAO,CAAC5a,EAAMgvB,EAAI8sB,IACTA,EAAS,GAAM9sB,EAAKhvB,EAO7BowB,KAAAA,CAAMpwB,EAAMgvB,EAAI8sB,GACd,MAAMC,EAAK3rB,GAAapwB,GAAQ8uB,IAC1BwB,EAAKyrB,EAAG/rB,OAASI,GAAapB,GAAMF,IAC1C,OAAOwB,GAAMA,EAAGN,MACZM,EAAGH,IAAI4rB,EAAID,GAAQv5B,YACnByM,CACN,EACApvB,OAAM,CAACI,EAAMgvB,EAAI8sB,IACR97C,GAAQgvB,EAAKhvB,GAAQ87C,GAIjB,MAAME,GACnBriD,WAAAA,CAAYsiD,EAAKr9C,EAAQxH,EAAM43B,GAC7B,MAAMktB,EAAet9C,EAAOxH,GAE5B43B,EAAKtjB,GAAQ,CAACuwC,EAAIjtB,GAAIA,EAAIktB,EAAcD,EAAIj8C,OAC5C,MAAMA,EAAO0L,GAAQ,CAACuwC,EAAIj8C,KAAMk8C,EAAcltB,IAE9Ct0B,KAAKsgD,SAAU,EACftgD,KAAKyhD,IAAMF,EAAIjpD,IAAM6oD,GAAcI,EAAIhoD,aAAe+L,GACtDtF,KAAK0hD,QAAUzhB,GAAQshB,EAAI5Z,SAAW1H,GAAQC,OAC9ClgC,KAAK2hD,OAAS3jD,KAAKmT,MAAMU,KAAKD,OAAS2vC,EAAI9Z,OAAS,IACpDznC,KAAKghD,UAAYhhD,KAAKugD,OAASviD,KAAKmT,MAAMowC,EAAI7Z,UAC9C1nC,KAAK4hD,QAAUL,EAAI3Z,KACnB5nC,KAAK6hD,QAAU39C,EACflE,KAAK8hD,MAAQplD,EACbsD,KAAK+hD,MAAQz8C,EACbtF,KAAKgiD,IAAM1tB,EACXt0B,KAAKiiD,eAAY3mD,CACnB,CAEAwsC,MAAAA,GACE,OAAO9nC,KAAKsgD,OACd,CAEA4B,MAAAA,CAAOX,EAAKjtB,EAAIurB,GACd,GAAI7/C,KAAKsgD,QAAS,CAChBtgD,KAAK2/C,SAAQ,GAEb,MAAM6B,EAAexhD,KAAK6hD,QAAQ7hD,KAAK8hD,OACjCK,EAAUtC,EAAO7/C,KAAK2hD,OACtB5d,EAAS/jC,KAAKghD,UAAYmB,EAChCniD,KAAK2hD,OAAS9B,EACd7/C,KAAKghD,UAAYhjD,KAAKmT,MAAMnT,KAAK2oB,IAAIod,EAAQwd,EAAI7Z,WACjD1nC,KAAKugD,QAAU4B,EACfniD,KAAK4hD,QAAUL,EAAI3Z,KACnB5nC,KAAKgiD,IAAMhxC,GAAQ,CAACuwC,EAAIjtB,GAAIA,EAAIktB,EAAcD,EAAIj8C,OAClDtF,KAAK+hD,MAAQ/wC,GAAQ,CAACuwC,EAAIj8C,KAAMk8C,EAAcltB,IAElD,CAEAhb,MAAAA,GACMtZ,KAAKsgD,UAEPtgD,KAAKwgD,KAAK3uC,KAAKD,OACf5R,KAAKsgD,SAAU,EACftgD,KAAK2/C,SAAQ,GAEjB,CAEAa,IAAAA,CAAKX,GACH,MAAMsC,EAAUtC,EAAO7/C,KAAK2hD,OACtBja,EAAW1nC,KAAKghD,UAChBtkD,EAAOsD,KAAK8hD,MACZx8C,EAAOtF,KAAK+hD,MACZna,EAAO5nC,KAAK4hD,MACZttB,EAAKt0B,KAAKgiD,IAChB,IAAIZ,EAIJ,GAFAphD,KAAKsgD,QAAUh7C,IAASgvB,IAAOsT,GAASua,EAAUza,IAE7C1nC,KAAKsgD,QAGR,OAFAtgD,KAAK6hD,QAAQnlD,GAAQ43B,OACrBt0B,KAAK2/C,SAAQ,GAIXwC,EAAU,EACZniD,KAAK6hD,QAAQnlD,GAAQ4I,GAIvB87C,EAAUe,EAAUza,EAAY,EAChC0Z,EAASxZ,GAAQwZ,EAAS,EAAI,EAAIA,EAASA,EAC3CA,EAASphD,KAAK0hD,QAAQ1jD,KAAKqT,IAAI,EAAGrT,KAAK2oB,IAAI,EAAGy6B,KAE9CphD,KAAK6hD,QAAQnlD,GAAQsD,KAAKyhD,IAAIn8C,EAAMgvB,EAAI8sB,GAC1C,CAEAgB,IAAAA,GACE,MAAMn8B,EAAWjmB,KAAKiiD,YAAcjiD,KAAKiiD,UAAY,IACrD,OAAO,IAAI3qC,SAAQ,CAACmF,EAAK4lC,KACvBp8B,EAASxnB,KAAK,CAACge,MAAK4lC,OAAK,GAE7B,CAEA1C,OAAAA,CAAQ2C,GACN,MAAMr1C,EAASq1C,EAAW,MAAQ,MAC5Br8B,EAAWjmB,KAAKiiD,WAAa,GACnC,IAAK,IAAI/mD,EAAI,EAAGA,EAAI+qB,EAAS5qB,OAAQH,IACnC+qB,EAAS/qB,GAAG+R,IAEhB,EChHa,MAAMs1C,GACnBtjD,WAAAA,CAAYokC,EAAO3+B,GACjB1E,KAAKq+C,OAAShb,EACdrjC,KAAKwiD,YAAc,IAAIjgB,IACvBviC,KAAKyiD,UAAU/9C,EACjB,CAEA+9C,SAAAA,CAAU/9C,GACR,IAAK1K,EAAS0K,GACZ,OAGF,MAAMg+C,EAAmB/pD,OAAO4C,KAAKuP,GAAS65B,WACxCge,EAAgB3iD,KAAKwiD,YAE3B7pD,OAAO6C,oBAAoBkJ,GAAQ1J,SAAQU,IACzC,MAAM6lD,EAAM78C,EAAOhJ,GACnB,IAAK1B,EAASunD,GACZ,OAEF,MAAMe,EAAW,CAAC,EAClB,IAAK,MAAM77C,KAAUi8C,EACnBJ,EAAS77C,GAAU86C,EAAI96C,IAGxBhN,EAAQ8nD,EAAI1Z,aAAe0Z,EAAI1Z,YAAc,CAACnsC,IAAMV,SAAS0B,IACxDA,IAAShB,GAAQinD,EAAch0C,IAAIjS,IACrCimD,EAAchgD,IAAIjG,EAAM4lD,KAE1B,GAEN,CAMAM,eAAAA,CAAgB1+C,EAAQ++B,GACtB,MAAM4f,EAAa5f,EAAO58B,QACpBA,EAsGV,SAA8BnC,EAAQ2+C,GACpC,IAAKA,EACH,OAEF,IAAIx8C,EAAUnC,EAAOmC,QACrB,IAAKA,EAEH,YADAnC,EAAOmC,QAAUw8C,GAGfx8C,EAAQy8C,UAGV5+C,EAAOmC,QAAUA,EAAU1N,OAAOqI,OAAO,CAAC,EAAGqF,EAAS,CAACy8C,SAAS,EAAOC,YAAa,CAAC,KAEvF,OAAO18C,CACT,CArHoB28C,CAAqB9+C,EAAQ2+C,GAC7C,IAAKx8C,EACH,MAAO,GAGT,MAAM4hC,EAAajoC,KAAKijD,kBAAkB58C,EAASw8C,GAYnD,OAXIA,EAAWC,SAmFnB,SAAkB7a,EAAYJ,GAC5B,MAAMuY,EAAU,GACV7kD,EAAO5C,OAAO4C,KAAKssC,GACzB,IAAK,IAAI3sC,EAAI,EAAGA,EAAIK,EAAKF,OAAQH,IAAK,CACpC,MAAMgoD,EAAOjb,EAAW1sC,EAAKL,IACzBgoD,GAAQA,EAAKpb,UACfsY,EAAQ3hD,KAAKykD,EAAKd,OAEtB,CAEA,OAAO9qC,QAAQ0O,IAAIo6B,EACrB,CA1FM+C,CAASj/C,EAAOmC,QAAQ08C,YAAaF,GAAYx+C,MAAK,KACpDH,EAAOmC,QAAUw8C,CAAA,IAChB,SAKE5a,CACT,CAKAgb,iBAAAA,CAAkB/+C,EAAQ++B,GACxB,MAAM0f,EAAgB3iD,KAAKwiD,YACrBva,EAAa,GACbmY,EAAUl8C,EAAO6+C,cAAgB7+C,EAAO6+C,YAAc,CAAC,GACvDliD,EAAQlI,OAAO4C,KAAK0nC,GACpB4c,EAAOhuC,KAAKD,MAClB,IAAI1W,EAEJ,IAAKA,EAAI2F,EAAMxF,OAAS,EAAGH,GAAK,IAAKA,EAAG,CACtC,MAAMwB,EAAOmE,EAAM3F,GACnB,GAAuB,MAAnBwB,EAAKs4B,OAAO,GACd,SAGF,GAAa,YAATt4B,EAAoB,CACtBurC,EAAWxpC,QAAQuB,KAAK4iD,gBAAgB1+C,EAAQ++B,IAChD,SAEF,MAAMliC,EAAQkiC,EAAOvmC,GACrB,IAAIioC,EAAYyb,EAAQ1jD,GACxB,MAAM6kD,EAAMoB,EAAcp0C,IAAI7R,GAE9B,GAAIioC,EAAW,CACb,GAAI4c,GAAO5c,EAAUmD,SAAU,CAE7BnD,EAAUud,OAAOX,EAAKxgD,EAAO8+C,GAC7B,SAEAlb,EAAUrrB,SAGTioC,GAAQA,EAAI7Z,UAMjB0Y,EAAQ1jD,GAAQioC,EAAY,IAAI2c,GAAUC,EAAKr9C,EAAQxH,EAAMqE,GAC7DknC,EAAWxpC,KAAKkmC,IALdzgC,EAAOxH,GAAQqE,CAMnB,CACA,OAAOknC,CACT,CASAia,MAAAA,CAAOh+C,EAAQ++B,GACb,GAA8B,IAA1BjjC,KAAKwiD,YAAY5+C,KAGnB,YADAjL,OAAOqI,OAAOkD,EAAQ++B,GAIxB,MAAMgF,EAAajoC,KAAKijD,kBAAkB/+C,EAAQ++B,GAElD,OAAIgF,EAAW5sC,QACb6lD,GAASlN,IAAIh0C,KAAKq+C,OAAQpW,IACnB,QAFT,CAIF,ECvHF,SAASmb,GAAU7c,EAAO8c,GACxB,MAAMpkC,EAAOsnB,GAASA,EAAMlgC,SAAW,CAAC,EAClCoxB,EAAUxY,EAAKwY,QACfpmB,OAAmB/V,IAAb2jB,EAAK5N,IAAoBgyC,EAAkB,EACjD18B,OAAmBrrB,IAAb2jB,EAAK0H,IAAoB08B,EAAkB,EACvD,MAAO,CACLjnB,MAAO3E,EAAU9Q,EAAMtV,EACvBgJ,IAAKod,EAAUpmB,EAAMsV,EAEzB,CAsCA,SAAS28B,GAAwBjgB,EAAOkgB,GACtC,MAAMhoD,EAAO,GACPioD,EAAWngB,EAAMogB,uBAAuBF,GAC9C,IAAIroD,EAAG28B,EAEP,IAAK38B,EAAI,EAAG28B,EAAO2rB,EAASnoD,OAAQH,EAAI28B,IAAQ38B,EAC9CK,EAAKkD,KAAK+kD,EAAStoD,GAAGoM,OAExB,OAAO/L,CACT,CAEA,SAASmoD,GAAW1/C,EAAOjD,EAAO4iD,GAAuB,IAAdt9C,EAAA5N,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAU,CAAC,EACpD,MAAM8C,EAAOyI,EAAMzI,KACbqoD,EAA8B,WAAjBv9C,EAAQy/B,KAC3B,IAAI5qC,EAAG28B,EAAMG,EAAc6rB,EAE3B,GAAc,OAAV9iD,EACF,OAGF,IAAI+iD,GAAQ,EACZ,IAAK5oD,EAAI,EAAG28B,EAAOt8B,EAAKF,OAAQH,EAAI28B,IAAQ38B,EAAG,CAE7C,GADA88B,GAAgBz8B,EAAKL,GACjB88B,IAAiB2rB,EAAS,CAE5B,GADAG,GAAQ,EACJz9C,EAAQ2f,IACV,SAEF,MAEF69B,EAAa7/C,EAAMi/B,OAAOjL,GACtBf,EAAS4sB,KAAgBD,GAAyB,IAAV7iD,GAAem5B,GAAKn5B,KAAWm5B,GAAK2pB,MAC9E9iD,GAAS8iD,EAEb,CAEA,OAAKC,GAAUz9C,EAAQ2f,IAIhBjlB,EAHE,CAIX,CAmBA,SAASgjD,GAAUxd,EAAOjI,GACxB,MAAM0lB,EAAUzd,GAASA,EAAMlgC,QAAQ29C,QACvC,OAAOA,QAAwB1oD,IAAZ0oD,QAAwC1oD,IAAfgjC,EAAKt6B,KACnD,CAcA,SAASigD,GAAiBC,EAAQC,EAAUC,GAC1C,MAAMC,EAAWH,EAAOC,KAAcD,EAAOC,GAAY,CAAC,GAC1D,OAAOE,EAASD,KAAgBC,EAASD,GAAc,CAAC,EAC1D,CAEA,SAASE,GAAoBtgD,EAAOugD,EAAQC,EAAUjrD,GACpD,IAAK,MAAM+kC,KAAQimB,EAAOE,wBAAwBlrD,GAAMk+B,UAAW,CACjE,MAAM12B,EAAQiD,EAAMs6B,EAAKh3B,OACzB,GAAIk9C,GAAazjD,EAAQ,IAAQyjD,GAAYzjD,EAAQ,EACnD,OAAOu9B,EAAKh3B,KAEhB,CAEA,OAAO,IACT,CAEA,SAASo9C,GAAa5qC,EAAY3L,GAChC,MAAM,MAACk1B,EAAOshB,YAAarmB,GAAQxkB,EAC7BoqC,EAAS7gB,EAAMuhB,UAAYvhB,EAAMuhB,QAAU,CAAC,IAC5C,OAAChmB,EAAA,OAAQ2lB,EAAQj9C,MAAO0wB,GAAgBsG,EACxCumB,EAAQjmB,EAAOE,KACfgmB,EAAQP,EAAOzlB,KACfpjC,EAlCR,SAAqBqpD,EAAYC,EAAY1mB,GAC3C,MAAO,GAAGymB,EAAW97C,MAAM+7C,EAAW/7C,MAAMq1B,EAAKt6B,OAASs6B,EAAK/kC,MACjE,CAgCc0rD,CAAYrmB,EAAQ2lB,EAAQjmB,GAClCzG,EAAO1pB,EAAO9S,OACpB,IAAI2I,EAEJ,IAAK,IAAI9I,EAAI,EAAGA,EAAI28B,IAAQ38B,EAAG,CAC7B,MAAMq+B,EAAOprB,EAAOjT,IACb,CAAC2pD,GAAQv9C,EAAO,CAACw9C,GAAQ/jD,GAASw4B,EAEzCv1B,GADmBu1B,EAAKqrB,UAAYrrB,EAAKqrB,QAAU,CAAC,IACjCE,GAASb,GAAiBC,EAAQxoD,EAAK4L,GAC1DtD,EAAMg0B,GAAgBj3B,EAEtBiD,EAAMkhD,KAAOZ,GAAoBtgD,EAAOugD,GAAQ,EAAMjmB,EAAK/kC,MAC3DyK,EAAMmhD,QAAUb,GAAoBtgD,EAAOugD,GAAQ,EAAOjmB,EAAK/kC,OAE1CyK,EAAMohD,gBAAkBphD,EAAMohD,cAAgB,CAAC,IACvDptB,GAAgBj3B,CAC/B,CACF,CAEA,SAASskD,GAAgBhiB,EAAOvE,GAC9B,MAAM0H,EAASnD,EAAMmD,OACrB,OAAO7tC,OAAO4C,KAAKirC,GAAQplC,QAAO1F,GAAO8qC,EAAO9qC,GAAKojC,OAASA,IAAMvgC,OACtE,CA4BA,SAAS+mD,GAAYhnB,EAAMV,GAEzB,MAAM5F,EAAesG,EAAKxkB,WAAWxS,MAC/Bw3B,EAAOR,EAAKimB,QAAUjmB,EAAKimB,OAAOzlB,KACxC,GAAKA,EAAL,CAIAlB,EAAQA,GAASU,EAAKO,QACtB,IAAK,MAAM1wB,KAAUyvB,EAAO,CAC1B,MAAMsmB,EAAS/1C,EAAOy2C,QACtB,IAAKV,QAA2B5oD,IAAjB4oD,EAAOplB,SAAsDxjC,IAA/B4oD,EAAOplB,GAAM9G,GACxD,cAEKksB,EAAOplB,GAAM9G,QACe18B,IAA/B4oD,EAAOplB,GAAMsmB,oBAA4E9pD,IAA7C4oD,EAAOplB,GAAMsmB,cAAcptB,WAClEksB,EAAOplB,GAAMsmB,cAAcptB,EAEtC,EACF,CAEA,MAAMutB,GAAsBzf,GAAkB,UAATA,GAA6B,SAATA,EACnD0f,GAAmBA,CAACC,EAAQC,IAAWA,EAASD,EAAS9sD,OAAOqI,OAAO,CAAC,EAAGykD,GAIlE,MAAME,GAKnBC,gBAAkB,GAKlBA,0BAA4B,KAK5BA,uBAAyB,KAMzB3mD,WAAAA,CAAYokC,EAAOrL,GACjBh4B,KAAKqjC,MAAQA,EACbrjC,KAAKspC,KAAOjG,EAAMoC,IAClBzlC,KAAKsH,MAAQ0wB,EACbh4B,KAAK6lD,gBAAkB,CAAC,EACxB7lD,KAAK2kD,YAAc3kD,KAAK8lD,UACxB9lD,KAAK+lD,MAAQ/lD,KAAK2kD,YAAYprD,KAC9ByG,KAAKqG,aAAU/K,EAEf0E,KAAKq1C,UAAW,EAChBr1C,KAAKgmD,WAAQ1qD,EACb0E,KAAKimD,iBAAc3qD,EACnB0E,KAAKkmD,oBAAiB5qD,EACtB0E,KAAKmmD,gBAAa7qD,EAClB0E,KAAKomD,gBAAa9qD,EAClB0E,KAAKqmD,qBAAsB,EAC3BrmD,KAAKsmD,oBAAqB,EAC1BtmD,KAAKumD,cAAWjrD,EAChB0E,KAAKwmD,UAAY,GACjBxmD,KAAKymD,8BAAgCA,mBACrCzmD,KAAK0mD,2BAA6BA,gBAElC1mD,KAAK2mD,YACP,CAEAA,UAAAA,GACE,MAAMroB,EAAOt+B,KAAK2kD,YAClB3kD,KAAKyiD,YACLziD,KAAK4mD,aACLtoB,EAAKuoB,SAAW9C,GAAUzlB,EAAKimB,OAAQjmB,GACvCt+B,KAAK8mD,cAED9mD,KAAKqG,QAAQonC,OAASztC,KAAKqjC,MAAM0jB,gBAAgB,WACnD5nC,QAAQC,KAAK,qKAEjB,CAEA4nC,WAAAA,CAAYhvB,GACNh4B,KAAKsH,QAAU0wB,GACjBstB,GAAYtlD,KAAK2kD,aAEnB3kD,KAAKsH,MAAQ0wB,CACf,CAEA4uB,UAAAA,GACE,MAAMvjB,EAAQrjC,KAAKqjC,MACb/E,EAAOt+B,KAAK2kD,YACZsC,EAAUjnD,KAAKknD,aAEfC,EAAWA,CAACroB,EAAM7V,EAAG4P,EAAG/Q,IAAe,MAATgX,EAAe7V,EAAa,MAAT6V,EAAehX,EAAI+Q,EAEpEuuB,EAAM9oB,EAAK+oB,QAAUlwB,EAAe8vB,EAAQI,QAAShC,GAAgBhiB,EAAO,MAC5EikB,EAAMhpB,EAAKipB,QAAUpwB,EAAe8vB,EAAQM,QAASlC,GAAgBhiB,EAAO,MAC5EmkB,EAAMlpB,EAAKmpB,QAAUtwB,EAAe8vB,EAAQQ,QAASpC,GAAgBhiB,EAAO,MAC5EuC,EAAYtH,EAAKsH,UACjB8hB,EAAMppB,EAAKqpB,QAAUR,EAASvhB,EAAWwhB,EAAKE,EAAKE,GACnDI,EAAMtpB,EAAKupB,QAAUV,EAASvhB,EAAW0hB,EAAKF,EAAKI,GACzDlpB,EAAKc,OAASp/B,KAAK8nD,cAAcV,GACjC9oB,EAAKe,OAASr/B,KAAK8nD,cAAcR,GACjChpB,EAAKypB,OAAS/nD,KAAK8nD,cAAcN,GACjClpB,EAAKM,OAAS5+B,KAAK8nD,cAAcJ,GACjCppB,EAAKimB,OAASvkD,KAAK8nD,cAAcF,EACnC,CAEAV,UAAAA,GACE,OAAOlnD,KAAKqjC,MAAM/kC,KAAKwmC,SAAS9kC,KAAKsH,MACvC,CAEAw+C,OAAAA,GACE,OAAO9lD,KAAKqjC,MAAM2kB,eAAehoD,KAAKsH,MACxC,CAMAwgD,aAAAA,CAAcG,GACZ,OAAOjoD,KAAKqjC,MAAMmD,OAAOyhB,EAC3B,CAKAC,cAAAA,CAAe3hB,GACb,MAAMjI,EAAOt+B,KAAK2kD,YAClB,OAAOpe,IAAUjI,EAAKM,OAClBN,EAAKimB,OACLjmB,EAAKM,MACX,CAEAupB,KAAAA,GACEnoD,KAAKkgD,QAAQ,QACf,CAKAkI,QAAAA,GACE,MAAM9pB,EAAOt+B,KAAK2kD,YACd3kD,KAAKgmD,OACPzoB,GAAoBv9B,KAAKgmD,MAAOhmD,MAE9Bs+B,EAAKuoB,UACPvB,GAAYhnB,EAEhB,CAKA+pB,UAAAA,GACE,MAAMpB,EAAUjnD,KAAKknD,aACf5oD,EAAO2oD,EAAQ3oD,OAAS2oD,EAAQ3oD,KAAO,IACvC0nD,EAAQhmD,KAAKgmD,MAMnB,GAAIhsD,EAASsE,GAAO,CAClB,MAAMggC,EAAOt+B,KAAK2kD,YAClB3kD,KAAKgmD,MAlRX,SAAkC1nD,EAAMggC,GACtC,MAAM,OAACM,EAAA,OAAQ2lB,GAAUjmB,EACnBgqB,EAA2B,MAAhB1pB,EAAOE,KAAe,IAAM,IACvCypB,EAA2B,MAAhBhE,EAAOzlB,KAAe,IAAM,IACvCvjC,EAAO5C,OAAO4C,KAAK+C,GACnBkqD,EAAQ,IAAI9uD,MAAM6B,EAAKF,QAC7B,IAAIH,EAAG28B,EAAMn8B,EACb,IAAKR,EAAI,EAAG28B,EAAOt8B,EAAKF,OAAQH,EAAI28B,IAAQ38B,EAC1CQ,EAAMH,EAAKL,GACXstD,EAAMttD,GAAK,CACT,CAACotD,GAAW5sD,EACZ,CAAC6sD,GAAWjqD,EAAK5C,IAGrB,OAAO8sD,CACT,CAmQmBC,CAAyBnqD,EAAMggC,QACvC,GAAI0nB,IAAU1nD,EAAM,CACzB,GAAI0nD,EAAO,CAETzoB,GAAoByoB,EAAOhmD,MAE3B,MAAMs+B,EAAOt+B,KAAK2kD,YAClBW,GAAYhnB,GACZA,EAAKO,QAAU,GAEbvgC,GAAQ3F,OAAO+vD,aAAapqD,KrB9QGsU,EqB+QT5S,MrB/QE66B,EqB+QRv8B,GrB9Qdm/B,SACR5C,EAAM4C,SAASC,UAAUj/B,KAAKmU,IAIhCja,OAAOmI,eAAe+5B,EAAO,WAAY,CACvCxqB,cAAc,EACd5N,YAAY,EACZ1B,MAAO,CACL28B,UAAW,CAAC9qB,MAIhB0qB,GAAYtiC,SAASU,IACnB,MAAMuR,EAAS,UAAYmsB,GAAY19B,GACjCitD,EAAO9tB,EAAMn/B,GAEnB/C,OAAOmI,eAAe+5B,EAAOn/B,EAAK,CAChC2U,cAAc,EACd5N,YAAY,EACZ1B,KAAAA,GAAe,QAAAuO,EAAA7W,UAAA4C,OAANmX,EAAI,IAAA9Y,MAAA4V,GAAA1T,EAAA,EAAAA,EAAA0T,EAAA1T,IAAJ4W,EAAI5W,GAAAnD,UAAAmD,GACX,MAAM6gB,EAAMksC,EAAKnwD,MAAMwH,KAAMwS,GAQ7B,OANAqoB,EAAM4C,SAASC,UAAU1iC,SAAS4tD,IACF,oBAAnBA,EAAO37C,IAChB27C,EAAO37C,MAAWuF,MAIfiK,CACT,GACA,MqBiPAzc,KAAKwmD,UAAY,GACjBxmD,KAAKgmD,MAAQ1nD,ErBlRZ,IAA2Bu8B,EAAOjoB,CqBoRvC,CAEAk0C,WAAAA,GACE,MAAMxoB,EAAOt+B,KAAK2kD,YAElB3kD,KAAKqoD,aAEDroD,KAAKymD,qBACPnoB,EAAK2oB,QAAU,IAAIjnD,KAAKymD,mBAE5B,CAEAoC,qBAAAA,CAAsBC,GACpB,MAAMxqB,EAAOt+B,KAAK2kD,YACZsC,EAAUjnD,KAAKknD,aACrB,IAAI6B,GAAe,EAEnB/oD,KAAKqoD,aAGL,MAAMW,EAAa1qB,EAAKuoB,SACxBvoB,EAAKuoB,SAAW9C,GAAUzlB,EAAKimB,OAAQjmB,GAGnCA,EAAKt6B,QAAUijD,EAAQjjD,QACzB+kD,GAAe,EAEfzD,GAAYhnB,GACZA,EAAKt6B,MAAQijD,EAAQjjD,OAKvBhE,KAAKipD,gBAAgBH,IAGjBC,GAAgBC,IAAe1qB,EAAKuoB,YACtCnC,GAAa1kD,KAAMs+B,EAAKO,SACxBP,EAAKuoB,SAAW9C,GAAUzlB,EAAKimB,OAAQjmB,GAE3C,CAMAmkB,SAAAA,GACE,MAAM/9C,EAAS1E,KAAKqjC,MAAM3+B,OACpBwkD,EAAYxkD,EAAOykD,iBAAiBnpD,KAAK+lD,OACzClU,EAASntC,EAAO0kD,gBAAgBppD,KAAKknD,aAAcgC,GAAW,GACpElpD,KAAKqG,QAAU3B,EAAO2kD,eAAexX,EAAQ7xC,KAAKgsC,cAClDhsC,KAAKq1C,SAAWr1C,KAAKqG,QAAQ+/B,QAC7BpmC,KAAK6lD,gBAAkB,CAAC,CAC1B,CAMA35C,KAAAA,CAAMkwB,EAAOsC,GACX,MAAOimB,YAAarmB,EAAM0nB,MAAO1nD,GAAQ0B,MACnC,OAAC4+B,EAAA,SAAQioB,GAAYvoB,EACrBumB,EAAQjmB,EAAOE,KAErB,IAEI5jC,EAAG6lD,EAAK5yC,EAFRm7C,EAAmB,IAAVltB,GAAesC,IAAUpgC,EAAKjD,QAAgBijC,EAAKK,QAC5DgZ,EAAOvb,EAAQ,GAAKkC,EAAKO,QAAQzC,EAAQ,GAG7C,IAAsB,IAAlBp8B,KAAKq1C,SACP/W,EAAKO,QAAUvgC,EACfggC,EAAKK,SAAU,EACfxwB,EAAS7P,MACJ,CAEH6P,EADE1U,EAAQ6E,EAAK89B,IACNp8B,KAAKupD,eAAejrB,EAAMhgC,EAAM89B,EAAOsC,GACvC1kC,EAASsE,EAAK89B,IACdp8B,KAAKwpD,gBAAgBlrB,EAAMhgC,EAAM89B,EAAOsC,GAExC1+B,KAAKypD,mBAAmBnrB,EAAMhgC,EAAM89B,EAAOsC,GAGtD,MAAMgrB,EAA6BA,IAAqB,OAAf3I,EAAI8D,IAAoBlN,GAAQoJ,EAAI8D,GAASlN,EAAKkN,GAC3F,IAAK3pD,EAAI,EAAGA,EAAIwjC,IAASxjC,EACvBojC,EAAKO,QAAQ3jC,EAAIkhC,GAAS2kB,EAAM5yC,EAAOjT,GACnCouD,IACEI,MACFJ,GAAS,GAEX3R,EAAOoJ,GAGXziB,EAAKK,QAAU2qB,EAGbzC,GACFnC,GAAa1kD,KAAMmO,EAEvB,CAaAs7C,kBAAAA,CAAmBnrB,EAAMhgC,EAAM89B,EAAOsC,GACpC,MAAM,OAACE,EAAA,OAAQ2lB,GAAUjmB,EACnBumB,EAAQjmB,EAAOE,KACfgmB,EAAQP,EAAOzlB,KACf6qB,EAAS/qB,EAAOgrB,YAChBC,EAAcjrB,IAAW2lB,EACzBp2C,EAAS,IAAIzU,MAAMglC,GACzB,IAAIxjC,EAAG28B,EAAMvwB,EAEb,IAAKpM,EAAI,EAAG28B,EAAO6G,EAAOxjC,EAAI28B,IAAQ38B,EACpCoM,EAAQpM,EAAIkhC,EACZjuB,EAAOjT,GAAK,CACV,CAAC2pD,GAAQgF,GAAejrB,EAAO1yB,MAAMy9C,EAAOriD,GAAQA,GACpD,CAACw9C,GAAQP,EAAOr4C,MAAM5N,EAAKgJ,GAAQA,IAGvC,OAAO6G,CACT,CAaAo7C,cAAAA,CAAejrB,EAAMhgC,EAAM89B,EAAOsC,GAChC,MAAM,OAACU,EAAA,OAAQC,GAAUf,EACnBnwB,EAAS,IAAIzU,MAAMglC,GACzB,IAAIxjC,EAAG28B,EAAMvwB,EAAOiyB,EAEpB,IAAKr+B,EAAI,EAAG28B,EAAO6G,EAAOxjC,EAAI28B,IAAQ38B,EACpCoM,EAAQpM,EAAIkhC,EACZ7C,EAAOj7B,EAAKgJ,GACZ6G,EAAOjT,GAAK,CACV+tB,EAAGmW,EAAOlzB,MAAMqtB,EAAK,GAAIjyB,GACzBuxB,EAAGwG,EAAOnzB,MAAMqtB,EAAK,GAAIjyB,IAG7B,OAAO6G,CACT,CAaAq7C,eAAAA,CAAgBlrB,EAAMhgC,EAAM89B,EAAOsC,GACjC,MAAM,OAACU,EAAA,OAAQC,GAAUf,GACnB,SAACwrB,EAAW,aAAKC,EAAW,KAAO/pD,KAAKq1C,SACxClnC,EAAS,IAAIzU,MAAMglC,GACzB,IAAIxjC,EAAG28B,EAAMvwB,EAAOiyB,EAEpB,IAAKr+B,EAAI,EAAG28B,EAAO6G,EAAOxjC,EAAI28B,IAAQ38B,EACpCoM,EAAQpM,EAAIkhC,EACZ7C,EAAOj7B,EAAKgJ,GACZ6G,EAAOjT,GAAK,CACV+tB,EAAGmW,EAAOlzB,MAAM4sB,GAAiBS,EAAMuwB,GAAWxiD,GAClDuxB,EAAGwG,EAAOnzB,MAAM4sB,GAAiBS,EAAMwwB,GAAWziD,IAGtD,OAAO6G,CACT,CAKA67C,SAAAA,CAAU1iD,GACR,OAAOtH,KAAK2kD,YAAY9lB,QAAQv3B,EAClC,CAKA2iD,cAAAA,CAAe3iD,GACb,OAAOtH,KAAK2kD,YAAYrmD,KAAKgJ,EAC/B,CAKAo8C,UAAAA,CAAWnd,EAAOp4B,EAAQ23B,GACxB,MAAMzC,EAAQrjC,KAAKqjC,MACb/E,EAAOt+B,KAAK2kD,YACZ5jD,EAAQoN,EAAOo4B,EAAMzH,MAK3B,OAAO4kB,GAJO,CACZnoD,KAAM+nD,GAAwBjgB,GAAO,GACrCJ,OAAQ90B,EAAOy2C,QAAQre,EAAMzH,MAAMsmB,eAEZrkD,EAAOu9B,EAAKh3B,MAAO,CAACw+B,QAC/C,CAKAokB,qBAAAA,CAAsB3vB,EAAOgM,EAAOp4B,EAAQnK,GAC1C,MAAMmmD,EAAch8C,EAAOo4B,EAAMzH,MACjC,IAAI/9B,EAAwB,OAAhBopD,EAAuBC,IAAMD,EACzC,MAAMlnB,EAASj/B,GAASmK,EAAOy2C,QAAQre,EAAMzH,MACzC96B,GAASi/B,IACXj/B,EAAMi/B,OAASA,EACfliC,EAAQ2iD,GAAW1/C,EAAOmmD,EAAanqD,KAAK2kD,YAAYr9C,QAE1DizB,EAAMlpB,IAAMrT,KAAKqT,IAAIkpB,EAAMlpB,IAAKtQ,GAChCw5B,EAAM5T,IAAM3oB,KAAK2oB,IAAI4T,EAAM5T,IAAK5lB,EAClC,CAKAspD,SAAAA,CAAU9jB,EAAO+jB,GACf,MAAMhsB,EAAOt+B,KAAK2kD,YACZ9lB,EAAUP,EAAKO,QACfyqB,EAAShrB,EAAKK,SAAW4H,IAAUjI,EAAKM,OACxC/G,EAAOgH,EAAQxjC,OACfkvD,EAAavqD,KAAKkoD,eAAe3hB,GACjCviC,EA7YUwmD,EAACF,EAAUhsB,EAAM+E,IAAUinB,IAAahsB,EAAKmsB,QAAUnsB,EAAKuoB,UAC3E,CAACtrD,KAAM+nD,GAAwBjgB,GAAO,GAAOJ,OAAQ,MA4YxCunB,CAAYF,EAAUhsB,EAAMt+B,KAAKqjC,OACzC9I,EAAQ,CAAClpB,IAAK5N,OAAOm2B,kBAAmBjT,IAAKljB,OAAOinD,oBACnDr5C,IAAKs5C,EAAUhkC,IAAKikC,GAtf/B,SAAuBrkB,GACrB,MAAM,IAACl1B,EAAG,IAAEsV,EAAG,WAAEoY,EAAU,WAAEC,GAAcuH,EAAMtH,gBACjD,MAAO,CACL5tB,IAAK0tB,EAAa1tB,EAAM5N,OAAOinD,kBAC/B/jC,IAAKqY,EAAarY,EAAMljB,OAAOm2B,kBAEnC,CAgf2CqF,CAAcsrB,GACrD,IAAIrvD,EAAGiT,EAEP,SAAS08C,IACP18C,EAAS0wB,EAAQ3jC,GACjB,MAAM2oD,EAAa11C,EAAOo8C,EAAWzrB,MACrC,OAAQ7H,EAAS9oB,EAAOo4B,EAAMzH,QAAU6rB,EAAW9G,GAAc+G,EAAW/G,CAC9E,CAEA,IAAK3oD,EAAI,EAAGA,EAAI28B,IACVgzB,MAGJ7qD,KAAKkqD,sBAAsB3vB,EAAOgM,EAAOp4B,EAAQnK,IAC7CslD,MALkBpuD,GAUxB,GAAIouD,EAEF,IAAKpuD,EAAI28B,EAAO,EAAG38B,GAAK,IAAKA,EAC3B,IAAI2vD,IAAJ,CAGA7qD,KAAKkqD,sBAAsB3vB,EAAOgM,EAAOp4B,EAAQnK,GACjD,MAGJ,OAAOu2B,CACT,CAEAuwB,kBAAAA,CAAmBvkB,GACjB,MAAMp4B,EAASnO,KAAK2kD,YAAY9lB,QAC1BoE,EAAS,GACf,IAAI/nC,EAAG28B,EAAM92B,EAEb,IAAK7F,EAAI,EAAG28B,EAAO1pB,EAAO9S,OAAQH,EAAI28B,IAAQ38B,EAC5C6F,EAAQoN,EAAOjT,GAAGqrC,EAAMzH,MACpB7H,EAASl2B,IACXkiC,EAAOxkC,KAAKsC,GAGhB,OAAOkiC,CACT,CAMA8nB,cAAAA,GACE,OAAO,CACT,CAKAC,gBAAAA,CAAiB1jD,GACf,MAAMg3B,EAAOt+B,KAAK2kD,YACZ/lB,EAASN,EAAKM,OACd2lB,EAASjmB,EAAKimB,OACdp2C,EAASnO,KAAKgqD,UAAU1iD,GAC9B,MAAO,CACL2jD,MAAOrsB,EAAS,GAAKA,EAAOssB,iBAAiB/8C,EAAOywB,EAAOE,OAAS,GACpE/9B,MAAOwjD,EAAS,GAAKA,EAAO2G,iBAAiB/8C,EAAOo2C,EAAOzlB,OAAS,GAExE,CAKAohB,OAAAA,CAAQpa,GACN,MAAMxH,EAAOt+B,KAAK2kD,YAClB3kD,KAAKkiD,OAAOpc,GAAQ,WACpBxH,EAAK6sB,MA1pBT,SAAgBpqD,GACd,IAAIm1B,EAAGpO,EAAGznB,EAAGlF,EAWb,OATInB,EAAS+G,IACXm1B,EAAIn1B,EAAMunC,IACVxgB,EAAI/mB,EAAMwnC,MACVloC,EAAIU,EAAMynC,OACVrtC,EAAI4F,EAAM0nC,MAEVvS,EAAIpO,EAAIznB,EAAIlF,EAAI4F,EAGX,CACLunC,IAAKpS,EACLqS,MAAOzgB,EACP0gB,OAAQnoC,EACRooC,KAAMttC,EACNiwD,UAAoB,IAAVrqD,EAEd,CAuoBiBsqD,CAAOl0B,EAAen3B,KAAKqG,QAAQyiC,KAzqBpD,SAAqB1J,EAAQC,EAAQgkB,GACnC,IAAwB,IAApBA,EACF,OAAO,EAET,MAAMp6B,EAAIm6B,GAAUhkB,EAAQikB,GACtBxqB,EAAIuqB,GAAU/jB,EAAQgkB,GAE5B,MAAO,CACL/a,IAAKzP,EAAExe,IACPkuB,MAAOtf,EAAE5O,IACTmuB,OAAQ3P,EAAEuD,MACVqM,KAAMxf,EAAEmT,MAEZ,CA4pB0DkvB,CAAYhtB,EAAKc,OAAQd,EAAKe,OAAQr/B,KAAK+qD,mBACnG,CAKA7I,MAAAA,CAAOpc,GAAO,CAEdua,IAAAA,GACE,MAAM5a,EAAMzlC,KAAKspC,KACXjG,EAAQrjC,KAAKqjC,MACb/E,EAAOt+B,KAAK2kD,YACZ1f,EAAW3G,EAAKhgC,MAAQ,GACxBwvC,EAAOzK,EAAMkoB,UACbzjB,EAAS,GACT1L,EAAQp8B,KAAKmmD,YAAc,EAC3BznB,EAAQ1+B,KAAKomD,YAAenhB,EAAS5pC,OAAS+gC,EAC9CsK,EAA0B1mC,KAAKqG,QAAQqgC,wBAC7C,IAAIxrC,EAMJ,IAJIojC,EAAK2oB,SACP3oB,EAAK2oB,QAAQ5G,KAAK5a,EAAKqI,EAAM1R,EAAOsC,GAGjCxjC,EAAIkhC,EAAOlhC,EAAIkhC,EAAQsC,IAASxjC,EAAG,CACtC,MAAMw9C,EAAUzT,EAAS/pC,GACrBw9C,EAAQ+R,SAGR/R,EAAQ5Q,QAAUpB,EACpBoB,EAAOrpC,KAAKi6C,GAEZA,EAAQ2H,KAAK5a,EAAKqI,GAEtB,CAEA,IAAK5yC,EAAI,EAAGA,EAAI4sC,EAAOzsC,SAAUH,EAC/B4sC,EAAO5sC,GAAGmlD,KAAK5a,EAAKqI,EAExB,CASA6N,QAAAA,CAASr0C,EAAOwgC,GACd,MAAMhC,EAAOgC,EAAS,SAAW,UACjC,YAAiBxsC,IAAVgM,GAAuBtH,KAAK2kD,YAAYsC,QAC3CjnD,KAAKwrD,6BAA6B1lB,GAClC9lC,KAAKyrD,0BAA0BnkD,GAAS,EAAGw+B,EACjD,CAKAkG,UAAAA,CAAW1kC,EAAOwgC,EAAQhC,GACxB,MAAMmhB,EAAUjnD,KAAKknD,aACrB,IAAI/qD,EACJ,GAAImL,GAAS,GAAKA,EAAQtH,KAAK2kD,YAAYrmD,KAAKjD,OAAQ,CACtD,MAAMq9C,EAAU14C,KAAK2kD,YAAYrmD,KAAKgJ,GACtCnL,EAAUu8C,EAAQ6N,WACf7N,EAAQ6N,SA7jBjB,SAA2B5R,EAAQrtC,EAAOoxC,GACxC,OAAOhH,GAAciD,EAAQ,CAC3B7M,QAAQ,EACR4jB,UAAWpkD,EACX6G,YAAQ7S,EACRqwD,SAAKrwD,EACLo9C,UACApxC,QACAw+B,KAAM,UACNvsC,KAAM,QAEV,CAkjB4BqyD,CAAkB5rD,KAAKgsC,aAAc1kC,EAAOoxC,IAClEv8C,EAAQgS,OAASnO,KAAKgqD,UAAU1iD,GAChCnL,EAAQwvD,IAAM1E,EAAQ3oD,KAAKgJ,GAC3BnL,EAAQmL,MAAQnL,EAAQuvD,UAAYpkD,OAEpCnL,EAAU6D,KAAKumD,WACZvmD,KAAKumD,SAhlBd,SAA8B5R,EAAQrtC,GACpC,OAAOoqC,GAAciD,EACnB,CACE7M,QAAQ,EACRmf,aAAS3rD,EACT08B,aAAc1wB,EACdA,QACAw+B,KAAM,UACNvsC,KAAM,WAGZ,CAqkByBsyD,CAAqB7rD,KAAKqjC,MAAM2I,aAAchsC,KAAKsH,QACtEnL,EAAQ8qD,QAAUA,EAClB9qD,EAAQmL,MAAQnL,EAAQ67B,aAAeh4B,KAAKsH,MAK9C,OAFAnL,EAAQ2rC,SAAWA,EACnB3rC,EAAQ2pC,KAAOA,EACR3pC,CACT,CAMAqvD,4BAAAA,CAA6B1lB,GAC3B,OAAO9lC,KAAK8rD,uBAAuB9rD,KAAKymD,mBAAmBx9C,GAAI68B,EACjE,CAOA2lB,yBAAAA,CAA0BnkD,EAAOw+B,GAC/B,OAAO9lC,KAAK8rD,uBAAuB9rD,KAAK0mD,gBAAgBz9C,GAAI68B,EAAMx+B,EACpE,CAKAwkD,sBAAAA,CAAuBC,GAAsC,IAAzBjmB,EAAArtC,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAO,UAAW6O,EAAK7O,UAAA4C,OAAA,EAAA5C,UAAA,QAAA6C,EACzD,MAAMwsC,EAAkB,WAAThC,EACT/sC,EAAQiH,KAAK6lD,gBACbljB,EAAWopB,EAAc,IAAMjmB,EAC/B2f,EAAS1sD,EAAM4pC,GACfqpB,EAAUhsD,KAAKqmD,qBAAuBhtB,GAAQ/xB,GACpD,GAAIm+C,EACF,OAAOD,GAAiBC,EAAQuG,GAElC,MAAMtnD,EAAS1E,KAAKqjC,MAAM3+B,OACpBwkD,EAAYxkD,EAAOunD,wBAAwBjsD,KAAK+lD,MAAOgG,GACvDja,EAAWhK,EAAS,CAAC,GAAGikB,SAAoB,QAASA,EAAa,IAAM,CAACA,EAAa,IACtFla,EAASntC,EAAO0kD,gBAAgBppD,KAAKknD,aAAcgC,GACnDv1B,EAAQh7B,OAAO4C,KAAKuP,GAASm6B,SAAS8mB,IAItC9oB,EAASv+B,EAAOwnD,oBAAoBra,EAAQle,GADlCx3B,IAAM6D,KAAKgsC,WAAW1kC,EAAOwgC,EAAQhC,IACagM,GAalE,OAXI7O,EAAO6f,UAGT7f,EAAO6f,QAAUkJ,EAKjBjzD,EAAM4pC,GAAYhqC,OAAOwzD,OAAO3G,GAAiBviB,EAAQ+oB,KAGpD/oB,CACT,CAMAmpB,kBAAAA,CAAmB9kD,EAAO+kD,EAAYvkB,GACpC,MAAMzE,EAAQrjC,KAAKqjC,MACbtqC,EAAQiH,KAAK6lD,gBACbljB,EAAW,aAAa0pB,IACxB5G,EAAS1sD,EAAM4pC,GACrB,GAAI8iB,EACF,OAAOA,EAET,IAAIp/C,EACJ,IAAgC,IAA5Bg9B,EAAMh9B,QAAQs+B,UAAqB,CACrC,MAAMjgC,EAAS1E,KAAKqjC,MAAM3+B,OACpBwkD,EAAYxkD,EAAO4nD,0BAA0BtsD,KAAK+lD,MAAOsG,GACzDxa,EAASntC,EAAO0kD,gBAAgBppD,KAAKknD,aAAcgC,GACzD7iD,EAAU3B,EAAO2kD,eAAexX,EAAQ7xC,KAAKgsC,WAAW1kC,EAAOwgC,EAAQukB,IAEzE,MAAMpkB,EAAa,IAAIsa,GAAWlf,EAAOh9B,GAAWA,EAAQ4hC,YAI5D,OAHI5hC,GAAWA,EAAQ4rC,aACrBl5C,EAAM4pC,GAAYhqC,OAAOwzD,OAAOlkB,IAE3BA,CACT,CAMAskB,gBAAAA,CAAiBlmD,GACf,GAAKA,EAAQy8C,QAGb,OAAO9iD,KAAKkmD,iBAAmBlmD,KAAKkmD,eAAiBvtD,OAAOqI,OAAO,CAAC,EAAGqF,GACzE,CAMAmmD,cAAAA,CAAe1mB,EAAM2mB,GACnB,OAAQA,GAAiBlH,GAAmBzf,IAAS9lC,KAAKqjC,MAAMqpB,mBAClE,CAKAC,iBAAAA,CAAkBvwB,EAAO0J,GACvB,MAAM8mB,EAAY5sD,KAAKyrD,0BAA0BrvB,EAAO0J,GAClD+mB,EAA0B7sD,KAAKkmD,eAC/BuG,EAAgBzsD,KAAKusD,iBAAiBK,GACtCJ,EAAiBxsD,KAAKwsD,eAAe1mB,EAAM2mB,IAAmBA,IAAkBI,EAEtF,OADA7sD,KAAK8sD,oBAAoBL,EAAe3mB,EAAM8mB,GACvC,CAACH,gBAAeD,iBACzB,CAMAO,aAAAA,CAAcrU,EAASpxC,EAAOugC,EAAY/B,GACpCyf,GAAmBzf,GACrBntC,OAAOqI,OAAO03C,EAAS7Q,GAEvB7nC,KAAKosD,mBAAmB9kD,EAAOw+B,GAAMoc,OAAOxJ,EAAS7Q,EAEzD,CAMAilB,mBAAAA,CAAoBL,EAAe3mB,EAAM+c,GACnC4J,IAAkBlH,GAAmBzf,IACvC9lC,KAAKosD,wBAAmB9wD,EAAWwqC,GAAMoc,OAAOuK,EAAe5J,EAEnE,CAKAmK,SAAAA,CAAUtU,EAASpxC,EAAOw+B,EAAMgC,GAC9B4Q,EAAQ5Q,OAASA,EACjB,MAAMzhC,EAAUrG,KAAK27C,SAASr0C,EAAOwgC,GACrC9nC,KAAKosD,mBAAmB9kD,EAAOw+B,EAAMgC,GAAQoa,OAAOxJ,EAAS,CAG3DryC,SAAWyhC,GAAU9nC,KAAKusD,iBAAiBlmD,IAAaA,GAE5D,CAEA4mD,gBAAAA,CAAiBvU,EAAS1gB,EAAc1wB,GACtCtH,KAAKgtD,UAAUtU,EAASpxC,EAAO,UAAU,EAC3C,CAEA4lD,aAAAA,CAAcxU,EAAS1gB,EAAc1wB,GACnCtH,KAAKgtD,UAAUtU,EAASpxC,EAAO,UAAU,EAC3C,CAKA6lD,wBAAAA,GACE,MAAMzU,EAAU14C,KAAK2kD,YAAYsC,QAE7BvO,GACF14C,KAAKgtD,UAAUtU,OAASp9C,EAAW,UAAU,EAEjD,CAKA8xD,qBAAAA,GACE,MAAM1U,EAAU14C,KAAK2kD,YAAYsC,QAE7BvO,GACF14C,KAAKgtD,UAAUtU,OAASp9C,EAAW,UAAU,EAEjD,CAKA2tD,eAAAA,CAAgBH,GACd,MAAMxqD,EAAO0B,KAAKgmD,MACZ/gB,EAAWjlC,KAAK2kD,YAAYrmD,KAGlC,IAAK,MAAO2O,EAAQiD,EAAMC,KAASnQ,KAAKwmD,UACtCxmD,KAAKiN,GAAQiD,EAAMC,GAErBnQ,KAAKwmD,UAAY,GAEjB,MAAM6G,EAAUpoB,EAAS5pC,OACnBiyD,EAAUhvD,EAAKjD,OACfqjC,EAAQ1gC,KAAKqT,IAAIi8C,EAASD,GAE5B3uB,GAKF1+B,KAAKkM,MAAM,EAAGwyB,GAGZ4uB,EAAUD,EACZrtD,KAAKutD,gBAAgBF,EAASC,EAAUD,EAASvE,GACxCwE,EAAUD,GACnBrtD,KAAKwtD,gBAAgBF,EAASD,EAAUC,EAE5C,CAKAC,eAAAA,CAAgBnxB,EAAOsC,GAAgC,IAAzBoqB,IAAArwD,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,KAAAA,UAAA,GAC5B,MAAM6lC,EAAOt+B,KAAK2kD,YACZrmD,EAAOggC,EAAKhgC,KACZ+b,EAAM+hB,EAAQsC,EACpB,IAAIxjC,EAEJ,MAAMuyD,EAAQ3rD,IAEZ,IADAA,EAAIzG,QAAUqjC,EACTxjC,EAAI4G,EAAIzG,OAAS,EAAGH,GAAKmf,EAAKnf,IACjC4G,EAAI5G,GAAK4G,EAAI5G,EAAIwjC,EACnB,EAIF,IAFA+uB,EAAKnvD,GAEApD,EAAIkhC,EAAOlhC,EAAImf,IAAOnf,EACzBoD,EAAKpD,GAAK,IAAI8E,KAAK0mD,gBAGjB1mD,KAAKq1C,UACPoY,EAAKnvB,EAAKO,SAEZ7+B,KAAKkM,MAAMkwB,EAAOsC,GAEdoqB,GACF9oD,KAAK0tD,eAAepvD,EAAM89B,EAAOsC,EAAO,QAE5C,CAEAgvB,cAAAA,CAAehV,EAAStc,EAAOsC,EAAOoH,GAAO,CAK7C0nB,eAAAA,CAAgBpxB,EAAOsC,GACrB,MAAMJ,EAAOt+B,KAAK2kD,YAClB,GAAI3kD,KAAKq1C,SAAU,CACjB,MAAMsY,EAAUrvB,EAAKO,QAAQpd,OAAO2a,EAAOsC,GACvCJ,EAAKuoB,UACPvB,GAAYhnB,EAAMqvB,GAGtBrvB,EAAKhgC,KAAKmjB,OAAO2a,EAAOsC,EAC1B,CAKAkvB,KAAAA,CAAMp7C,GACJ,GAAIxS,KAAKq1C,SACPr1C,KAAKwmD,UAAU/nD,KAAK+T,OACf,CACL,MAAOvF,EAAQiD,EAAMC,GAAQqC,EAC7BxS,KAAKiN,GAAQiD,EAAMC,GAErBnQ,KAAKqjC,MAAMwqB,aAAapvD,KAAK,CAACuB,KAAKsH,SAAUkL,GAC/C,CAEAs7C,WAAAA,GACE,MAAMpvB,EAAQjmC,UAAU4C,OACxB2E,KAAK4tD,MAAM,CAAC,kBAAmB5tD,KAAKknD,aAAa5oD,KAAKjD,OAASqjC,EAAOA,GACxE,CAEAqvB,UAAAA,GACE/tD,KAAK4tD,MAAM,CAAC,kBAAmB5tD,KAAK2kD,YAAYrmD,KAAKjD,OAAS,EAAG,GACnE,CAEA2yD,YAAAA,GACEhuD,KAAK4tD,MAAM,CAAC,kBAAmB,EAAG,GACpC,CAEAK,aAAAA,CAAc7xB,EAAOsC,GACfA,GACF1+B,KAAK4tD,MAAM,CAAC,kBAAmBxxB,EAAOsC,IAExC,MAAMwvB,EAAWz1D,UAAU4C,OAAS,EAChC6yD,GACFluD,KAAK4tD,MAAM,CAAC,kBAAmBxxB,EAAO8xB,GAE1C,CAEAC,cAAAA,GACEnuD,KAAK4tD,MAAM,CAAC,kBAAmB,EAAGn1D,UAAU4C,QAC9C,EC5hCF,SAAS+yD,GAAqB9vB,GAC5B,MAAMiI,EAAQjI,EAAKM,OACbqE,EAnBR,SAA2BsD,EAAOhtC,GAChC,IAAKgtC,EAAM8nB,OAAOC,KAAM,CACtB,MAAMC,EAAehoB,EAAMke,wBAAwBlrD,GACnD,IAAI0pC,EAAS,GAEb,IAAK,IAAI/nC,EAAI,EAAG28B,EAAO02B,EAAalzD,OAAQH,EAAI28B,EAAM38B,IACpD+nC,EAASA,EAAOj9B,OAAOuoD,EAAarzD,GAAG4e,WAAWgxC,mBAAmBvkB,IAEvEA,EAAM8nB,OAAOC,KAAO3wB,GAAasF,EAAOurB,MAAK,CAACpuD,EAAGC,IAAMD,EAAIC,KAE7D,OAAOkmC,EAAM8nB,OAAOC,IACtB,CAQiBG,CAAkBloB,EAAOjI,EAAK/kC,MAC7C,IACI2B,EAAG28B,EAAM62B,EAAM/W,EADftmC,EAAMk1B,EAAMooB,QAEhB,MAAMC,EAAmBA,KACV,QAATF,IAA4B,QAAVA,IAIlBr1B,GAAQse,KAEVtmC,EAAMrT,KAAKqT,IAAIA,EAAKrT,KAAKq8B,IAAIq0B,EAAO/W,IAAStmC,IAE/CsmC,EAAO+W,EAAA,EAGT,IAAKxzD,EAAI,EAAG28B,EAAOoL,EAAO5nC,OAAQH,EAAI28B,IAAQ38B,EAC5CwzD,EAAOnoB,EAAMrH,iBAAiB+D,EAAO/nC,IACrC0zD,IAIF,IADAjX,OAAOr8C,EACFJ,EAAI,EAAG28B,EAAO0O,EAAMnD,MAAM/nC,OAAQH,EAAI28B,IAAQ38B,EACjDwzD,EAAOnoB,EAAMsoB,gBAAgB3zD,GAC7B0zD,IAGF,OAAOv9C,CACT,CA2FA,SAASy9C,GAAWC,EAAOx1B,EAAMgrB,EAAQrpD,GAMvC,OALIzB,EAAQs1D,GA5Bd,SAAuBA,EAAOx1B,EAAMgrB,EAAQrpD,GAC1C,MAAM8zD,EAAazK,EAAOr4C,MAAM6iD,EAAM,GAAI7zD,GACpC+zD,EAAW1K,EAAOr4C,MAAM6iD,EAAM,GAAI7zD,GAClCmW,EAAMrT,KAAKqT,IAAI29C,EAAYC,GAC3BtoC,EAAM3oB,KAAK2oB,IAAIqoC,EAAYC,GACjC,IAAIC,EAAW79C,EACX89C,EAASxoC,EAET3oB,KAAKq8B,IAAIhpB,GAAOrT,KAAKq8B,IAAI1T,KAC3BuoC,EAAWvoC,EACXwoC,EAAS99C,GAKXkoB,EAAKgrB,EAAOzlB,MAAQqwB,EAEpB51B,EAAK61B,QAAU,CACbF,WACAC,SACA/yB,MAAO4yB,EACP30C,IAAK40C,EACL59C,MACAsV,MAEJ,CAII0oC,CAAcN,EAAOx1B,EAAMgrB,EAAQrpD,GAEnCq+B,EAAKgrB,EAAOzlB,MAAQylB,EAAOr4C,MAAM6iD,EAAO7zD,GAEnCq+B,CACT,CAEA,SAAS+1B,GAAsBhxB,EAAMhgC,EAAM89B,EAAOsC,GAChD,MAAME,EAASN,EAAKM,OACd2lB,EAASjmB,EAAKimB,OACdoF,EAAS/qB,EAAOgrB,YAChBC,EAAcjrB,IAAW2lB,EACzBp2C,EAAS,GACf,IAAIjT,EAAG28B,EAAM0B,EAAMw1B,EAEnB,IAAK7zD,EAAIkhC,EAAOvE,EAAOuE,EAAQsC,EAAOxjC,EAAI28B,IAAQ38B,EAChD6zD,EAAQzwD,EAAKpD,GACbq+B,EAAO,CAAC,EACRA,EAAKqF,EAAOE,MAAQ+qB,GAAejrB,EAAO1yB,MAAMy9C,EAAOzuD,GAAIA,GAC3DiT,EAAO1P,KAAKqwD,GAAWC,EAAOx1B,EAAMgrB,EAAQrpD,IAE9C,OAAOiT,CACT,CAEA,SAASohD,GAAWC,GAClB,OAAOA,QAA8Bl0D,IAApBk0D,EAAON,eAA4C5zD,IAAlBk0D,EAAOL,MAC3D,CA8BA,SAASM,GAAiB5nB,EAAYxhC,EAASrC,EAAOsD,GACpD,IAAIooD,EAAOrpD,EAAQspD,cACnB,MAAMlzC,EAAM,CAAC,EAEb,IAAKizC,EAEH,YADA7nB,EAAW8nB,cAAgBlzC,GAI7B,IAAa,IAATizC,EAEF,YADA7nB,EAAW8nB,cAAgB,CAACrnB,KAAK,EAAMC,OAAO,EAAMC,QAAQ,EAAMC,MAAM,IAI1E,MAAM,MAACrM,EAAA,IAAO/hB,EAAA,QAAKod,EAAA,IAAS6Q,EAAA,OAAKE,GAnCnC,SAAqBX,GACnB,IAAIpQ,EAAS2E,EAAO/hB,EAAKiuB,EAAKE,EAiB9B,OAhBIX,EAAW+nB,YACbn4B,EAAUoQ,EAAW8gB,KAAO9gB,EAAW5e,EACvCmT,EAAQ,OACR/hB,EAAM,UAENod,EAAUoQ,EAAW8gB,KAAO9gB,EAAWhP,EACvCuD,EAAQ,SACR/hB,EAAM,OAEJod,GACF6Q,EAAM,MACNE,EAAS,UAETF,EAAM,QACNE,EAAS,OAEJ,CAACpM,QAAO/hB,MAAKod,UAAS6Q,MAAKE,SACpC,CAgB6CqnB,CAAYhoB,GAE1C,WAAT6nB,GAAqB1rD,IACvB6jC,EAAWioB,oBAAqB,GAC3B9rD,EAAMkhD,MAAQ,KAAO59C,EACxBooD,EAAOpnB,GACGtkC,EAAMmhD,SAAW,KAAO79C,EAClCooD,EAAOlnB,GAEP/rB,EAAIszC,GAAUvnB,EAAQpM,EAAO/hB,EAAKod,KAAY,EAC9Ci4B,EAAOpnB,IAIX7rB,EAAIszC,GAAUL,EAAMtzB,EAAO/hB,EAAKod,KAAY,EAC5CoQ,EAAW8nB,cAAgBlzC,CAC7B,CAEA,SAASszC,GAAUL,EAAMtvD,EAAGC,EAAGo3B,GAU/B,IAAcu4B,EAAMj4B,EAAIk4B,EAHtB,OANIx4B,GASkBw4B,EARC5vD,EACrBqvD,EAAOQ,GADPR,GAQUM,EAREN,MAQI33B,EARE33B,GASC6vD,EAAKD,IAASC,EAAKl4B,EAAKi4B,EARrB3vD,EAAGD,IAEzBsvD,EAAOQ,GAASR,EAAMtvD,EAAGC,GAEpBqvD,CACT,CAMA,SAASQ,GAASzpC,EAAG2V,EAAO/hB,GAC1B,MAAa,UAANoM,EAAgB2V,EAAc,QAAN3V,EAAcpM,EAAMoM,CACrD,CAEA,SAAS0pC,GAAiBtoB,EAAUprC,EAAmBg4B,GAAO,IAAxB,cAAC27B,GAAc3zD,EACnDorC,EAAWuoB,cAAkC,SAAlBA,EACb,IAAV37B,EAAc,IAAO,EACrB27B,CACN,CC3Ne,MAAMC,WAA2B1K,GAE9CC,UAAY,WAKZA,gBAAkB,CAChBa,oBAAoB,EACpBC,gBAAiB,MACjB/hB,UAAW,CAET2rB,eAAe,EAEfC,cAAc,GAEhBtoB,WAAY,CACV7F,QAAS,CACP7oC,KAAM,SACNsuC,WAAY,CAAC,gBAAiB,WAAY,cAAe,cAAe,aAAc,IAAK,IAAK,SAAU,cAAe,aAI7H2oB,OAAQ,MAGR5jB,SAAU,EAGV6jB,cAAe,IAGf5jB,OAAQ,OAGR6jB,QAAS,EAET9qB,UAAW,KAGbggB,mBAAqB,CACnBve,YAAcnqC,GAAkB,YAATA,EACvBqqC,WAAarqC,GAAkB,YAATA,IAAuBA,EAAKoqC,WAAW,gBAAkBpqC,EAAKoqC,WAAW,oBAMjGse,iBAAmB,CACjBxL,YAAa,EAGb/T,QAAS,CACPsqB,OAAQ,CACNhH,OAAQ,CACNiH,cAAAA,CAAevtB,GACb,MAAM/kC,EAAO+kC,EAAM/kC,KACnB,GAAIA,EAAKqrD,OAAOtuD,QAAUiD,EAAKwmC,SAASzpC,OAAQ,CAC9C,MAAOsuD,QAAQ,WAAChd,EAAA,MAAYjX,IAAU2N,EAAMstB,OAAOtqD,QAEnD,OAAO/H,EAAKqrD,OAAO5uD,KAAI,CAACkwD,EAAO/vD,KAC7B,MACMmqC,EADOhC,EAAM2kB,eAAe,GACfluC,WAAW6hC,SAASzgD,GAEvC,MAAO,CACL2uC,KAAMohB,EACN3b,UAAWjK,EAAMT,gBACjByK,YAAahK,EAAMR,YACnBgsB,UAAWn7B,EACXuT,UAAW5D,EAAMqI,YACjBf,WAAYA,EACZ8d,QAASpnB,EAAMytB,kBAAkB51D,GAGjCoM,MAAOpM,EACR,IAGL,MAAO,EACT,GAGFirC,OAAAA,CAAQh6B,EAAG4kD,EAAYJ,GACrBA,EAAOttB,MAAM2tB,qBAAqBD,EAAWzpD,OAC7CqpD,EAAOttB,MAAM6e,QACf,KAKNjjD,WAAAA,CAAYokC,EAAOrL,GACjBi5B,MAAM5tB,EAAOrL,GAEbh4B,KAAKqmD,qBAAsB,EAC3BrmD,KAAKkxD,iBAAc51D,EACnB0E,KAAKmxD,iBAAc71D,EACnB0E,KAAKw5C,aAAUl+C,EACf0E,KAAKy5C,aAAUn+C,CACjB,CAEAsrD,UAAAA,GAAc,CAKd16C,KAAAA,CAAMkwB,EAAOsC,GACX,MAAMpgC,EAAO0B,KAAKknD,aAAa5oD,KACzBggC,EAAOt+B,KAAK2kD,YAElB,IAAsB,IAAlB3kD,KAAKq1C,SACP/W,EAAKO,QAAUvgC,MACV,CACL,IAOIpD,EAAG28B,EAPHu5B,EAAUl2D,IAAOoD,EAAKpD,GAE1B,GAAIlB,EAASsE,EAAK89B,IAAS,CACzB,MAAM,IAAC1gC,EAAM,SAAWsE,KAAKq1C,SAC7B+b,EAAUl2D,IAAO49B,GAAiBx6B,EAAKpD,GAAIQ,GAI7C,IAAKR,EAAIkhC,EAAOvE,EAAOuE,EAAQsC,EAAOxjC,EAAI28B,IAAQ38B,EAChDojC,EAAKO,QAAQ3jC,GAAKk2D,EAAOl2D,GAG/B,CAKAm2D,YAAAA,GACE,OAAOt2B,GAAU/6B,KAAKqG,QAAQumC,SAAW,GAC3C,CAKA0kB,iBAAAA,GACE,OAAOv2B,GAAU/6B,KAAKqG,QAAQoqD,cAChC,CAMAc,mBAAAA,GACE,IAAIlgD,EAAMooB,GACN9S,GAAO8S,GAEX,IAAK,IAAIv+B,EAAI,EAAGA,EAAI8E,KAAKqjC,MAAM/kC,KAAKwmC,SAASzpC,SAAUH,EACrD,GAAI8E,KAAKqjC,MAAMmuB,iBAAiBt2D,IAAM8E,KAAKqjC,MAAM2kB,eAAe9sD,GAAG3B,OAASyG,KAAK+lD,MAAO,CACtF,MAAMjsC,EAAa9Z,KAAKqjC,MAAM2kB,eAAe9sD,GAAG4e,WAC1C8yB,EAAW9yB,EAAWu3C,eACtBZ,EAAgB32C,EAAWw3C,oBAEjCjgD,EAAMrT,KAAKqT,IAAIA,EAAKu7B,GACpBjmB,EAAM3oB,KAAK2oB,IAAIA,EAAKimB,EAAW6jB,GAInC,MAAO,CACL7jB,SAAUv7B,EACVo/C,cAAe9pC,EAAMtV,EAEzB,CAKA6wC,MAAAA,CAAOpc,GACL,MAAMzC,EAAQrjC,KAAKqjC,OACb,UAACkoB,GAAaloB,EACd/E,EAAOt+B,KAAK2kD,YACZ8M,EAAOnzB,EAAKhgC,KACZoyD,EAAU1wD,KAAK0xD,oBAAsB1xD,KAAK2xD,aAAaF,GAAQzxD,KAAKqG,QAAQqqD,QAC5EkB,EAAU5zD,KAAK2oB,KAAK3oB,KAAKqT,IAAIk6C,EAAU5hB,MAAO4hB,EAAUpf,QAAUukB,GAAW,EAAG,GAChFF,EAASxyD,KAAKqT,KzB9HKtQ,EyB8HYf,KAAKqG,QAAQmqD,OzB9HDn5B,EyB8HSu6B,EzB7H3C,kBAAV7wD,GAAsBA,EAAMQ,SAAS,KAC1C+1B,WAAWv2B,GAAS,KACjBA,EAAQs2B,GyB2HyD,GzB9H5Cw6B,IAAC9wD,EAAwBs2B,EyB+HjD,MAAMy6B,EAAc9xD,KAAK+xD,eAAe/xD,KAAKsH,QAKvC,cAACmpD,EAAA,SAAe7jB,GAAY5sC,KAAKuxD,uBACjC,OAACS,EAAA,OAAQC,EAAA,QAAQzY,EAAA,QAASC,GAjNpC,SAA2B7M,EAAU6jB,EAAeD,GAClD,IAAIwB,EAAS,EACTC,EAAS,EACTzY,EAAU,EACVC,EAAU,EAEd,GAAIgX,EAAgBh3B,GAAK,CACvB,MAAMy4B,EAAatlB,EACbulB,EAAWD,EAAazB,EACxB2B,EAASp0D,KAAKgjC,IAAIkxB,GAClBG,EAASr0D,KAAK+hC,IAAImyB,GAClBI,EAAOt0D,KAAKgjC,IAAImxB,GAChBI,EAAOv0D,KAAK+hC,IAAIoyB,GAChBK,EAAUA,CAAC72B,EAAOv7B,EAAGC,IAAM87B,GAAcR,EAAOu2B,EAAYC,GAAU,GAAQ,EAAIn0D,KAAK2oB,IAAIvmB,EAAGA,EAAIowD,EAAQnwD,EAAGA,EAAImwD,GACjHiC,EAAUA,CAAC92B,EAAOv7B,EAAGC,IAAM87B,GAAcR,EAAOu2B,EAAYC,GAAU,IAAS,EAAIn0D,KAAKqT,IAAIjR,EAAGA,EAAIowD,EAAQnwD,EAAGA,EAAImwD,GAClHkC,EAAOF,EAAQ,EAAGJ,EAAQE,GAC1BK,EAAOH,EAAQ14B,GAASu4B,EAAQE,GAChCK,EAAOH,EAAQj5B,GAAI44B,EAAQE,GAC3BO,EAAOJ,EAAQj5B,GAAKM,GAASu4B,EAAQE,GAC3CP,GAAUU,EAAOE,GAAQ,EACzBX,GAAUU,EAAOE,GAAQ,EACzBrZ,IAAYkZ,EAAOE,GAAQ,EAC3BnZ,IAAYkZ,EAAOE,GAAQ,EAE7B,MAAO,CAACb,SAAQC,SAAQzY,UAASC,UACnC,CAwL+CqZ,CAAkBlmB,EAAU6jB,EAAeD,GAChFngB,GAAYkb,EAAU5hB,MAAQ+mB,GAAWsB,EACzC1X,GAAaiR,EAAUpf,OAASukB,GAAWuB,EAC3Cc,EAAY/0D,KAAK2oB,IAAI3oB,KAAKqT,IAAIg/B,EAAUiK,GAAa,EAAG,GACxD6W,EAAc/5B,EAAYp3B,KAAKqG,QAAQwmC,OAAQkmB,GAE/CC,GAAgB7B,EADFnzD,KAAK2oB,IAAIwqC,EAAcX,EAAQ,IACAxwD,KAAKizD,gCACxDjzD,KAAKw5C,QAAUA,EAAU2X,EACzBnxD,KAAKy5C,QAAUA,EAAU0X,EAEzB7yB,EAAKnrB,MAAQnT,KAAKkzD,iBAElBlzD,KAAKmxD,YAAcA,EAAc6B,EAAehzD,KAAKmzD,qBAAqBnzD,KAAKsH,OAC/EtH,KAAKkxD,YAAclzD,KAAK2oB,IAAI3mB,KAAKmxD,YAAc6B,EAAelB,EAAa,GAE3E9xD,KAAK0tD,eAAe+D,EAAM,EAAGA,EAAKp2D,OAAQyqC,EAC5C,CAKAstB,cAAAA,CAAel4D,EAAGitD,GAChB,MAAMlpC,EAAOjf,KAAKqG,QACZi4B,EAAOt+B,KAAK2kD,YACZ8L,EAAgBzwD,KAAKsxD,oBAC3B,OAAInJ,GAAUlpC,EAAK0lB,UAAU2rB,gBAAmBtwD,KAAKqjC,MAAMytB,kBAAkB51D,IAA0B,OAApBojC,EAAKO,QAAQ3jC,IAAeojC,EAAKhgC,KAAKpD,GAAGuvD,OACnH,EAEFzqD,KAAKqzD,uBAAuB/0B,EAAKO,QAAQ3jC,GAAKu1D,EAAgBh3B,GACvE,CAEAi0B,cAAAA,CAAe+D,EAAMr1B,EAAOsC,EAAOoH,GACjC,MAAMqiB,EAAiB,UAATriB,EACRzC,EAAQrjC,KAAKqjC,MACbkoB,EAAYloB,EAAMkoB,UAElB+H,EADOjwB,EAAMh9B,QACQs+B,UACrB4uB,GAAWhI,EAAU9iB,KAAO8iB,EAAUhjB,OAAS,EAC/CirB,GAAWjI,EAAUjjB,IAAMijB,EAAU/iB,QAAU,EAC/C+nB,EAAepI,GAASmL,EAAc/C,aACtCW,EAAcX,EAAe,EAAIvwD,KAAKkxD,YACtCC,EAAcZ,EAAe,EAAIvwD,KAAKmxD,aACtC,cAAC1E,EAAa,eAAED,GAAkBxsD,KAAK2sD,kBAAkBvwB,EAAO0J,GACtE,IACI5qC,EADAg3D,EAAalyD,KAAKqxD,eAGtB,IAAKn2D,EAAI,EAAGA,EAAIkhC,IAASlhC,EACvBg3D,GAAclyD,KAAKozD,eAAel4D,EAAGitD,GAGvC,IAAKjtD,EAAIkhC,EAAOlhC,EAAIkhC,EAAQsC,IAASxjC,EAAG,CACtC,MAAMu1D,EAAgBzwD,KAAKozD,eAAel4D,EAAGitD,GACvChb,EAAMskB,EAAKv2D,GACX2sC,EAAa,CACjB5e,EAAGsqC,EAAUvzD,KAAKw5C,QAClB3gB,EAAG26B,EAAUxzD,KAAKy5C,QAClByY,aACAC,SAAUD,EAAazB,EACvBA,gBACAU,cACAD,eAEE1E,IACF3kB,EAAWxhC,QAAUomD,GAAiBzsD,KAAKyrD,0BAA0BvwD,EAAGiyC,EAAIrF,OAAS,SAAWhC,IAElGosB,GAAczB,EAEdzwD,KAAK+sD,cAAc5f,EAAKjyC,EAAG2sC,EAAY/B,EACzC,CACF,CAEAotB,cAAAA,GACE,MAAM50B,EAAOt+B,KAAK2kD,YACZ8O,EAAWn1B,EAAKhgC,KACtB,IACIpD,EADAiY,EAAQ,EAGZ,IAAKjY,EAAI,EAAGA,EAAIu4D,EAASp4D,OAAQH,IAAK,CACpC,MAAM6F,EAAQu9B,EAAKO,QAAQ3jC,GACb,OAAV6F,GAAmB45B,MAAM55B,KAAUf,KAAKqjC,MAAMytB,kBAAkB51D,IAAOu4D,EAASv4D,GAAGuvD,SACrFt3C,GAASnV,KAAKq8B,IAAIt5B,GAEtB,CAEA,OAAOoS,CACT,CAEAkgD,sBAAAA,CAAuBtyD,GACrB,MAAMoS,EAAQnT,KAAK2kD,YAAYxxC,MAC/B,OAAIA,EAAQ,IAAMwnB,MAAM55B,GACf04B,IAAOz7B,KAAKq8B,IAAIt5B,GAASoS,GAE3B,CACT,CAEA63C,gBAAAA,CAAiB1jD,GACf,MAAMg3B,EAAOt+B,KAAK2kD,YACZthB,EAAQrjC,KAAKqjC,MACbsmB,EAAStmB,EAAM/kC,KAAKqrD,QAAU,GAC9B5oD,EAAQyhC,GAAalE,EAAKO,QAAQv3B,GAAQ+7B,EAAMh9B,QAAQq8B,QAE9D,MAAO,CACLuoB,MAAOtB,EAAOriD,IAAU,GACxBvG,QAEJ,CAEA2wD,iBAAAA,CAAkBD,GAChB,IAAI9qC,EAAM,EACV,MAAM0c,EAAQrjC,KAAKqjC,MACnB,IAAInoC,EAAG28B,EAAMyG,EAAMxkB,EAAYzT,EAE/B,IAAKorD,EAEH,IAAKv2D,EAAI,EAAG28B,EAAOwL,EAAM/kC,KAAKwmC,SAASzpC,OAAQH,EAAI28B,IAAQ38B,EACzD,GAAImoC,EAAMmuB,iBAAiBt2D,GAAI,CAC7BojC,EAAO+E,EAAM2kB,eAAe9sD,GAC5Bu2D,EAAOnzB,EAAKhgC,KACZwb,EAAawkB,EAAKxkB,WAClB,MAKN,IAAK23C,EACH,OAAO,EAGT,IAAKv2D,EAAI,EAAG28B,EAAO45B,EAAKp2D,OAAQH,EAAI28B,IAAQ38B,EAC1CmL,EAAUyT,EAAW2xC,0BAA0BvwD,GACnB,UAAxBmL,EAAQqtD,cACV/sC,EAAM3oB,KAAK2oB,IAAIA,EAAKtgB,EAAQqnC,aAAe,EAAGrnC,EAAQstD,kBAAoB,IAG9E,OAAOhtC,CACT,CAEAgrC,YAAAA,CAAaF,GACX,IAAI9qC,EAAM,EAEV,IAAK,IAAIzrB,EAAI,EAAG28B,EAAO45B,EAAKp2D,OAAQH,EAAI28B,IAAQ38B,EAAG,CACjD,MAAMmL,EAAUrG,KAAKyrD,0BAA0BvwD,GAC/CyrB,EAAM3oB,KAAK2oB,IAAIA,EAAKtgB,EAAQsiC,QAAU,EAAGtiC,EAAQutD,aAAe,EAClE,CACA,OAAOjtC,CACT,CAMAwsC,oBAAAA,CAAqBn7B,GACnB,IAAI67B,EAAmB,EAEvB,IAAK,IAAI34D,EAAI,EAAGA,EAAI88B,IAAgB98B,EAC9B8E,KAAKqjC,MAAMmuB,iBAAiBt2D,KAC9B24D,GAAoB7zD,KAAK+xD,eAAe72D,IAI5C,OAAO24D,CACT,CAKA9B,cAAAA,CAAe/5B,GACb,OAAOh6B,KAAK2oB,IAAIwQ,EAAen3B,KAAKqjC,MAAM/kC,KAAKwmC,SAAS9M,GAAcrC,OAAQ,GAAI,EACpF,CAMAs9B,6BAAAA,GACE,OAAOjzD,KAAKmzD,qBAAqBnzD,KAAKqjC,MAAM/kC,KAAKwmC,SAASzpC,SAAW,CACvE,ECvYa,MAAMy4D,WAA4BnO,GAE/CC,UAAY,YAKZA,gBAAkB,CAChBc,gBAAiB,MACjB/hB,UAAW,CACT2rB,eAAe,EACfC,cAAc,GAEhBtoB,WAAY,CACV7F,QAAS,CACP7oC,KAAM,SACNsuC,WAAY,CAAC,IAAK,IAAK,aAAc,WAAY,cAAe,iBAGpEjC,UAAW,IACXssB,WAAY,GAMdtM,iBAAmB,CACjBxL,YAAa,EAEb/T,QAAS,CACPsqB,OAAQ,CACNhH,OAAQ,CACNiH,cAAAA,CAAevtB,GACb,MAAM/kC,EAAO+kC,EAAM/kC,KACnB,GAAIA,EAAKqrD,OAAOtuD,QAAUiD,EAAKwmC,SAASzpC,OAAQ,CAC9C,MAAOsuD,QAAQ,WAAChd,EAAA,MAAYjX,IAAU2N,EAAMstB,OAAOtqD,QAEnD,OAAO/H,EAAKqrD,OAAO5uD,KAAI,CAACkwD,EAAO/vD,KAC7B,MACMmqC,EADOhC,EAAM2kB,eAAe,GACfluC,WAAW6hC,SAASzgD,GAEvC,MAAO,CACL2uC,KAAMohB,EACN3b,UAAWjK,EAAMT,gBACjByK,YAAahK,EAAMR,YACnBgsB,UAAWn7B,EACXuT,UAAW5D,EAAMqI,YACjBf,WAAYA,EACZ8d,QAASpnB,EAAMytB,kBAAkB51D,GAGjCoM,MAAOpM,EACR,IAGL,MAAO,EACT,GAGFirC,OAAAA,CAAQh6B,EAAG4kD,EAAYJ,GACrBA,EAAOttB,MAAM2tB,qBAAqBD,EAAWzpD,OAC7CqpD,EAAOttB,MAAM6e,QACf,IAIJ1b,OAAQ,CACN1e,EAAG,CACDvuB,KAAM,eACNw6D,WAAY,CACVrrB,SAAS,GAEXE,aAAa,EACbI,KAAM,CACJgrB,UAAU,GAEZC,YAAa,CACXvrB,SAAS,GAEXwpB,WAAY,KAKlBjzD,WAAAA,CAAYokC,EAAOrL,GACjBi5B,MAAM5tB,EAAOrL,GAEbh4B,KAAKkxD,iBAAc51D,EACnB0E,KAAKmxD,iBAAc71D,CACrB,CAEA0vD,gBAAAA,CAAiB1jD,GACf,MAAMg3B,EAAOt+B,KAAK2kD,YACZthB,EAAQrjC,KAAKqjC,MACbsmB,EAAStmB,EAAM/kC,KAAKqrD,QAAU,GAC9B5oD,EAAQyhC,GAAalE,EAAKO,QAAQv3B,GAAOwgB,EAAGub,EAAMh9B,QAAQq8B,QAEhE,MAAO,CACLuoB,MAAOtB,EAAOriD,IAAU,GACxBvG,QAEJ,CAEAyoD,eAAAA,CAAgBlrB,EAAMhgC,EAAM89B,EAAOsC,GACjC,OAAO0W,GAA4B/8C,KAAK2H,KAAjCo1C,CAAuC9W,EAAMhgC,EAAM89B,EAAOsC,EACnE,CAEAwjB,MAAAA,CAAOpc,GACL,MAAM2rB,EAAOzxD,KAAK2kD,YAAYrmD,KAE9B0B,KAAKk0D,gBACLl0D,KAAK0tD,eAAe+D,EAAM,EAAGA,EAAKp2D,OAAQyqC,EAC5C,CAKAukB,SAAAA,GACE,MAAM/rB,EAAOt+B,KAAK2kD,YACZpqB,EAAQ,CAAClpB,IAAK5N,OAAOm2B,kBAAmBjT,IAAKljB,OAAOinD,mBAgB1D,OAdApsB,EAAKhgC,KAAKtD,SAAQ,CAAC09C,EAASpxC,KAC1B,MAAM6G,EAASnO,KAAKgqD,UAAU1iD,GAAOwgB,GAEhC6S,MAAMxsB,IAAWnO,KAAKqjC,MAAMytB,kBAAkBxpD,KAC7C6G,EAASosB,EAAMlpB,MACjBkpB,EAAMlpB,IAAMlD,GAGVA,EAASosB,EAAM5T,MACjB4T,EAAM5T,IAAMxY,OAKXosB,CACT,CAKA25B,aAAAA,GACE,MAAM7wB,EAAQrjC,KAAKqjC,MACbkoB,EAAYloB,EAAMkoB,UAClBtsC,EAAOokB,EAAMh9B,QACb8tD,EAAUn2D,KAAKqT,IAAIk6C,EAAUhjB,MAAQgjB,EAAU9iB,KAAM8iB,EAAU/iB,OAAS+iB,EAAUjjB,KAElF6oB,EAAcnzD,KAAK2oB,IAAIwtC,EAAU,EAAG,GAEpCnB,GAAgB7B,EADFnzD,KAAK2oB,IAAI1H,EAAKm1C,iBAAmBjD,EAAe,IAAQlyC,EAAKm1C,iBAAoB,EAAG,IACrD/wB,EAAMgxB,yBAEzDr0D,KAAKmxD,YAAcA,EAAe6B,EAAehzD,KAAKsH,MACtDtH,KAAKkxD,YAAclxD,KAAKmxD,YAAc6B,CACxC,CAEAtF,cAAAA,CAAe+D,EAAMr1B,EAAOsC,EAAOoH,GACjC,MAAMqiB,EAAiB,UAATriB,EACRzC,EAAQrjC,KAAKqjC,MAEbiwB,EADOjwB,EAAMh9B,QACQs+B,UACrB4B,EAAQvmC,KAAK2kD,YAAYoD,OACzBwL,EAAUhtB,EAAM+tB,QAChBd,EAAUjtB,EAAMguB,QAChBC,EAAoBjuB,EAAMkuB,cAAc,GAAK,GAAMj7B,GACzD,IACIt+B,EADAygC,EAAQ64B,EAGZ,MAAME,EAAe,IAAM10D,KAAK20D,uBAEhC,IAAKz5D,EAAI,EAAGA,EAAIkhC,IAASlhC,EACvBygC,GAAS37B,KAAK40D,cAAc15D,EAAG4qC,EAAM4uB,GAEvC,IAAKx5D,EAAIkhC,EAAOlhC,EAAIkhC,EAAQsC,EAAOxjC,IAAK,CACtC,MAAMiyC,EAAMskB,EAAKv2D,GACjB,IAAIg3D,EAAav2B,EACbw2B,EAAWx2B,EAAQ37B,KAAK40D,cAAc15D,EAAG4qC,EAAM4uB,GAC/CvD,EAAc9tB,EAAMytB,kBAAkB51D,GAAKqrC,EAAMsuB,8BAA8B70D,KAAKgqD,UAAU9uD,GAAG4sB,GAAK,EAC1G6T,EAAQw2B,EAEJhK,IACEmL,EAAc/C,eAChBY,EAAc,GAEZmC,EAAchD,gBAChB4B,EAAaC,EAAWqC,IAI5B,MAAM3sB,EAAa,CACjB5e,EAAGsqC,EACH16B,EAAG26B,EACHtC,YAAa,EACbC,cACAe,aACAC,WACA9rD,QAASrG,KAAKyrD,0BAA0BvwD,EAAGiyC,EAAIrF,OAAS,SAAWhC,IAGrE9lC,KAAK+sD,cAAc5f,EAAKjyC,EAAG2sC,EAAY/B,EACzC,CACF,CAEA6uB,oBAAAA,GACE,MAAMr2B,EAAOt+B,KAAK2kD,YAClB,IAAIjmB,EAAQ,EAQZ,OANAJ,EAAKhgC,KAAKtD,SAAQ,CAAC09C,EAASpxC,MACrBqzB,MAAM36B,KAAKgqD,UAAU1iD,GAAOwgB,IAAM9nB,KAAKqjC,MAAMytB,kBAAkBxpD,IAClEo3B,OAIGA,CACT,CAKAk2B,aAAAA,CAActtD,EAAOw+B,EAAM4uB,GACzB,OAAO10D,KAAKqjC,MAAMytB,kBAAkBxpD,GAChCyzB,GAAU/6B,KAAKyrD,0BAA0BnkD,EAAOw+B,GAAMnK,OAAS+4B,GAC/D,CACN,qDFgCa,cAA4B/O,GAEzCC,UAAY,MAKZA,gBAAkB,CAChBa,oBAAoB,EACpBC,gBAAiB,MAEjBoO,mBAAoB,GACpBC,cAAe,GACfC,SAAS,EAET/sB,WAAY,CACV7F,QAAS,CACP7oC,KAAM,SACNsuC,WAAY,CAAC,IAAK,IAAK,OAAQ,QAAS,aAQ9C+d,iBAAmB,CACjBpf,OAAQ,CACNyuB,QAAS,CACP17D,KAAM,WACNovC,QAAQ,EACRK,KAAM,CACJL,QAAQ,IAGZusB,QAAS,CACP37D,KAAM,SACNqvC,aAAa,KAWnB6gB,kBAAAA,CAAmBnrB,EAAMhgC,EAAM89B,EAAOsC,GACpC,OAAO4wB,GAAsBhxB,EAAMhgC,EAAM89B,EAAOsC,EAClD,CAOA6qB,cAAAA,CAAejrB,EAAMhgC,EAAM89B,EAAOsC,GAChC,OAAO4wB,GAAsBhxB,EAAMhgC,EAAM89B,EAAOsC,EAClD,CAOA8qB,eAAAA,CAAgBlrB,EAAMhgC,EAAM89B,EAAOsC,GACjC,MAAM,OAACE,EAAA,OAAQ2lB,GAAUjmB,GACnB,SAACwrB,EAAW,aAAKC,EAAW,KAAO/pD,KAAKq1C,SACxCiT,EAA2B,MAAhB1pB,EAAOE,KAAegrB,EAAWC,EAC5CxB,EAA2B,MAAhBhE,EAAOzlB,KAAegrB,EAAWC,EAC5C57C,EAAS,GACf,IAAIjT,EAAG28B,EAAM0B,EAAMt+B,EACnB,IAAKC,EAAIkhC,EAAOvE,EAAOuE,EAAQsC,EAAOxjC,EAAI28B,IAAQ38B,EAChDD,EAAMqD,EAAKpD,GACXq+B,EAAO,CAAC,EACRA,EAAKqF,EAAOE,MAAQF,EAAO1yB,MAAM4sB,GAAiB79B,EAAKqtD,GAAWptD,GAClEiT,EAAO1P,KAAKqwD,GAAWh2B,GAAiB79B,EAAKstD,GAAWhvB,EAAMgrB,EAAQrpD,IAExE,OAAOiT,CACT,CAKA+7C,qBAAAA,CAAsB3vB,EAAOgM,EAAOp4B,EAAQnK,GAC1CitD,MAAM/G,sBAAsB3vB,EAAOgM,EAAOp4B,EAAQnK,GAClD,MAAMwrD,EAASrhD,EAAOihD,QAClBI,GAAUjpB,IAAUvmC,KAAK2kD,YAAYJ,SAEvChqB,EAAMlpB,IAAMrT,KAAKqT,IAAIkpB,EAAMlpB,IAAKm+C,EAAOn+C,KACvCkpB,EAAM5T,IAAM3oB,KAAK2oB,IAAI4T,EAAM5T,IAAK6oC,EAAO7oC,KAE3C,CAMAokC,cAAAA,GACE,OAAO,CACT,CAKAC,gBAAAA,CAAiB1jD,GACf,MAAMg3B,EAAOt+B,KAAK2kD,aACZ,OAAC/lB,EAAA,OAAQ2lB,GAAUjmB,EACnBnwB,EAASnO,KAAKgqD,UAAU1iD,GACxBkoD,EAASrhD,EAAOihD,QAChBruD,EAAQwuD,GAAWC,GACrB,IAAMA,EAAOpzB,MAAQ,KAAOozB,EAAOn1C,IAAM,IACzC,GAAKkqC,EAAO2G,iBAAiB/8C,EAAOo2C,EAAOzlB,OAE/C,MAAO,CACLmsB,MAAO,GAAKrsB,EAAOssB,iBAAiB/8C,EAAOywB,EAAOE,OAClD/9B,QAEJ,CAEA4lD,UAAAA,GACE3mD,KAAKqmD,qBAAsB,EAE3B4K,MAAMtK,aAEO3mD,KAAK2kD,YACb3gD,MAAQhE,KAAKknD,aAAaljD,KACjC,CAEAk+C,MAAAA,CAAOpc,GACL,MAAMxH,EAAOt+B,KAAK2kD,YAClB3kD,KAAK0tD,eAAepvB,EAAKhgC,KAAM,EAAGggC,EAAKhgC,KAAKjD,OAAQyqC,EACtD,CAEA4nB,cAAAA,CAAeyH,EAAM/4B,EAAOsC,EAAOoH,GACjC,MAAMqiB,EAAiB,UAATriB,GACR,MAACx+B,EAAOq9C,aAAa,OAACJ,IAAWvkD,KACjC2oD,EAAOpE,EAAO6Q,eACdxF,EAAarL,EAAO8Q,eACpBC,EAAQt1D,KAAKu1D,aACb,cAAC9I,EAAa,eAAED,GAAkBxsD,KAAK2sD,kBAAkBvwB,EAAO0J,GAEtE,IAAK,IAAI5qC,EAAIkhC,EAAOlhC,EAAIkhC,EAAQsC,EAAOxjC,IAAK,CAC1C,MAAMiT,EAASnO,KAAKgqD,UAAU9uD,GACxBs6D,EAAUrN,GAASnxB,EAAc7oB,EAAOo2C,EAAOzlB,OAAS,CAAC6pB,OAAMl3C,KAAMk3C,GAAQ3oD,KAAKy1D,yBAAyBv6D,GAC3Gw6D,EAAU11D,KAAK21D,yBAAyBz6D,EAAGo6D,GAC3CtxD,GAASmK,EAAOy2C,SAAW,CAAC,GAAGL,EAAOzlB,MAEtC+I,EAAa,CACjB+nB,aACAjH,KAAM6M,EAAQ7M,KACdmH,oBAAqB9rD,GAASurD,GAAWphD,EAAOihD,UAAa9nD,IAAUtD,EAAMkhD,MAAQ59C,IAAUtD,EAAMmhD,QACrGl8B,EAAG2mC,EAAa4F,EAAQ/jD,KAAOikD,EAAQE,OACvC/8B,EAAG+2B,EAAa8F,EAAQE,OAASJ,EAAQ/jD,KACzC06B,OAAQyjB,EAAa8F,EAAQ9xD,KAAO5F,KAAKq8B,IAAIm7B,EAAQ5xD,MACrD+lC,MAAOimB,EAAa5xD,KAAKq8B,IAAIm7B,EAAQ5xD,MAAQ8xD,EAAQ9xD,MAGnD4oD,IACF3kB,EAAWxhC,QAAUomD,GAAiBzsD,KAAKyrD,0BAA0BvwD,EAAGi6D,EAAKj6D,GAAG4sC,OAAS,SAAWhC,IAEtG,MAAMz/B,EAAUwhC,EAAWxhC,SAAW8uD,EAAKj6D,GAAGmL,QAC9CopD,GAAiB5nB,EAAYxhC,EAASrC,EAAOsD,GAC7C6oD,GAAiBtoB,EAAYxhC,EAASivD,EAAM7gC,OAC5Cz0B,KAAK+sD,cAAcoI,EAAKj6D,GAAIA,EAAG2sC,EAAY/B,EAC7C,CACF,CASA+vB,UAAAA,CAAW14B,EAAMuuB,GACf,MAAM,OAAC9sB,GAAU5+B,KAAK2kD,YAChBnB,EAAW5kB,EAAO6lB,wBAAwBzkD,KAAK+lD,OAClD3kD,QAAOk9B,GAAQA,EAAKxkB,WAAWzT,QAAQ2uD,UACpChR,EAAUplB,EAAOv4B,QAAQ29C,QACzBE,EAAS,GACT4R,EAAgB91D,KAAK2kD,YAAY7qC,WAAWkwC,UAAU0B,GACtDqK,EAAcD,GAAiBA,EAAcl3B,EAAOE,MAEpDk3B,EAAY13B,IAChB,MAAMnwB,EAASmwB,EAAKO,QAAQo3B,MAAK18B,GAAQA,EAAKqF,EAAOE,QAAUi3B,IACzD77D,EAAMiU,GAAUA,EAAOmwB,EAAKimB,OAAOzlB,MAEzC,GAAI9H,EAAc98B,IAAQygC,MAAMzgC,GAC9B,OAAO,GAIX,IAAK,MAAMokC,KAAQklB,EACjB,SAAkBloD,IAAdowD,IAA2BsK,EAAS13B,QASxB,IAAZ0lB,IAAqD,IAAhCE,EAAOtiD,QAAQ08B,EAAKt6B,aAClC1I,IAAZ0oD,QAAwC1oD,IAAfgjC,EAAKt6B,QAC3BkgD,EAAOzlD,KAAK6/B,EAAKt6B,OAEfs6B,EAAKh3B,QAAU61B,GACjB,MAWJ,OAJK+mB,EAAO7oD,QACV6oD,EAAOzlD,UAAKnD,GAGP4oD,CACT,CAMAgS,cAAAA,CAAe5uD,GACb,OAAOtH,KAAK61D,gBAAWv6D,EAAWgM,GAAOjM,MAC3C,CAUA86D,cAAAA,CAAen+B,EAAc96B,EAAMwuD,GACjC,MAAMxH,EAASlkD,KAAK61D,WAAW79B,EAAc0zB,GACvCpkD,OAAkBhM,IAAV4B,EACVgnD,EAAOtiD,QAAQ1E,IACd,EAEL,OAAmB,IAAXoK,EACJ48C,EAAO7oD,OAAS,EAChBiM,CACN,CAKAiuD,SAAAA,GACE,MAAMt2C,EAAOjf,KAAKqG,QACZi4B,EAAOt+B,KAAK2kD,YACZ/lB,EAASN,EAAKM,OACdw3B,EAAS,GACf,IAAIl7D,EAAG28B,EAEP,IAAK38B,EAAI,EAAG28B,EAAOyG,EAAKhgC,KAAKjD,OAAQH,EAAI28B,IAAQ38B,EAC/Ck7D,EAAO33D,KAAKmgC,EAAOM,iBAAiBl/B,KAAKgqD,UAAU9uD,GAAG0jC,EAAOE,MAAO5jC,IAGtE,MAAMm7D,EAAep3C,EAAKo3C,aAG1B,MAAO,CACLhlD,IAHUglD,GAAgBjI,GAAqB9vB,GAI/C83B,SACAh6B,MAAOwC,EAAO03B,YACdj8C,IAAKukB,EAAO23B,UACZC,WAAYx2D,KAAKk2D,iBACjB3vB,MAAO3H,EACPo2B,QAAS/1C,EAAK+1C,QAEdvgC,MAAO4hC,EAAe,EAAIp3C,EAAK61C,mBAAqB71C,EAAK81C,cAE7D,CAMAU,wBAAAA,CAAyBnuD,GACvB,MAAOq9C,aAAa,OAACJ,EAAA,SAAQsC,EAAUv/C,MAAO0wB,GAAe3xB,SAAUsiD,KAAM8N,EAAS,aAAEC,IAAiB12D,KACnG22D,EAAaF,GAAa,EAC1BtoD,EAASnO,KAAKgqD,UAAU1iD,GACxBkoD,EAASrhD,EAAOihD,QAChBwH,EAAWrH,GAAWC,GAC5B,IAGI/9C,EAAM7N,EAHN7C,EAAQoN,EAAOo2C,EAAOzlB,MACtB1C,EAAQ,EACR/gC,EAASwrD,EAAW7mD,KAAK0jD,WAAWa,EAAQp2C,EAAQ04C,GAAY9lD,EAGhE1F,IAAW0F,IACbq7B,EAAQ/gC,EAAS0F,EACjB1F,EAAS0F,GAGP61D,IACF71D,EAAQyuD,EAAON,SACf7zD,EAASm0D,EAAOL,OAASK,EAAON,SAElB,IAAVnuD,GAAem5B,GAAKn5B,KAAWm5B,GAAKs1B,EAAOL,UAC7C/yB,EAAQ,GAEVA,GAASr7B,GAGX,MAAMiuD,EAAch4B,EAAcy/B,IAAeG,EAAuBx6B,EAAZq6B,EAC5D,IAAI9N,EAAOpE,EAAOrlB,iBAAiB8vB,GAWnC,GAREv9C,EADEzR,KAAKqjC,MAAMytB,kBAAkBxpD,GACxBi9C,EAAOrlB,iBAAiB9C,EAAQ/gC,GAGhCstD,EAGT/kD,EAAO6N,EAAOk3C,EAEV3qD,KAAKq8B,IAAIz2B,GAAQ8yD,EAAc,CACjC9yD,EAvZN,SAAiBA,EAAM2gD,EAAQoS,GAC7B,OAAa,IAAT/yD,EACKs2B,GAAKt2B,IAEN2gD,EAAO8Q,eAAiB,GAAK,IAAM9Q,EAAOlzC,KAAOslD,EAAa,GAAK,EAC7E,CAkZaE,CAAQjzD,EAAM2gD,EAAQoS,GAAcD,EACvC31D,IAAU41D,IACZhO,GAAQ/kD,EAAO,GAEjB,MAAMkzD,EAAavS,EAAOwS,mBAAmB,GACvCC,EAAWzS,EAAOwS,mBAAmB,GACrC1lD,EAAMrT,KAAKqT,IAAIylD,EAAYE,GAC3BrwC,EAAM3oB,KAAK2oB,IAAImwC,EAAYE,GACjCrO,EAAO3qD,KAAK2oB,IAAI3oB,KAAKqT,IAAIs3C,EAAMhiC,GAAMtV,GACrCI,EAAOk3C,EAAO/kD,EAEVijD,IAAa+P,IAEfzoD,EAAOy2C,QAAQL,EAAOzlB,MAAMsmB,cAAcptB,GAAgBusB,EAAO0S,iBAAiBxlD,GAAQ8yC,EAAO0S,iBAAiBtO,IAItH,GAAIA,IAASpE,EAAOrlB,iBAAiBy3B,GAAa,CAChD,MAAMO,EAAWh9B,GAAKt2B,GAAQ2gD,EAAO4S,qBAAqBR,GAAc,EACxEhO,GAAQuO,EACRtzD,GAAQszD,EAGV,MAAO,CACLtzD,OACA+kD,OACAl3C,OACAmkD,OAAQnkD,EAAO7N,EAAO,EAE1B,CAKA+xD,wBAAAA,CAAyBruD,EAAOguD,GAC9B,MAAM/uB,EAAQ+uB,EAAM/uB,MACdlgC,EAAUrG,KAAKqG,QACf2vD,EAAW3vD,EAAQ2vD,SACnBoB,EAAkBjgC,EAAe9wB,EAAQ+wD,gBAAiBC,KAChE,IAAIzB,EAAQhyD,EACZ,GAAI0xD,EAAMN,QAAS,CACjB,MAAMwB,EAAaR,EAAWh2D,KAAKk2D,eAAe5uD,GAASguD,EAAMkB,WAC3Dj8B,EAAiC,SAAzBl0B,EAAQgwD,aAthB5B,SAAmC/uD,EAAOguD,EAAOjvD,EAASmwD,GACxD,MAAMJ,EAASd,EAAMc,OACf1H,EAAO0H,EAAO9uD,GACpB,IAAIqwC,EAAOrwC,EAAQ,EAAI8uD,EAAO9uD,EAAQ,GAAK,KACvCtF,EAAOsF,EAAQ8uD,EAAO/6D,OAAS,EAAI+6D,EAAO9uD,EAAQ,GAAK,KAC3D,MAAMgwD,EAAUjxD,EAAQyuD,mBAEX,OAATnd,IAGFA,EAAO+W,GAAiB,OAAT1sD,EAAgBszD,EAAMj7C,IAAMi7C,EAAMl5B,MAAQp6B,EAAO0sD,IAGrD,OAAT1sD,IAEFA,EAAO0sD,EAAOA,EAAO/W,GAGvB,MAAMvb,EAAQsyB,GAAQA,EAAO1wD,KAAKqT,IAAIsmC,EAAM31C,IAAS,EAAIs1D,EAGzD,MAAO,CACLp9C,MAHWlc,KAAKq8B,IAAIr4B,EAAO21C,GAAQ,EAAI2f,EAGzBd,EACd/hC,MAAOpuB,EAAQ0uD,cACf34B,QAEJ,CA6fUm7B,CAA0BjwD,EAAOguD,EAAOjvD,EAASmwD,GAnjB3D,SAAkClvD,EAAOguD,EAAOjvD,EAASmwD,GACvD,MAAMgB,EAAYnxD,EAAQgwD,aAC1B,IAAIzyD,EAAM6wB,EAaV,OAXIuC,EAAcwgC,IAChB5zD,EAAO0xD,EAAMjkD,IAAMhL,EAAQyuD,mBAC3BrgC,EAAQpuB,EAAQ0uD,gBAKhBnxD,EAAO4zD,EAAYhB,EACnB/hC,EAAQ,GAGH,CACLva,MAAOtW,EAAO4yD,EACd/hC,QACA2H,MAAOk5B,EAAMc,OAAO9uD,GAAU1D,EAAO,EAEzC,CAgiBU6zD,CAAyBnwD,EAAOguD,EAAOjvD,EAASmwD,GAE9CkB,EAAa13D,KAAKm2D,eAAen2D,KAAKsH,MAAOtH,KAAK2kD,YAAY3gD,MAAOgyD,EAAW1uD,OAAQhM,GAC9Fs6D,EAASr7B,EAAM6B,MAAS7B,EAAMrgB,MAAQw9C,EAAen9B,EAAMrgB,MAAQ,EACnEtW,EAAO5F,KAAKqT,IAAI+lD,EAAiB78B,EAAMrgB,MAAQqgB,EAAM9F,YAGrDmhC,EAASrvB,EAAMrH,iBAAiBl/B,KAAKgqD,UAAU1iD,GAAOi/B,EAAMzH,MAAOx3B,GACnE1D,EAAO5F,KAAKqT,IAAI+lD,EAAiB9B,EAAMjkD,IAAMikD,EAAM7gC,OAGrD,MAAO,CACLk0B,KAAMiN,EAAShyD,EAAO,EACtB6N,KAAMmkD,EAAShyD,EAAO,EACtBgyD,SACAhyD,OAEJ,CAEAy8C,IAAAA,GACE,MAAM/hB,EAAOt+B,KAAK2kD,YACZJ,EAASjmB,EAAKimB,OACdoT,EAAQr5B,EAAKhgC,KACbu5B,EAAO8/B,EAAMt8D,OACnB,IAAIH,EAAI,EAER,KAAOA,EAAI28B,IAAQ38B,EACsB,OAAnC8E,KAAKgqD,UAAU9uD,GAAGqpD,EAAOzlB,OAAmB64B,EAAMz8D,GAAGuvD,QACvDkN,EAAMz8D,GAAGmlD,KAAKrgD,KAAKspC,KAGzB,oBG5oBa,cAA+Bqc,GAE5CC,UAAY,SAKZA,gBAAkB,CAChBa,oBAAoB,EACpBC,gBAAiB,QAEjBze,WAAY,CACV7F,QAAS,CACP7oC,KAAM,SACNsuC,WAAY,CAAC,IAAK,IAAK,cAAe,aAQ5C+d,iBAAmB,CACjBpf,OAAQ,CACNvd,EAAG,CACD1vB,KAAM,UAERs/B,EAAG,CACDt/B,KAAM,YAKZotD,UAAAA,GACE3mD,KAAKqmD,qBAAsB,EAC3B4K,MAAMtK,YACR,CAMA8C,kBAAAA,CAAmBnrB,EAAMhgC,EAAM89B,EAAOsC,GACpC,MAAMvwB,EAAS8iD,MAAMxH,mBAAmBnrB,EAAMhgC,EAAM89B,EAAOsC,GAC3D,IAAK,IAAIxjC,EAAI,EAAGA,EAAIiT,EAAO9S,OAAQH,IACjCiT,EAAOjT,GAAGk0D,QAAUpvD,KAAKyrD,0BAA0BvwD,EAAIkhC,GAAOyQ,OAEhE,OAAO1+B,CACT,CAMAo7C,cAAAA,CAAejrB,EAAMhgC,EAAM89B,EAAOsC,GAChC,MAAMvwB,EAAS8iD,MAAM1H,eAAejrB,EAAMhgC,EAAM89B,EAAOsC,GACvD,IAAK,IAAIxjC,EAAI,EAAGA,EAAIiT,EAAO9S,OAAQH,IAAK,CACtC,MAAMq+B,EAAOj7B,EAAK89B,EAAQlhC,GAC1BiT,EAAOjT,GAAGk0D,QAAUj4B,EAAeoC,EAAK,GAAIv5B,KAAKyrD,0BAA0BvwD,EAAIkhC,GAAOyQ,OACxF,CACA,OAAO1+B,CACT,CAMAq7C,eAAAA,CAAgBlrB,EAAMhgC,EAAM89B,EAAOsC,GACjC,MAAMvwB,EAAS8iD,MAAMzH,gBAAgBlrB,EAAMhgC,EAAM89B,EAAOsC,GACxD,IAAK,IAAIxjC,EAAI,EAAGA,EAAIiT,EAAO9S,OAAQH,IAAK,CACtC,MAAMq+B,EAAOj7B,EAAK89B,EAAQlhC,GAC1BiT,EAAOjT,GAAGk0D,QAAUj4B,EAAeoC,GAAQA,EAAKzR,IAAMyR,EAAKzR,EAAG9nB,KAAKyrD,0BAA0BvwD,EAAIkhC,GAAOyQ,OAC1G,CACA,OAAO1+B,CACT,CAKA48C,cAAAA,GACE,MAAMzsD,EAAO0B,KAAK2kD,YAAYrmD,KAE9B,IAAIqoB,EAAM,EACV,IAAK,IAAIzrB,EAAIoD,EAAKjD,OAAS,EAAGH,GAAK,IAAKA,EACtCyrB,EAAM3oB,KAAK2oB,IAAIA,EAAKroB,EAAKpD,GAAG0I,KAAK5D,KAAKyrD,0BAA0BvwD,IAAM,GAExE,OAAOyrB,EAAM,GAAKA,CACpB,CAKAqkC,gBAAAA,CAAiB1jD,GACf,MAAMg3B,EAAOt+B,KAAK2kD,YACZgF,EAAS3pD,KAAKqjC,MAAM/kC,KAAKqrD,QAAU,IACnC,OAACvqB,EAAA,OAAQC,GAAUf,EACnBnwB,EAASnO,KAAKgqD,UAAU1iD,GACxB2hB,EAAImW,EAAO8rB,iBAAiB/8C,EAAO8a,GACnC4P,EAAIwG,EAAO6rB,iBAAiB/8C,EAAO0qB,GACnC/Q,EAAI3Z,EAAOihD,QAEjB,MAAO,CACLnE,MAAOtB,EAAOriD,IAAU,GACxBvG,MAAO,IAAMkoB,EAAI,KAAO4P,GAAK/Q,EAAI,KAAOA,EAAI,IAAM,IAEtD,CAEAo6B,MAAAA,CAAOpc,GACL,MAAMvH,EAASv+B,KAAK2kD,YAAYrmD,KAGhC0B,KAAK0tD,eAAenvB,EAAQ,EAAGA,EAAOljC,OAAQyqC,EAChD,CAEA4nB,cAAAA,CAAenvB,EAAQnC,EAAOsC,EAAOoH,GACnC,MAAMqiB,EAAiB,UAATriB,GACR,OAAClH,EAAA,OAAQ2lB,GAAUvkD,KAAK2kD,aACxB,cAAC8H,EAAa,eAAED,GAAkBxsD,KAAK2sD,kBAAkBvwB,EAAO0J,GAChE+e,EAAQjmB,EAAOE,KACfgmB,EAAQP,EAAOzlB,KAErB,IAAK,IAAI5jC,EAAIkhC,EAAOlhC,EAAIkhC,EAAQsC,EAAOxjC,IAAK,CAC1C,MAAM2yC,EAAQtP,EAAOrjC,GACfiT,GAAUg6C,GAASnoD,KAAKgqD,UAAU9uD,GAClC2sC,EAAa,CAAC,EACdqP,EAASrP,EAAWgd,GAASsD,EAAQvpB,EAAOm4B,mBAAmB,IAAOn4B,EAAOM,iBAAiB/wB,EAAO02C,IACrG1N,EAAStP,EAAWid,GAASqD,EAAQ5D,EAAO6Q,eAAiB7Q,EAAOrlB,iBAAiB/wB,EAAO22C,IAElGjd,EAAW2N,KAAO7a,MAAMuc,IAAWvc,MAAMwc,GAErCqV,IACF3kB,EAAWxhC,QAAUomD,GAAiBzsD,KAAKyrD,0BAA0BvwD,EAAG2yC,EAAM/F,OAAS,SAAWhC,GAE9FqiB,IACFtgB,EAAWxhC,QAAQwmC,OAAS,IAIhC7sC,KAAK+sD,cAAclf,EAAO3yC,EAAG2sC,EAAY/B,EAC3C,CACF,CAOA2lB,yBAAAA,CAA0BnkD,EAAOw+B,GAC/B,MAAM33B,EAASnO,KAAKgqD,UAAU1iD,GAC9B,IAAI27B,EAASguB,MAAMxF,0BAA0BnkD,EAAOw+B,GAGhD7C,EAAO6f,UACT7f,EAAStqC,OAAOqI,OAAO,CAAC,EAAGiiC,EAAQ,CAAC6f,SAAS,KAI/C,MAAMjW,EAAS5J,EAAO4J,OAMtB,MALa,WAAT/G,IACF7C,EAAO4J,OAAS,GAElB5J,EAAO4J,QAAU1V,EAAehpB,GAAUA,EAAOihD,QAASviB,GAEnD5J,CACT,wCClKa,cAA6B0iB,GAE1CC,UAAY,OAKZA,gBAAkB,CAChBa,mBAAoB,OACpBC,gBAAiB,QAEjBjgB,UAAU,EACVgR,UAAU,GAMZmO,iBAAmB,CACjBpf,OAAQ,CACNyuB,QAAS,CACP17D,KAAM,YAER27D,QAAS,CACP37D,KAAM,YAKZotD,UAAAA,GACE3mD,KAAKqmD,qBAAsB,EAC3BrmD,KAAKsmD,oBAAqB,EAC1B2K,MAAMtK,YACR,CAEAzE,MAAAA,CAAOpc,GACL,MAAMxH,EAAOt+B,KAAK2kD,aACXsC,QAAS74C,EAAM9P,KAAMigC,EAAS,GAAE,SAAEq5B,GAAYt5B,EAE/CE,EAAqBx+B,KAAKqjC,MAAMqpB,oBACtC,IAAI,MAACtwB,EAAA,MAAOsC,GAASL,GAAiCC,EAAMC,EAAQC,GAEpEx+B,KAAKmmD,WAAa/pB,EAClBp8B,KAAKomD,WAAa1nB,EAEdS,GAAoBb,KACtBlC,EAAQ,EACRsC,EAAQH,EAAOljC,QAIjB+S,EAAKiwC,OAASr+C,KAAKqjC,MACnBj1B,EAAKowC,cAAgBx+C,KAAKsH,MAC1B8G,EAAKypD,aAAeD,EAASC,WAC7BzpD,EAAKmwB,OAASA,EAEd,MAAMl4B,EAAUrG,KAAKwrD,6BAA6B1lB,GAC7C9lC,KAAKqG,QAAQogC,WAChBpgC,EAAQqnC,YAAc,GAExBrnC,EAAQi3C,QAAUt9C,KAAKqG,QAAQi3C,QAC/Bt9C,KAAK+sD,cAAc3+C,OAAM9S,EAAW,CAClCw8D,UAAWt5B,EACXn4B,WACCy/B,GAGH9lC,KAAK0tD,eAAenvB,EAAQnC,EAAOsC,EAAOoH,EAC5C,CAEA4nB,cAAAA,CAAenvB,EAAQnC,EAAOsC,EAAOoH,GACnC,MAAMqiB,EAAiB,UAATriB,GACR,OAAClH,EAAA,OAAQ2lB,EAAA,SAAQsC,EAAA,SAAU+Q,GAAY53D,KAAK2kD,aAC5C,cAAC8H,EAAa,eAAED,GAAkBxsD,KAAK2sD,kBAAkBvwB,EAAO0J,GAChE+e,EAAQjmB,EAAOE,KACfgmB,EAAQP,EAAOzlB,MACf,SAAC2Y,EAAA,QAAU6F,GAAWt9C,KAAKqG,QAC3B0xD,EAAeh+D,GAAS09C,GAAYA,EAAWh0C,OAAOm2B,kBACtDo+B,EAAeh4D,KAAKqjC,MAAMqpB,qBAAuBvE,GAAkB,SAATriB,EAC1DzrB,EAAM+hB,EAAQsC,EACdu5B,EAAc15B,EAAOljC,OAC3B,IAAI68D,EAAa97B,EAAQ,GAAKp8B,KAAKgqD,UAAU5tB,EAAQ,GAErD,IAAK,IAAIlhC,EAAI,EAAGA,EAAI+8D,IAAe/8D,EAAG,CACpC,MAAM2yC,EAAQtP,EAAOrjC,GACf2sC,EAAamwB,EAAenqB,EAAQ,GAE1C,GAAI3yC,EAAIkhC,GAASlhC,GAAKmf,EAAK,CACzBwtB,EAAW2N,MAAO,EAClB,SAGF,MAAMrnC,EAASnO,KAAKgqD,UAAU9uD,GACxBi9D,EAAWnhC,EAAc7oB,EAAO22C,IAChC5N,EAASrP,EAAWgd,GAASjmB,EAAOM,iBAAiB/wB,EAAO02C,GAAQ3pD,GACpEi8C,EAAStP,EAAWid,GAASqD,GAASgQ,EAAW5T,EAAO6Q,eAAiB7Q,EAAOrlB,iBAAiB2nB,EAAW7mD,KAAK0jD,WAAWa,EAAQp2C,EAAQ04C,GAAY14C,EAAO22C,GAAQ5pD,GAE7K2sC,EAAW2N,KAAO7a,MAAMuc,IAAWvc,MAAMwc,IAAWghB,EACpDtwB,EAAWoZ,KAAO/lD,EAAI,GAAK8C,KAAMq8B,IAAIlsB,EAAO02C,GAASqT,EAAWrT,IAAWkT,EACvEza,IACFzV,EAAW15B,OAASA,EACpB05B,EAAW8jB,IAAMiM,EAASt5D,KAAKpD,IAG7BsxD,IACF3kB,EAAWxhC,QAAUomD,GAAiBzsD,KAAKyrD,0BAA0BvwD,EAAG2yC,EAAM/F,OAAS,SAAWhC,IAG/FkyB,GACHh4D,KAAK+sD,cAAclf,EAAO3yC,EAAG2sC,EAAY/B,GAG3CoyB,EAAa/pD,CACf,CACF,CAKA48C,cAAAA,GACE,MAAMzsB,EAAOt+B,KAAK2kD,YACZsC,EAAU3oB,EAAK2oB,QACfzd,EAASyd,EAAQ5gD,SAAW4gD,EAAQ5gD,QAAQqnC,aAAe,EAC3DpvC,EAAOggC,EAAKhgC,MAAQ,GAC1B,IAAKA,EAAKjD,OACR,OAAOmuC,EAET,MAAMmM,EAAar3C,EAAK,GAAGsF,KAAK5D,KAAKyrD,0BAA0B,IACzD2M,EAAY95D,EAAKA,EAAKjD,OAAS,GAAGuI,KAAK5D,KAAKyrD,0BAA0BntD,EAAKjD,OAAS,IAC1F,OAAO2C,KAAK2oB,IAAI6iB,EAAQmM,EAAYyiB,GAAa,CACnD,CAEA/X,IAAAA,GACE,MAAM/hB,EAAOt+B,KAAK2kD,YAClBrmB,EAAK2oB,QAAQoR,oBAAoBr4D,KAAKqjC,MAAMkoB,UAAWjtB,EAAKM,OAAOE,MACnEmyB,MAAM5Q,MACR,iBC1Ia,cAA4BgQ,GAEzCzK,UAAY,MAKZA,gBAAkB,CAEhB4K,OAAQ,EAGR5jB,SAAU,EAGV6jB,cAAe,IAGf5jB,OAAQ,gDClBG,cAA8B8Y,GAE3CC,UAAY,QAKZA,gBAAkB,CAChBa,mBAAoB,OACpBC,gBAAiB,QACjB9gB,UAAW,IACXa,UAAU,EACVxB,SAAU,CACR72B,KAAM,CACJq/B,KAAM,WAQZmY,iBAAmB,CACjBxL,YAAa,EAEb5T,OAAQ,CACN1e,EAAG,CACDvuB,KAAM,kBAQZyxD,gBAAAA,CAAiB1jD,GACf,MAAMi9C,EAASvkD,KAAK2kD,YAAYJ,OAC1Bp2C,EAASnO,KAAKgqD,UAAU1iD,GAE9B,MAAO,CACL2jD,MAAO1G,EAAOqF,YAAYtiD,GAC1BvG,MAAO,GAAKwjD,EAAO2G,iBAAiB/8C,EAAOo2C,EAAOzlB,OAEtD,CAEA0qB,eAAAA,CAAgBlrB,EAAMhgC,EAAM89B,EAAOsC,GACjC,OAAO0W,GAA4B/8C,KAAK2H,KAAjCo1C,CAAuC9W,EAAMhgC,EAAM89B,EAAOsC,EACnE,CAEAwjB,MAAAA,CAAOpc,GACL,MAAMxH,EAAOt+B,KAAK2kD,YACZv2C,EAAOkwB,EAAK2oB,QACZ1oB,EAASD,EAAKhgC,MAAQ,GACtBqrD,EAASrrB,EAAKM,OAAOgrB,YAK3B,GAFAx7C,EAAKmwB,OAASA,EAED,WAATuH,EAAmB,CACrB,MAAMz/B,EAAUrG,KAAKwrD,6BAA6B1lB,GAC7C9lC,KAAKqG,QAAQogC,WAChBpgC,EAAQqnC,YAAc,GAGxB,MAAM7F,EAAa,CACjB+Z,OAAO,EACP0W,UAAW3O,EAAOtuD,SAAWkjC,EAAOljC,OACpCgL,WAGFrG,KAAK+sD,cAAc3+C,OAAM9S,EAAWusC,EAAY/B,GAIlD9lC,KAAK0tD,eAAenvB,EAAQ,EAAGA,EAAOljC,OAAQyqC,EAChD,CAEA4nB,cAAAA,CAAenvB,EAAQnC,EAAOsC,EAAOoH,GACnC,MAAMS,EAAQvmC,KAAK2kD,YAAYoD,OACzBI,EAAiB,UAATriB,EAEd,IAAK,IAAI5qC,EAAIkhC,EAAOlhC,EAAIkhC,EAAQsC,EAAOxjC,IAAK,CAC1C,MAAM2yC,EAAQtP,EAAOrjC,GACfmL,EAAUrG,KAAKyrD,0BAA0BvwD,EAAG2yC,EAAM/F,OAAS,SAAWhC,GACtEyyB,EAAgBhyB,EAAMiyB,yBAAyBt9D,EAAG8E,KAAKgqD,UAAU9uD,GAAG4sB,GAEpEmB,EAAIk/B,EAAQ5hB,EAAM+tB,QAAUiE,EAActvC,EAC1C4P,EAAIsvB,EAAQ5hB,EAAMguB,QAAUgE,EAAc1/B,EAE1CgP,EAAa,CACjB5e,IACA4P,IACA8C,MAAO48B,EAAc58B,MACrB6Z,KAAM7a,MAAM1R,IAAM0R,MAAM9B,GACxBxyB,WAGFrG,KAAK+sD,cAAclf,EAAO3yC,EAAG2sC,EAAY/B,EAC3C,CACF,qBCjGa,cAAgC6f,GAE7CC,UAAY,UAKZA,gBAAkB,CAChBa,oBAAoB,EACpBC,gBAAiB,QACjBjgB,UAAU,EACVgH,MAAM,GAMRmY,iBAAmB,CAEjB/f,YAAa,CACXC,KAAM,SAGRU,OAAQ,CACNvd,EAAG,CACD1vB,KAAM,UAERs/B,EAAG,CACDt/B,KAAM,YAQZyxD,gBAAAA,CAAiB1jD,GACf,MAAMg3B,EAAOt+B,KAAK2kD,YACZgF,EAAS3pD,KAAKqjC,MAAM/kC,KAAKqrD,QAAU,IACnC,OAACvqB,EAAA,OAAQC,GAAUf,EACnBnwB,EAASnO,KAAKgqD,UAAU1iD,GACxB2hB,EAAImW,EAAO8rB,iBAAiB/8C,EAAO8a,GACnC4P,EAAIwG,EAAO6rB,iBAAiB/8C,EAAO0qB,GAEzC,MAAO,CACLoyB,MAAOtB,EAAOriD,IAAU,GACxBvG,MAAO,IAAMkoB,EAAI,KAAO4P,EAAI,IAEhC,CAEAqpB,MAAAA,CAAOpc,GACL,MAAMxH,EAAOt+B,KAAK2kD,aACXrmD,KAAMigC,EAAS,IAAMD,EAEtBE,EAAqBx+B,KAAKqjC,MAAMqpB,oBACtC,IAAI,MAACtwB,EAAA,MAAOsC,GAASL,GAAiCC,EAAMC,EAAQC,GAUpE,GARAx+B,KAAKmmD,WAAa/pB,EAClBp8B,KAAKomD,WAAa1nB,EAEdS,GAAoBb,KACtBlC,EAAQ,EACRsC,EAAQH,EAAOljC,QAGb2E,KAAKqG,QAAQogC,SAAU,CAGpBzmC,KAAKymD,oBACRzmD,KAAK8mD,cAEP,MAAOG,QAAS74C,EAAA,SAAMwpD,GAAYt5B,EAGlClwB,EAAKiwC,OAASr+C,KAAKqjC,MACnBj1B,EAAKowC,cAAgBx+C,KAAKsH,MAC1B8G,EAAKypD,aAAeD,EAASC,WAC7BzpD,EAAKmwB,OAASA,EAEd,MAAMl4B,EAAUrG,KAAKwrD,6BAA6B1lB,GAClDz/B,EAAQi3C,QAAUt9C,KAAKqG,QAAQi3C,QAC/Bt9C,KAAK+sD,cAAc3+C,OAAM9S,EAAW,CAClCw8D,UAAWt5B,EACXn4B,WACCy/B,EACL,MAAW9lC,KAAKymD,4BAEPnoB,EAAK2oB,QACZjnD,KAAKymD,oBAAqB,GAI5BzmD,KAAK0tD,eAAenvB,EAAQnC,EAAOsC,EAAOoH,EAC5C,CAEAghB,WAAAA,GACE,MAAM,SAACrgB,GAAYzmC,KAAKqG,SAEnBrG,KAAKymD,oBAAsBhgB,IAC9BzmC,KAAKymD,mBAAqBzmD,KAAKqjC,MAAMo1B,SAASC,WAAW,SAG3DzH,MAAMnK,aACR,CAEA4G,cAAAA,CAAenvB,EAAQnC,EAAOsC,EAAOoH,GACnC,MAAMqiB,EAAiB,UAATriB,GACR,OAAClH,EAAA,OAAQ2lB,EAAA,SAAQsC,EAAA,SAAU+Q,GAAY53D,KAAK2kD,YAC5CiI,EAAY5sD,KAAKyrD,0BAA0BrvB,EAAO0J,GAClD2mB,EAAgBzsD,KAAKusD,iBAAiBK,GACtCJ,EAAiBxsD,KAAKwsD,eAAe1mB,EAAM2mB,GAC3C5H,EAAQjmB,EAAOE,KACfgmB,EAAQP,EAAOzlB,MACf,SAAC2Y,EAAA,QAAU6F,GAAWt9C,KAAKqG,QAC3B0xD,EAAeh+D,GAAS09C,GAAYA,EAAWh0C,OAAOm2B,kBACtDo+B,EAAeh4D,KAAKqjC,MAAMqpB,qBAAuBvE,GAAkB,SAATriB,EAChE,IAAIoyB,EAAa97B,EAAQ,GAAKp8B,KAAKgqD,UAAU5tB,EAAQ,GAErD,IAAK,IAAIlhC,EAAIkhC,EAAOlhC,EAAIkhC,EAAQsC,IAASxjC,EAAG,CAC1C,MAAM2yC,EAAQtP,EAAOrjC,GACfiT,EAASnO,KAAKgqD,UAAU9uD,GACxB2sC,EAAamwB,EAAenqB,EAAQ,GACpCsqB,EAAWnhC,EAAc7oB,EAAO22C,IAChC5N,EAASrP,EAAWgd,GAASjmB,EAAOM,iBAAiB/wB,EAAO02C,GAAQ3pD,GACpEi8C,EAAStP,EAAWid,GAASqD,GAASgQ,EAAW5T,EAAO6Q,eAAiB7Q,EAAOrlB,iBAAiB2nB,EAAW7mD,KAAK0jD,WAAWa,EAAQp2C,EAAQ04C,GAAY14C,EAAO22C,GAAQ5pD,GAE7K2sC,EAAW2N,KAAO7a,MAAMuc,IAAWvc,MAAMwc,IAAWghB,EACpDtwB,EAAWoZ,KAAO/lD,EAAI,GAAK8C,KAAMq8B,IAAIlsB,EAAO02C,GAASqT,EAAWrT,IAAWkT,EACvEza,IACFzV,EAAW15B,OAASA,EACpB05B,EAAW8jB,IAAMiM,EAASt5D,KAAKpD,IAG7BsxD,IACF3kB,EAAWxhC,QAAUomD,GAAiBzsD,KAAKyrD,0BAA0BvwD,EAAG2yC,EAAM/F,OAAS,SAAWhC,IAG/FkyB,GACHh4D,KAAK+sD,cAAclf,EAAO3yC,EAAG2sC,EAAY/B,GAG3CoyB,EAAa/pD,CACf,CAEAnO,KAAK8sD,oBAAoBL,EAAe3mB,EAAM8mB,EAChD,CAKA7B,cAAAA,GACE,MAAMzsB,EAAOt+B,KAAK2kD,YACZrmD,EAAOggC,EAAKhgC,MAAQ,GAE1B,IAAK0B,KAAKqG,QAAQogC,SAAU,CAC1B,IAAI9f,EAAM,EACV,IAAK,IAAIzrB,EAAIoD,EAAKjD,OAAS,EAAGH,GAAK,IAAKA,EACtCyrB,EAAM3oB,KAAK2oB,IAAIA,EAAKroB,EAAKpD,GAAG0I,KAAK5D,KAAKyrD,0BAA0BvwD,IAAM,GAExE,OAAOyrB,EAAM,GAAKA,EAGpB,MAAMsgC,EAAU3oB,EAAK2oB,QACfzd,EAASyd,EAAQ5gD,SAAW4gD,EAAQ5gD,QAAQqnC,aAAe,EAEjE,IAAKpvC,EAAKjD,OACR,OAAOmuC,EAGT,MAAMmM,EAAar3C,EAAK,GAAGsF,KAAK5D,KAAKyrD,0BAA0B,IACzD2M,EAAY95D,EAAKA,EAAKjD,OAAS,GAAGuI,KAAK5D,KAAKyrD,0BAA0BntD,EAAKjD,OAAS,IAC1F,OAAO2C,KAAK2oB,IAAI6iB,EAAQmM,EAAYyiB,GAAa,CACnD,KCjHF,SAASO,KACP,MAAM,IAAI/1D,MAAM,kFAClB,CAQA,MAAMg2D,GAYJ,eAAOhyB,CACLiyB,GAEAlgE,OAAOqI,OAAO43D,GAAgBhgE,UAAWigE,EAC3C,CAESxyD,QAETpH,WAAAA,CAAYoH,GACVrG,KAAKqG,QAAUA,GAAW,CAAC,CAC7B,CAGAyyD,IAAAA,GAAQ,CAERC,OAAAA,GACE,OAAOJ,IACT,CAEAzsD,KAAAA,GACE,OAAOysD,IACT,CAEA1pD,MAAAA,GACE,OAAO0pD,IACT,CAEA3kB,GAAAA,GACE,OAAO2kB,IACT,CAEAK,IAAAA,GACE,OAAOL,IACT,CAEAM,OAAAA,GACE,OAAON,IACT,CAEAO,KAAAA,GACE,OAAOP,IACT,EAGF,IAAA36C,GACS46C,GC9GT,SAASO,GAAaC,EAASt6B,EAAM/9B,EAAOglC,GAC1C,MAAM,WAACjsB,EAAU,KAAExb,EAAA,QAAMqgC,GAAWy6B,EAC9Bx6B,EAAS9kB,EAAW6qC,YAAY/lB,OACtC,GAAIA,GAAUE,IAASF,EAAOE,MAAiB,MAATA,GAAgBH,GAAWrgC,EAAKjD,OAAQ,CAC5E,MAAMg+D,EAAez6B,EAAO06B,eAAiBj8B,GAAgBH,GAC7D,IAAK6I,EACH,OAAOszB,EAAa/6D,EAAMwgC,EAAM/9B,GAC3B,GAAI+Y,EAAWosC,eAAgB,CAIpC,MAAM7+C,EAAK/I,EAAK,GACVi8B,EAA+B,oBAAhBlzB,EAAGkyD,UAA2BlyD,EAAGkyD,SAASz6B,GAC/D,GAAIvE,EAAO,CACT,MAAM6B,EAAQi9B,EAAa/6D,EAAMwgC,EAAM/9B,EAAQw5B,GACzClgB,EAAMg/C,EAAa/6D,EAAMwgC,EAAM/9B,EAAQw5B,GAC7C,MAAO,CAAC0C,GAAIb,EAAMa,GAAID,GAAI3iB,EAAI2iB,MAKpC,MAAO,CAACC,GAAI,EAAGD,GAAI1+B,EAAKjD,OAAS,EACnC,CAUA,SAASm+D,GAAyBn2B,EAAOvE,EAAMr9B,EAAUg4D,EAAS1zB,GAChE,MAAMyd,EAAWngB,EAAMq2B,+BACjB34D,EAAQU,EAASq9B,GACvB,IAAK,IAAI5jC,EAAI,EAAG28B,EAAO2rB,EAASnoD,OAAQH,EAAI28B,IAAQ38B,EAAG,CACrD,MAAM,MAACoM,EAAA,KAAOhJ,GAAQklD,EAAStoD,IACzB,GAAC+hC,EAAA,GAAID,GAAMm8B,GAAa3V,EAAStoD,GAAI4jC,EAAM/9B,EAAOglC,GACxD,IAAK,IAAIhS,EAAIkJ,EAAIlJ,GAAKiJ,IAAMjJ,EAAG,CAC7B,MAAM2kB,EAAUp6C,EAAKy1B,GAChB2kB,EAAQlD,MACXikB,EAAQ/gB,EAASpxC,EAAOysB,EAE5B,CACF,CACF,CA2BA,SAAS4lC,GAAkBt2B,EAAO5hC,EAAUq9B,EAAM86B,EAAkB5zB,GAClE,MAAMpI,EAAQ,GAEd,IAAKoI,IAAqB3C,EAAMw2B,cAAcp4D,GAC5C,OAAOm8B,EAaT,OADA47B,GAAyBn2B,EAAOvE,EAAMr9B,GATf,SAASi3C,EAAS1gB,EAAc1wB,IAChD0+B,GAAqB4H,GAAe8K,EAASrV,EAAMkoB,UAAW,KAG/D7S,EAAQohB,QAAQr4D,EAASwnB,EAAGxnB,EAASo3B,EAAG+gC,IAC1Ch8B,EAAMn/B,KAAK,CAACi6C,UAAS1gB,eAAc1wB,SAEvC,IAEgE,GACzDs2B,CACT,CAoCA,SAASm8B,GAAyB12B,EAAO5hC,EAAUq9B,EAAMiH,EAAW6zB,EAAkB5zB,GACpF,IAAIpI,EAAQ,GACZ,MAAMo8B,EA5ER,SAAkCl7B,GAChC,MAAMm7B,GAA8B,IAAvBn7B,EAAKl9B,QAAQ,KACpBs4D,GAA8B,IAAvBp7B,EAAKl9B,QAAQ,KAE1B,OAAO,SAASm6B,EAAKC,GACnB,MAAMm+B,EAASF,EAAOj8D,KAAKq8B,IAAI0B,EAAI9S,EAAI+S,EAAI/S,GAAK,EAC1CmxC,EAASF,EAAOl8D,KAAKq8B,IAAI0B,EAAIlD,EAAImD,EAAInD,GAAK,EAChD,OAAO76B,KAAK09B,KAAK19B,KAAKu2B,IAAI4lC,EAAQ,GAAKn8D,KAAKu2B,IAAI6lC,EAAQ,GAC1D,CACF,CAmEyBC,CAAyBv7B,GAChD,IAAIw7B,EAAc72D,OAAOm2B,kBAyBzB,OADA4/B,GAAyBn2B,EAAOvE,EAAMr9B,GAtBtC,SAAwBi3C,EAAS1gB,EAAc1wB,GAC7C,MAAMwyD,EAAUphB,EAAQohB,QAAQr4D,EAASwnB,EAAGxnB,EAASo3B,EAAG+gC,GACxD,GAAI7zB,IAAc+zB,EAChB,OAGF,MAAMlE,EAASld,EAAQ6hB,eAAeX,GAEtC,OADsB5zB,GAAoB3C,EAAMw2B,cAAcjE,MACzCkE,EACnB,OAGF,MAAMj+B,EAAWm+B,EAAev4D,EAAUm0D,GACtC/5B,EAAWy+B,GACb18B,EAAQ,CAAC,CAAC8a,UAAS1gB,eAAc1wB,UACjCgzD,EAAcz+B,GACLA,IAAay+B,GAEtB18B,EAAMn/B,KAAK,CAACi6C,UAAS1gB,eAAc1wB,SAEvC,IAGOs2B,CACT,CAYA,SAAS48B,GAAgBn3B,EAAO5hC,EAAUq9B,EAAMiH,EAAW6zB,EAAkB5zB,GAC3E,OAAKA,GAAqB3C,EAAMw2B,cAAcp4D,GAI9B,MAATq9B,GAAiBiH,EAEpBg0B,GAAyB12B,EAAO5hC,EAAUq9B,EAAMiH,EAAW6zB,EAAkB5zB,GA1EnF,SAA+B3C,EAAO5hC,EAAUq9B,EAAM86B,GACpD,IAAIh8B,EAAQ,GAYZ,OADA47B,GAAyBn2B,EAAOvE,EAAMr9B,GATtC,SAAwBi3C,EAAS1gB,EAAc1wB,GAC7C,MAAM,WAAC4qD,EAAA,SAAYC,GAAYzZ,EAAQ+hB,SAAS,CAAC,aAAc,YAAab,IACtE,MAACj+B,GAASP,GAAkBsd,EAAS,CAACzvB,EAAGxnB,EAASwnB,EAAG4P,EAAGp3B,EAASo3B,IAEnEsD,GAAcR,EAAOu2B,EAAYC,IACnCv0B,EAAMn/B,KAAK,CAACi6C,UAAS1gB,eAAc1wB,SAEvC,IAGOs2B,CACT,CA2DM88B,CAAsBr3B,EAAO5hC,EAAUq9B,EAAM86B,GAJxC,EAMX,CAWA,SAASe,GAAat3B,EAAO5hC,EAAUq9B,EAAMiH,EAAW6zB,GACtD,MAAMh8B,EAAQ,GACRg9B,EAAuB,MAAT97B,EAAe,WAAa,WAChD,IAAI+7B,GAAiB,EAWrB,OATArB,GAAyBn2B,EAAOvE,EAAMr9B,GAAU,CAACi3C,EAAS1gB,EAAc1wB,KAClEoxC,EAAQkiB,IAAgBliB,EAAQkiB,GAAan5D,EAASq9B,GAAO86B,KAC/Dh8B,EAAMn/B,KAAK,CAACi6C,UAAS1gB,eAAc1wB,UACnCuzD,EAAiBA,GAAkBniB,EAAQohB,QAAQr4D,EAASwnB,EAAGxnB,EAASo3B,EAAG+gC,OAM3E7zB,IAAc80B,EACT,GAEFj9B,CACT,CAMA,IAAAk9B,GAAe,CAEbtB,4BAGAuB,MAAO,CAYLzzD,KAAAA,CAAM+7B,EAAOl3B,EAAG9F,EAASuzD,GACvB,MAAMn4D,EAAWw3C,GAAoB9sC,EAAGk3B,GAElCvE,EAAOz4B,EAAQy4B,MAAQ,IACvBkH,EAAmB3/B,EAAQ2/B,mBAAoB,EAC/CpI,EAAQv3B,EAAQ0/B,UAClB4zB,GAAkBt2B,EAAO5hC,EAAUq9B,EAAM86B,EAAkB5zB,GAC3Dw0B,GAAgBn3B,EAAO5hC,EAAUq9B,GAAM,EAAO86B,EAAkB5zB,GAC9Df,EAAW,GAEjB,OAAKrH,EAAMviC,QAIXgoC,EAAMq2B,+BAA+B1+D,SAASsjC,IAC5C,MAAMh3B,EAAQs2B,EAAM,GAAGt2B,MACjBoxC,EAAUpa,EAAKhgC,KAAKgJ,GAGtBoxC,IAAYA,EAAQlD,MACtBvQ,EAASxmC,KAAK,CAACi6C,UAAS1gB,aAAcsG,EAAKh3B,MAAOA,aAI/C29B,GAbE,EAcX,EAYAgiB,OAAAA,CAAQ5jB,EAAOl3B,EAAG9F,EAASuzD,GACzB,MAAMn4D,EAAWw3C,GAAoB9sC,EAAGk3B,GAClCvE,EAAOz4B,EAAQy4B,MAAQ,KACvBkH,EAAmB3/B,EAAQ2/B,mBAAoB,EACrD,IAAIpI,EAAQv3B,EAAQ0/B,UAChB4zB,GAAkBt2B,EAAO5hC,EAAUq9B,EAAM86B,EAAkB5zB,GAC7Dw0B,GAAgBn3B,EAAO5hC,EAAUq9B,GAAM,EAAO86B,EAAkB5zB,GAElE,GAAIpI,EAAMviC,OAAS,EAAG,CACpB,MAAM28B,EAAe4F,EAAM,GAAG5F,aACxB15B,EAAO+kC,EAAM2kB,eAAehwB,GAAc15B,KAChDs/B,EAAQ,GACR,IAAK,IAAI1iC,EAAI,EAAGA,EAAIoD,EAAKjD,SAAUH,EACjC0iC,EAAMn/B,KAAK,CAACi6C,QAASp6C,EAAKpD,GAAI88B,eAAc1wB,MAAOpM,IAIvD,OAAO0iC,CACT,EAYAiQ,MAAK,CAACxK,EAAOl3B,EAAG9F,EAASuzD,IAIhBD,GAAkBt2B,EAHR4V,GAAoB9sC,EAAGk3B,GAC3Bh9B,EAAQy4B,MAAQ,KAEmB86B,EADvBvzD,EAAQ2/B,mBAAoB,GAavDg1B,OAAAA,CAAQ33B,EAAOl3B,EAAG9F,EAASuzD,GACzB,MAAMn4D,EAAWw3C,GAAoB9sC,EAAGk3B,GAClCvE,EAAOz4B,EAAQy4B,MAAQ,KACvBkH,EAAmB3/B,EAAQ2/B,mBAAoB,EACrD,OAAOw0B,GAAgBn3B,EAAO5hC,EAAUq9B,EAAMz4B,EAAQ0/B,UAAW6zB,EAAkB5zB,EACrF,EAWA/c,EAAC,CAACoa,EAAOl3B,EAAG9F,EAASuzD,IAEZe,GAAat3B,EADH4V,GAAoB9sC,EAAGk3B,GACH,IAAKh9B,EAAQ0/B,UAAW6zB,GAY/D/gC,EAAC,CAACwK,EAAOl3B,EAAG9F,EAASuzD,IAEZe,GAAat3B,EADH4V,GAAoB9sC,EAAGk3B,GACH,IAAKh9B,EAAQ0/B,UAAW6zB,KCpWnE,MAAMqB,GAAmB,CAAC,OAAQ,MAAO,QAAS,UAElD,SAASC,GAAiBrgC,EAAOp5B,GAC/B,OAAOo5B,EAAMz5B,QAAOqlB,GAAKA,EAAEnM,MAAQ7Y,GACrC,CAEA,SAAS05D,GAA4BtgC,EAAOiE,GAC1C,OAAOjE,EAAMz5B,QAAOqlB,IAA0C,IAArCw0C,GAAiBr5D,QAAQ6kB,EAAEnM,MAAemM,EAAE6yB,IAAIxa,OAASA,GACpF,CAEA,SAASs8B,GAAavgC,EAAOpD,GAC3B,OAAOoD,EAAM2zB,MAAK,CAACpuD,EAAGC,KACpB,MAAMy3B,EAAKL,EAAUp3B,EAAID,EACnB23B,EAAKN,EAAUr3B,EAAIC,EACzB,OAAOy3B,EAAGnC,SAAWoC,EAAGpC,OACtBmC,EAAGxwB,MAAQywB,EAAGzwB,MACdwwB,EAAGnC,OAASoC,EAAGpC,MAAM,GAE3B,CAuCA,SAAS0lC,GAAcC,EAASvzD,GAC9B,MAAMm8C,EAlBR,SAAqBoX,GACnB,MAAMpX,EAAS,CAAC,EAChB,IAAK,MAAMqX,KAAQD,EAAS,CAC1B,MAAM,MAACt3D,EAAK,IAAEsW,EAAA,YAAKkhD,GAAeD,EAClC,IAAKv3D,IAAUi3D,GAAiBh3B,SAAS3pB,GACvC,SAEF,MAAMq5B,EAASuQ,EAAOlgD,KAAWkgD,EAAOlgD,GAAS,CAAC06B,MAAO,EAAG+8B,OAAQ,EAAG9lC,OAAQ,EAAG/xB,KAAM,IACxF+vC,EAAOjV,QACPiV,EAAOhe,QAAU6lC,CACnB,CACA,OAAOtX,CACT,CAMiBwX,CAAYJ,IACrB,aAACK,EAAA,cAAcC,GAAiB7zD,EACtC,IAAI7M,EAAG28B,EAAMgkC,EACb,IAAK3gE,EAAI,EAAG28B,EAAOyjC,EAAQjgE,OAAQH,EAAI28B,IAAQ38B,EAAG,CAChD2gE,EAASP,EAAQpgE,GACjB,MAAM,SAAC4gE,GAAYD,EAAOviB,IACpBt1C,EAAQkgD,EAAO2X,EAAO73D,OACtBo9C,EAASp9C,GAAS63D,EAAOL,YAAcx3D,EAAM2xB,OAC/CkmC,EAAOjM,YACTiM,EAAOlyB,MAAQyX,EAASA,EAASua,EAAeG,GAAY/zD,EAAOg0D,eACnEF,EAAO1vB,OAASyvB,IAEhBC,EAAOlyB,MAAQgyB,EACfE,EAAO1vB,OAASiV,EAASA,EAASwa,EAAgBE,GAAY/zD,EAAOi0D,gBAEzE,CACA,OAAO9X,CACT,CAsBA,SAAS+X,GAAeC,EAAY3Q,EAAWnrD,EAAGC,GAChD,OAAOrC,KAAK2oB,IAAIu1C,EAAW97D,GAAImrD,EAAUnrD,IAAMpC,KAAK2oB,IAAIu1C,EAAW77D,GAAIkrD,EAAUlrD,GACnF,CAEA,SAAS87D,GAAiBD,EAAYE,GACpCF,EAAW5zB,IAAMtqC,KAAK2oB,IAAIu1C,EAAW5zB,IAAK8zB,EAAW9zB,KACrD4zB,EAAWzzB,KAAOzqC,KAAK2oB,IAAIu1C,EAAWzzB,KAAM2zB,EAAW3zB,MACvDyzB,EAAW1zB,OAASxqC,KAAK2oB,IAAIu1C,EAAW1zB,OAAQ4zB,EAAW5zB,QAC3D0zB,EAAW3zB,MAAQvqC,KAAK2oB,IAAIu1C,EAAW3zB,MAAO6zB,EAAW7zB,MAC3D,CAEA,SAAS8zB,GAAW9Q,EAAWxjD,EAAQ8zD,EAAQ3X,GAC7C,MAAM,IAAC5pC,EAAA,IAAKg/B,GAAOuiB,EACbK,EAAa3Q,EAAU2Q,WAG7B,IAAKliE,EAASsgB,GAAM,CACduhD,EAAOj4D,OAET2nD,EAAUjxC,IAAQuhD,EAAOj4D,MAE3B,MAAMI,EAAQkgD,EAAO2X,EAAO73D,QAAU,CAACJ,KAAM,EAAG86B,MAAO,GACvD16B,EAAMJ,KAAO5F,KAAK2oB,IAAI3iB,EAAMJ,KAAMi4D,EAAOjM,WAAatW,EAAInN,OAASmN,EAAI3P,OACvEkyB,EAAOj4D,KAAOI,EAAMJ,KAAOI,EAAM06B,MACjC6sB,EAAUjxC,IAAQuhD,EAAOj4D,KAGvB01C,EAAIgjB,YACNH,GAAiBD,EAAY5iB,EAAIgjB,cAGnC,MAAMC,EAAWv+D,KAAK2oB,IAAI,EAAG5e,EAAOy0D,WAAaP,GAAeC,EAAY3Q,EAAW,OAAQ,UACzFkR,EAAYz+D,KAAK2oB,IAAI,EAAG5e,EAAO20D,YAAcT,GAAeC,EAAY3Q,EAAW,MAAO,WAC1FoR,EAAeJ,IAAahR,EAAUp8C,EACtCytD,EAAgBH,IAAclR,EAAUpiD,EAK9C,OAJAoiD,EAAUp8C,EAAIotD,EACdhR,EAAUpiD,EAAIszD,EAGPZ,EAAOjM,WACV,CAACiN,KAAMF,EAAcG,MAAOF,GAC5B,CAACC,KAAMD,EAAeE,MAAOH,EACnC,CAgBA,SAASI,GAAWnN,EAAYrE,GAC9B,MAAM2Q,EAAa3Q,EAAU2Q,WAE7B,SAASc,EAAmBnkB,GAC1B,MAAM9K,EAAS,CAACtF,KAAM,EAAGH,IAAK,EAAGC,MAAO,EAAGC,OAAQ,GAInD,OAHAqQ,EAAU79C,SAASsf,IACjByzB,EAAOzzB,GAAOtc,KAAK2oB,IAAI4kC,EAAUjxC,GAAM4hD,EAAW5hD,GAAI,IAEjDyzB,CACT,CAEA,OACIivB,EADGpN,EACgB,CAAC,OAAQ,SACT,CAAC,MAAO,UACjC,CAEA,SAASqN,GAASC,EAAO3R,EAAWxjD,EAAQm8C,GAC1C,MAAMiZ,EAAa,GACnB,IAAIjiE,EAAG28B,EAAMgkC,EAAQviB,EAAK8jB,EAAOx9B,EAEjC,IAAK1kC,EAAI,EAAG28B,EAAOqlC,EAAM7hE,OAAQ+hE,EAAQ,EAAGliE,EAAI28B,IAAQ38B,EAAG,CACzD2gE,EAASqB,EAAMhiE,GACfo+C,EAAMuiB,EAAOviB,IAEbA,EAAI4I,OACF2Z,EAAOlyB,OAAS4hB,EAAUp8C,EAC1B0sD,EAAO1vB,QAAUof,EAAUpiD,EAC3B4zD,GAAWlB,EAAOjM,WAAYrE,IAEhC,MAAM,KAACsR,EAAA,MAAMC,GAAST,GAAW9Q,EAAWxjD,EAAQ8zD,EAAQ3X,GAI5DkZ,GAASP,GAAQM,EAAW9hE,OAG5BukC,EAAUA,GAAWk9B,EAEhBxjB,EAAIwiB,UACPqB,EAAW1+D,KAAKo9D,EAEpB,CAEA,OAAOuB,GAASH,GAASE,EAAY5R,EAAWxjD,EAAQm8C,IAAWtkB,CACrE,CAEA,SAASy9B,GAAW/jB,EAAK7Q,EAAMH,EAAKqB,EAAOwC,GACzCmN,EAAIhR,IAAMA,EACVgR,EAAI7Q,KAAOA,EACX6Q,EAAI/Q,MAAQE,EAAOkB,EACnB2P,EAAI9Q,OAASF,EAAM6D,EACnBmN,EAAI3P,MAAQA,EACZ2P,EAAInN,OAASA,CACf,CAEA,SAASmxB,GAAWJ,EAAO3R,EAAWxjD,EAAQm8C,GAC5C,MAAMqZ,EAAcx1D,EAAOsgC,QAC3B,IAAI,EAACpf,EAAA,EAAG4P,GAAK0yB,EAEb,IAAK,MAAMsQ,KAAUqB,EAAO,CAC1B,MAAM5jB,EAAMuiB,EAAOviB,IACbt1C,EAAQkgD,EAAO2X,EAAO73D,QAAU,CAAC06B,MAAO,EAAG+8B,OAAQ,EAAG9lC,OAAQ,GAC9DA,EAASkmC,EAAQL,YAAcx3D,EAAM2xB,QAAW,EACtD,GAAIkmC,EAAOjM,WAAY,CACrB,MAAMjmB,EAAQ4hB,EAAUp8C,EAAIwmB,EACtBwW,EAASnoC,EAAMJ,MAAQ01C,EAAInN,OAC7B9S,GAAQr1B,EAAMo4B,SAChBvD,EAAI70B,EAAMo4B,OAERkd,EAAIwiB,SACNuB,GAAW/jB,EAAKikB,EAAY90B,KAAM5P,EAAG9wB,EAAOy0D,WAAae,EAAYh1B,MAAQg1B,EAAY90B,KAAM0D,GAE/FkxB,GAAW/jB,EAAKiS,EAAU9iB,KAAOzkC,EAAMy3D,OAAQ5iC,EAAG8Q,EAAOwC,GAE3DnoC,EAAMo4B,MAAQvD,EACd70B,EAAMy3D,QAAU9xB,EAChB9Q,EAAIygB,EAAI9Q,WACH,CACL,MAAM2D,EAASof,EAAUpiD,EAAIwsB,EACvBgU,EAAQ3lC,EAAMJ,MAAQ01C,EAAI3P,MAC5BtQ,GAAQr1B,EAAMo4B,SAChBnT,EAAIjlB,EAAMo4B,OAERkd,EAAIwiB,SACNuB,GAAW/jB,EAAKrwB,EAAGs0C,EAAYj1B,IAAKqB,EAAO5hC,EAAO20D,YAAca,EAAY/0B,OAAS+0B,EAAYj1B,KAEjG+0B,GAAW/jB,EAAKrwB,EAAGsiC,EAAUjjB,IAAMtkC,EAAMy3D,OAAQ9xB,EAAOwC,GAE1DnoC,EAAMo4B,MAAQnT,EACdjlB,EAAMy3D,QAAUtvB,EAChBljB,EAAIqwB,EAAI/Q,MAEZ,CAEAgjB,EAAUtiC,EAAIA,EACdsiC,EAAU1yB,EAAIA,CAChB,CAwBA,IAAAyiC,GAAe,CAQbkC,MAAAA,CAAOn6B,EAAO9J,GACP8J,EAAM65B,QACT75B,EAAM65B,MAAQ,IAIhB3jC,EAAKuiC,SAAWviC,EAAKuiC,WAAY,EACjCviC,EAAK93B,SAAW83B,EAAK93B,UAAY,MACjC83B,EAAK5D,OAAS4D,EAAK5D,QAAU,EAE7B4D,EAAKkkC,QAAUlkC,EAAKkkC,SAAW,WAC7B,MAAO,CAAC,CACNC,EAAG,EACHrd,IAAAA,CAAKkL,GACHhyB,EAAK8mB,KAAKkL,EACZ,GAEJ,EAEAloB,EAAM65B,MAAMz+D,KAAK86B,EACnB,EAOAokC,SAAAA,CAAUt6B,EAAOu6B,GACf,MAAMt2D,EAAQ+7B,EAAM65B,MAAQ75B,EAAM65B,MAAMt7D,QAAQg8D,IAAe,GAChD,IAAXt2D,GACF+7B,EAAM65B,MAAMz7C,OAAOna,EAAO,EAE9B,EAQAm7C,SAAAA,CAAUpf,EAAO9J,EAAMlzB,GACrBkzB,EAAKuiC,SAAWz1D,EAAQy1D,SACxBviC,EAAK93B,SAAW4E,EAAQ5E,SACxB83B,EAAK5D,OAAStvB,EAAQsvB,MACxB,EAUAusB,MAAAA,CAAO7e,EAAOsG,EAAOwC,EAAQ0xB,GAC3B,IAAKx6B,EACH,OAGF,MAAMgF,EAAU8I,GAAU9N,EAAMh9B,QAAQw1D,OAAOxzB,SACzC0zB,EAAiB/9D,KAAK2oB,IAAIgjB,EAAQtB,EAAQsB,MAAO,GACjDqyB,EAAkBh+D,KAAK2oB,IAAIwlB,EAAS9D,EAAQ8D,OAAQ,GACpD+wB,EA5QV,SAA0BA,GACxB,MAAMY,EA1DR,SAAmBZ,GACjB,MAAMY,EAAc,GACpB,IAAI5iE,EAAG28B,EAAMyhB,EAAKh/B,EAAKtW,EAAOw3D,EAE9B,IAAKtgE,EAAI,EAAG28B,GAAQqlC,GAAS,IAAI7hE,OAAQH,EAAI28B,IAAQ38B,EACnDo+C,EAAM4jB,EAAMhiE,KACVuG,SAAU6Y,EAAKjU,SAAUrC,QAAOw3D,cAAc,IAAMliB,GACtDwkB,EAAYr/D,KAAK,CACf6I,MAAOpM,EACPo+C,MACAh/B,MACAs1C,WAAYtW,EAAI+b,eAChB1/B,OAAQ2jB,EAAI3jB,OACZ3xB,MAAOA,GAAUsW,EAAMtW,EACvBw3D,gBAGJ,OAAOsC,CACT,CAwCsBC,CAAUb,GACxBpB,EAAWV,GAAa0C,EAAY18D,QAAOm6D,GAAQA,EAAKjiB,IAAIwiB,YAAW,GACvErzB,EAAO2yB,GAAaF,GAAiB4C,EAAa,SAAS,GAC3Dv1B,EAAQ6yB,GAAaF,GAAiB4C,EAAa,UACnDx1B,EAAM8yB,GAAaF,GAAiB4C,EAAa,QAAQ,GACzDt1B,EAAS4yB,GAAaF,GAAiB4C,EAAa,WACpDE,EAAmB7C,GAA4B2C,EAAa,KAC5DG,EAAiB9C,GAA4B2C,EAAa,KAEhE,MAAO,CACLhC,WACAoC,WAAYz1B,EAAKziC,OAAOsiC,GACxB61B,eAAgB51B,EAAMviC,OAAOi4D,GAAgBj4D,OAAOwiC,GAAQxiC,OAAOg4D,GACnEzS,UAAW2P,GAAiB4C,EAAa,aACzCM,SAAU31B,EAAKziC,OAAOuiC,GAAOviC,OAAOi4D,GACpCrO,WAAYtnB,EAAItiC,OAAOwiC,GAAQxiC,OAAOg4D,GAE1C,CA0PkBK,CAAiBh7B,EAAM65B,OAC/BoB,EAAgBpB,EAAMkB,SACtBG,EAAkBrB,EAAMtN,WAI9Br4B,EAAK8L,EAAM65B,OAAO5jB,IACgB,oBAArBA,EAAIklB,cACbllB,EAAIklB,kBA+BR,MAAMC,EAA0BH,EAAczd,QAAO,CAAC1tC,EAAOooD,IAC3DA,EAAKjiB,IAAIjzC,UAAwC,IAA7Bk1D,EAAKjiB,IAAIjzC,QAAQqiC,QAAoBv1B,EAAQA,EAAQ,GAAG,IAAM,EAE9EpL,EAASpP,OAAOwzD,OAAO,CAC3BqQ,WAAY7yB,EACZ+yB,YAAavwB,EACb9D,UACA0zB,iBACAC,kBACAL,aAAcI,EAAiB,EAAI0C,EACnC7C,cAAeI,EAAkB,IAE7BE,EAAavjE,OAAOqI,OAAO,CAAC,EAAGqnC,GACrC8zB,GAAiBD,EAAY/qB,GAAU0sB,IACvC,MAAMtS,EAAY5yD,OAAOqI,OAAO,CAC9Bk7D,aACA/sD,EAAG4sD,EACH5yD,EAAG6yD,EACH/yC,EAAGof,EAAQI,KACX5P,EAAGwP,EAAQC,KACVD,GAEG6b,EAASmX,GAAciD,EAAct4D,OAAOu4D,GAAkBx2D,GAGpEk1D,GAASC,EAAMpB,SAAUvQ,EAAWxjD,EAAQm8C,GAG5C+Y,GAASqB,EAAe/S,EAAWxjD,EAAQm8C,GAGvC+Y,GAASsB,EAAiBhT,EAAWxjD,EAAQm8C,IAE/C+Y,GAASqB,EAAe/S,EAAWxjD,EAAQm8C,GApRjD,SAA0BqH,GACxB,MAAM2Q,EAAa3Q,EAAU2Q,WAE7B,SAASwC,EAAUpkD,GACjB,MAAMqkD,EAAS3gE,KAAK2oB,IAAIu1C,EAAW5hD,GAAOixC,EAAUjxC,GAAM,GAE1D,OADAixC,EAAUjxC,IAAQqkD,EACXA,CACT,CACApT,EAAU1yB,GAAK6lC,EAAU,OACzBnT,EAAUtiC,GAAKy1C,EAAU,QACzBA,EAAU,SACVA,EAAU,SACZ,CA2QIE,CAAiBrT,GAGjB+R,GAAWJ,EAAMgB,WAAY3S,EAAWxjD,EAAQm8C,GAGhDqH,EAAUtiC,GAAKsiC,EAAUp8C,EACzBo8C,EAAU1yB,GAAK0yB,EAAUpiD,EAEzBm0D,GAAWJ,EAAMiB,eAAgB5S,EAAWxjD,EAAQm8C,GAEpD7gB,EAAMkoB,UAAY,CAChB9iB,KAAM8iB,EAAU9iB,KAChBH,IAAKijB,EAAUjjB,IACfC,MAAOgjB,EAAU9iB,KAAO8iB,EAAUp8C,EAClCq5B,OAAQ+iB,EAAUjjB,IAAMijB,EAAUpiD,EAClCgjC,OAAQof,EAAUpiD,EAClBwgC,MAAO4hB,EAAUp8C,GAInBooB,EAAK2lC,EAAM3R,WAAYsQ,IACrB,MAAMviB,EAAMuiB,EAAOviB,IACnB3gD,OAAOqI,OAAOs4C,EAAKjW,EAAMkoB,WACzBjS,EAAI4I,OAAOqJ,EAAUp8C,EAAGo8C,EAAUpiD,EAAG,CAACs/B,KAAM,EAAGH,IAAK,EAAGC,MAAO,EAAGC,OAAQ,GAAG,GAEhF,GC7ba,MAAMq2B,GAOnBC,cAAAA,CAAe/yB,EAAQqO,GAAc,CAQrC2kB,cAAAA,CAAe5iE,GACb,OAAO,CACT,CASAgC,gBAAAA,CAAiBklC,EAAO9pC,EAAMqZ,GAAW,CAQzCsF,mBAAAA,CAAoBmrB,EAAO9pC,EAAMqZ,GAAW,CAK5CoyB,mBAAAA,GACE,OAAO,CACT,CASAiV,cAAAA,CAAevB,EAAS/O,EAAOwC,EAAQiO,GAGrC,OAFAzQ,EAAQ3rC,KAAK2oB,IAAI,EAAGgjB,GAAS+O,EAAQ/O,OACrCwC,EAASA,GAAUuM,EAAQvM,OACpB,CACLxC,QACAwC,OAAQnuC,KAAK2oB,IAAI,EAAGyzB,EAAcp8C,KAAKmT,MAAMw4B,EAAQyQ,GAAejO,GAExE,CAMA6yB,UAAAA,CAAWjzB,GACT,OAAO,CACT,CAMAkzB,YAAAA,CAAav6D,GAEb,ECrEa,MAAMw6D,WAAsBL,GACzCC,cAAAA,CAAevlC,GAIb,OAAOA,GAAQA,EAAKyS,YAAczS,EAAKyS,WAAW,OAAS,IAC7D,CACAizB,YAAAA,CAAav6D,GACXA,EAAO2B,QAAQs+B,WAAY,CAC7B,ECRF,MAAMw6B,GAAc,WAOdC,GAAc,CAClBC,WAAY,YACZC,UAAW,YACXC,SAAU,UACVC,aAAc,aACdC,YAAa,YACbC,YAAa,YACbC,UAAW,UACXC,aAAc,WACdC,WAAY,YAGRC,GAAgB/+D,GAAmB,OAAVA,GAA4B,KAAVA,EA8DjD,MAAMg/D,KAAuBzkB,IAA+B,CAACE,SAAS,GAQtE,SAASwkB,GAAe38B,EAAO9pC,EAAMqZ,GAC/BywB,GAASA,EAAM0I,QACjB1I,EAAM0I,OAAO7zB,oBAAoB3e,EAAMqZ,EAAUmtD,GAErD,CAcA,SAASE,GAAiBC,EAAUn0B,GAClC,IAAK,MAAM1H,KAAQ67B,EACjB,GAAI77B,IAAS0H,GAAU1H,EAAK87B,SAASp0B,GACnC,OAAO,CAGb,CAEA,SAASq0B,GAAqB/8B,EAAO9pC,EAAMqZ,GACzC,MAAMm5B,EAAS1I,EAAM0I,OACfs0B,EAAW,IAAIC,kBAAiB11D,IACpC,IAAI21D,GAAU,EACd,IAAK,MAAMxR,KAASnkD,EAClB21D,EAAUA,GAAWN,GAAiBlR,EAAMyR,WAAYz0B,GACxDw0B,EAAUA,IAAYN,GAAiBlR,EAAM0R,aAAc10B,GAEzDw0B,GACF3tD,OAIJ,OADAytD,EAASK,QAAQ92D,SAAU,CAAC+2D,WAAW,EAAMC,SAAS,IAC/CP,CACT,CAEA,SAASQ,GAAqBx9B,EAAO9pC,EAAMqZ,GACzC,MAAMm5B,EAAS1I,EAAM0I,OACfs0B,EAAW,IAAIC,kBAAiB11D,IACpC,IAAI21D,GAAU,EACd,IAAK,MAAMxR,KAASnkD,EAClB21D,EAAUA,GAAWN,GAAiBlR,EAAM0R,aAAc10B,GAC1Dw0B,EAAUA,IAAYN,GAAiBlR,EAAMyR,WAAYz0B,GAEvDw0B,GACF3tD,OAIJ,OADAytD,EAASK,QAAQ92D,SAAU,CAAC+2D,WAAW,EAAMC,SAAS,IAC/CP,CACT,CAEA,MAAMS,GAAqB,IAAIv+B,IAC/B,IAAIw+B,GAAsB,EAE1B,SAASC,KACP,MAAMC,EAAMjlE,OAAO+oC,iBACfk8B,IAAQF,KAGZA,GAAsBE,EACtBH,GAAmB9lE,SAAQ,CAAC+sC,EAAQ1E,KAC9BA,EAAMuI,0BAA4Bq1B,GACpCl5B,OAGN,CAgBA,SAASm5B,GAAqB79B,EAAO9pC,EAAMqZ,GACzC,MAAMm5B,EAAS1I,EAAM0I,OACfyO,EAAYzO,GAAUmM,GAAenM,GAC3C,IAAKyO,EACH,OAEF,MAAMzS,EAASp0B,IAAU,CAACg2B,EAAOwC,KAC/B,MAAMh9B,EAAIqrC,EAAUI,YACpBhoC,EAAS+2B,EAAOwC,GACZh9B,EAAIqrC,EAAUI,aAQhBhoC,MAED5W,QAGGqkE,EAAW,IAAIc,gBAAev2D,IAClC,MAAMmkD,EAAQnkD,EAAQ,GAChB++B,EAAQolB,EAAMqS,YAAYz3B,MAC1BwC,EAAS4iB,EAAMqS,YAAYj1B,OAInB,IAAVxC,GAA0B,IAAXwC,GAGnBpE,EAAO4B,EAAOwC,EAAA,IAKhB,OAHAk0B,EAASK,QAAQlmB,GAhDnB,SAAuCnX,EAAO0E,GACvC+4B,GAAmBl9D,MACtB5H,OAAOmC,iBAAiB,SAAU6iE,IAEpCF,GAAmBn+D,IAAI0gC,EAAO0E,EAChC,CA4CEs5B,CAA8Bh+B,EAAO0E,GAE9Bs4B,CACT,CAEA,SAASiB,GAAgBj+B,EAAO9pC,EAAM8mE,GAChCA,GACFA,EAASkB,aAEE,WAAThoE,GAnDN,SAAyC8pC,GACvCy9B,GAAmBjyD,OAAOw0B,GACrBy9B,GAAmBl9D,MACtB5H,OAAOkc,oBAAoB,SAAU8oD,GAEzC,CA+CIQ,CAAgCn+B,EAEpC,CAEA,SAASo+B,GAAqBp+B,EAAO9pC,EAAMqZ,GACzC,MAAMm5B,EAAS1I,EAAM0I,OACf0G,EAAQ9+B,IAAWF,IAIL,OAAd4vB,EAAMoC,KACR7yB,EA1IN,SAAyBa,EAAO4vB,GAC9B,MAAM9pC,EAAO6lE,GAAY3rD,EAAMla,OAASka,EAAMla,MACxC,EAAC0vB,EAAC,EAAE4P,GAAKogB,GAAoBxlC,EAAO4vB,GAC1C,MAAO,CACL9pC,OACA8pC,QACAq+B,OAAQjuD,EACRwV,OAAS3tB,IAAN2tB,EAAkBA,EAAI,KACzB4P,OAASv9B,IAANu9B,EAAkBA,EAAI,KAE7B,CAgIe8oC,CAAgBluD,EAAO4vB,MAEjCA,GAIH,OA5JF,SAAqBgB,EAAM9qC,EAAMqZ,GAC3ByxB,GACFA,EAAKlmC,iBAAiB5E,EAAMqZ,EAAUmtD,GAE1C,CAsJE6B,CAAY71B,EAAQxyC,EAAMk5C,GAEnBA,CACT,CAMe,MAAMovB,WAAoBhD,GAOvCC,cAAAA,CAAe/yB,EAAQqO,GAIrB,MAAMj+C,EAAU4vC,GAAUA,EAAOC,YAAcD,EAAOC,WAAW,MASjE,OAAI7vC,GAAWA,EAAQ4vC,SAAWA,GA/OtC,SAAoBA,EAAQqO,GAC1B,MAAM/U,EAAQ0G,EAAO1G,MAIfy8B,EAAe/1B,EAAOg2B,aAAa,UACnCC,EAAcj2B,EAAOg2B,aAAa,SAsBxC,GAnBAh2B,EAAOozB,IAAe,CACpBpf,QAAS,CACP5T,OAAQ21B,EACRn4B,MAAOq4B,EACP38B,MAAO,CACLqD,QAASrD,EAAMqD,QACfyD,OAAQ9G,EAAM8G,OACdxC,MAAOtE,EAAMsE,SAQnBtE,EAAMqD,QAAUrD,EAAMqD,SAAW,QAEjCrD,EAAM8T,UAAY9T,EAAM8T,WAAa,aAEjC2mB,GAAckC,GAAc,CAC9B,MAAMC,EAAexmB,GAAa1P,EAAQ,cACrBzwC,IAAjB2mE,IACFl2B,EAAOpC,MAAQs4B,GAInB,GAAInC,GAAcgC,GAChB,GAA4B,KAAxB/1B,EAAO1G,MAAM8G,OAIfJ,EAAOI,OAASJ,EAAOpC,OAASyQ,GAAe,OAC1C,CACL,MAAM8nB,EAAgBzmB,GAAa1P,EAAQ,eACrBzwC,IAAlB4mE,IACFn2B,EAAOI,OAAS+1B,GAMxB,CAgMMC,CAAWp2B,EAAQqO,GACZj+C,GAGF,IACT,CAKA4iE,cAAAA,CAAe5iE,GACb,MAAM4vC,EAAS5vC,EAAQ4vC,OACvB,IAAKA,EAAOozB,IACV,OAAO,EAGT,MAAMpf,EAAUhU,EAAOozB,IAAapf,QACpC,CAAC,SAAU,SAAS/kD,SAAS0B,IAC3B,MAAMqE,EAAQg/C,EAAQrjD,GAClBs6B,EAAcj2B,GAChBgrC,EAAOq2B,gBAAgB1lE,GAEvBqvC,EAAOs2B,aAAa3lE,EAAMqE,MAI9B,MAAMskC,EAAQ0a,EAAQ1a,OAAS,CAAC,EAahC,OAZA1sC,OAAO4C,KAAK8pC,GAAOrqC,SAASU,IAC1BqwC,EAAO1G,MAAM3pC,GAAO2pC,EAAM3pC,EAAI,IAQhCqwC,EAAOpC,MAAQoC,EAAOpC,aAEfoC,EAAOozB,KACP,CACT,CAQAhhE,gBAAAA,CAAiBklC,EAAO9pC,EAAMqZ,GAE5B5S,KAAKkY,oBAAoBmrB,EAAO9pC,GAEhC,MAAM+oE,EAAUj/B,EAAMk/B,WAAal/B,EAAMk/B,SAAW,CAAC,GAM/C9I,EALW,CACf+I,OAAQpC,GACRqC,OAAQ5B,GACR94B,OAAQm5B,IAEe3nE,IAASkoE,GAClCa,EAAQ/oE,GAAQkgE,EAAQp2B,EAAO9pC,EAAMqZ,EACvC,CAOAsF,mBAAAA,CAAoBmrB,EAAO9pC,GACzB,MAAM+oE,EAAUj/B,EAAMk/B,WAAal/B,EAAMk/B,SAAW,CAAC,GAC/C9vB,EAAQ6vB,EAAQ/oE,GAEtB,IAAKk5C,EACH,QAGe,CACf+vB,OAAQlB,GACRmB,OAAQnB,GACRv5B,OAAQu5B,IAEe/nE,IAASymE,IAC1B38B,EAAO9pC,EAAMk5C,GACrB6vB,EAAQ/oE,QAAQ+B,CAClB,CAEA0pC,mBAAAA,GACE,OAAOhpC,OAAO+oC,gBAChB,CAQAkV,cAAAA,CAAelO,EAAQpC,EAAOwC,EAAQiO,GACpC,OAAOH,GAAelO,EAAQpC,EAAOwC,EAAQiO,EAC/C,CAKA4kB,UAAAA,CAAWjzB,GACT,MAAMyO,EAAYzO,GAAUmM,GAAenM,GAC3C,SAAUyO,IAAaA,EAAUkoB,YACnC,EC9Xa,MAAMC,GAEnB/c,gBAAkB,CAAC,EACnBA,0BAAO,EAEP38B,EACA4P,EACAiP,QAAS,EACTzhC,QACA08C,YAEA6f,eAAAA,CAAgBhJ,GACd,MAAM,EAAC3wC,EAAA,EAAG4P,GAAK74B,KAAKy6D,SAAS,CAAC,IAAK,KAAMb,GACzC,MAAO,CAAC3wC,IAAG4P,IACb,CAEAgqC,QAAAA,GACE,OAAO9oE,GAASiG,KAAKipB,IAAMlvB,GAASiG,KAAK64B,EAC3C,CASA4hC,QAAAA,CAAS55D,EAAiBiiE,GACxB,MAAMljB,EAAQ5/C,KAAK+iD,YACnB,IAAK+f,IAAUljB,EAEb,OAAO5/C,KAET,MAAM7C,EAA+B,CAAC,EAItC,OAHA0D,EAAM7F,SAAS0B,IACbS,EAAIT,GAAQkjD,EAAMljD,IAASkjD,EAAMljD,GAAMorC,SAAW8X,EAAMljD,GAAMslD,IAAMhiD,KAAKtD,EAAe,IAEnFS,CACT,EC3BK,SAASgtC,GAAS5D,EAAOnD,GAC9B,MAAM2/B,EAAWx8B,EAAMlgC,QAAQ+8B,MACzB4/B,EA8BR,SAA2Bz8B,GACzB,MAAMoC,EAASpC,EAAMlgC,QAAQsiC,OACvBS,EAAa7C,EAAM08B,YACnBC,EAAW38B,EAAMooB,QAAUvlB,GAAcT,EAAS,EAAI,GACtDw6B,EAAW58B,EAAM68B,WAAah6B,EACpC,OAAOprC,KAAKmT,MAAMnT,KAAKqT,IAAI6xD,EAAUC,GACvC,CApC6BE,CAAkB98B,GACvC+8B,EAAatlE,KAAKqT,IAAI0xD,EAASQ,eAAiBP,EAAoBA,GACpEQ,EAAeT,EAASx4B,MAAMk5B,QAgEtC,SAAyBrgC,GACvB,MAAM7jC,EAAS,GACf,IAAIrE,EAAG28B,EACP,IAAK38B,EAAI,EAAG28B,EAAOuL,EAAM/nC,OAAQH,EAAI28B,EAAM38B,IACrCkoC,EAAMloC,GAAGqvC,OACXhrC,EAAOd,KAAKvD,GAGhB,OAAOqE,CACT,CAzEgDmkE,CAAgBtgC,GAAS,GACjEugC,EAAkBH,EAAanoE,OAC/BoU,EAAQ+zD,EAAa,GACrBrmC,EAAOqmC,EAAaG,EAAkB,GACtCC,EAAW,GAGjB,GAAID,EAAkBL,EAEpB,OAwEJ,SAAoBlgC,EAAOwgC,EAAUJ,EAAc9S,GACjD,IAEIx1D,EAFAwjC,EAAQ,EACR18B,EAAOwhE,EAAa,GAIxB,IADA9S,EAAU1yD,KAAK6lE,KAAKnT,GACfx1D,EAAI,EAAGA,EAAIkoC,EAAM/nC,OAAQH,IACxBA,IAAM8G,IACR4hE,EAASnlE,KAAK2kC,EAAMloC,IACpBwjC,IACA18B,EAAOwhE,EAAa9kC,EAAQgyB,GAGlC,CAtFIoT,CAAW1gC,EAAOwgC,EAAUJ,EAAcG,EAAkBL,GACrDM,EAGT,MAAMlT,EA6BR,SAA0B8S,EAAcpgC,EAAOkgC,GAC7C,MAAMS,EA6FR,SAAwBjiE,GACtB,MAAMrG,EAAMqG,EAAIzG,OAChB,IAAIH,EAAG89D,EAEP,GAAIv9D,EAAM,EACR,OAAO,EAGT,IAAKu9D,EAAOl3D,EAAI,GAAI5G,EAAI,EAAGA,EAAIO,IAAOP,EACpC,GAAI4G,EAAI5G,GAAK4G,EAAI5G,EAAI,KAAO89D,EAC1B,OAAO,EAGX,OAAOA,CACT,CA3G2BgL,CAAeR,GAClC9S,EAAUttB,EAAM/nC,OAASioE,EAI/B,IAAKS,EACH,OAAO/lE,KAAK2oB,IAAI+pC,EAAS,GAG3B,MAAMuT,EtC/BD,SAAoBljE,GACzB,MAAMxB,EAAmB,GACnBm8B,EAAO19B,KAAK09B,KAAK36B,GACvB,IAAI7F,EAEJ,IAAKA,EAAI,EAAGA,EAAIwgC,EAAMxgC,IAChB6F,EAAQ7F,IAAM,IAChBqE,EAAOd,KAAKvD,GACZqE,EAAOd,KAAKsC,EAAQ7F,IAQxB,OALIwgC,KAAiB,EAAPA,IACZn8B,EAAOd,KAAKi9B,GAGdn8B,EAAOivD,MAAK,CAACpuD,EAAGC,IAAMD,EAAIC,IAAGoH,MACtBlI,CACT,CsCckB2kE,CAAWH,GAC3B,IAAK,IAAI7oE,EAAI,EAAG28B,EAAOosC,EAAQ5oE,OAAS,EAAGH,EAAI28B,EAAM38B,IAAK,CACxD,MAAMkmD,EAAS6iB,EAAQ/oE,GACvB,GAAIkmD,EAASsP,EACX,OAAOtP,CAEX,CACA,OAAOpjD,KAAK2oB,IAAI+pC,EAAS,EAC3B,CA/CkByT,CAAiBX,EAAcpgC,EAAOkgC,GAEtD,GAAIK,EAAkB,EAAG,CACvB,IAAIzoE,EAAG28B,EACP,MAAMusC,EAAkBT,EAAkB,EAAI3lE,KAAKiU,OAAOkrB,EAAO1tB,IAAUk0D,EAAkB,IAAM,KAEnG,IADAnuB,GAAKpS,EAAOwgC,EAAUlT,EAAS15B,EAAcotC,GAAmB,EAAI30D,EAAQ20D,EAAiB30D,GACxFvU,EAAI,EAAG28B,EAAO8rC,EAAkB,EAAGzoE,EAAI28B,EAAM38B,IAChDs6C,GAAKpS,EAAOwgC,EAAUlT,EAAS8S,EAAatoE,GAAIsoE,EAAatoE,EAAI,IAGnE,OADAs6C,GAAKpS,EAAOwgC,EAAUlT,EAASvzB,EAAMnG,EAAcotC,GAAmBhhC,EAAM/nC,OAAS8hC,EAAOinC,GACrFR,EAGT,OADApuB,GAAKpS,EAAOwgC,EAAUlT,GACfkT,CACT,CA6EA,SAASpuB,GAAKpS,EAAOwgC,EAAUlT,EAAS2T,EAAYC,GAClD,MAAMloC,EAAQjF,EAAektC,EAAY,GACnChqD,EAAMrc,KAAKqT,IAAI8lB,EAAemtC,EAAUlhC,EAAM/nC,QAAS+nC,EAAM/nC,QACnE,IACIA,EAAQH,EAAG8G,EADX08B,EAAQ,EAWZ,IARAgyB,EAAU1yD,KAAK6lE,KAAKnT,GAChB4T,IACFjpE,EAASipE,EAAWD,EACpB3T,EAAUr1D,EAAS2C,KAAKmT,MAAM9V,EAASq1D,IAGzC1uD,EAAOo6B,EAEAp6B,EAAO,GACZ08B,IACA18B,EAAOhE,KAAKiU,MAAMmqB,EAAQsC,EAAQgyB,GAGpC,IAAKx1D,EAAI8C,KAAK2oB,IAAIyV,EAAO,GAAIlhC,EAAImf,EAAKnf,IAChCA,IAAM8G,IACR4hE,EAASnlE,KAAK2kC,EAAMloC,IACpBwjC,IACA18B,EAAOhE,KAAKiU,MAAMmqB,EAAQsC,EAAQgyB,GAGxC,CC7IA,MACM6T,GAAiBA,CAACh+B,EAAOmpB,EAAM/mB,IAAoB,QAAT+mB,GAA2B,SAATA,EAAkBnpB,EAAMmpB,GAAQ/mB,EAASpC,EAAMmpB,GAAQ/mB,EACnH67B,GAAgBA,CAACC,EAAalB,IAAkBvlE,KAAKqT,IAAIkyD,GAAiBkB,EAAaA,GAY7F,SAASC,GAAO5iE,EAAK6iE,GACnB,MAAMplE,EAAS,GACTqlE,EAAY9iE,EAAIzG,OAASspE,EACzBlpE,EAAMqG,EAAIzG,OAChB,IAAIH,EAAI,EAER,KAAOA,EAAIO,EAAKP,GAAK0pE,EACnBrlE,EAAOd,KAAKqD,EAAI9D,KAAKmT,MAAMjW,KAE7B,OAAOqE,CACT,CAOA,SAASslE,GAAoBt+B,EAAOj/B,EAAOw9D,GACzC,MAAMzpE,EAASkrC,EAAMnD,MAAM/nC,OACrB0pE,EAAa/mE,KAAKqT,IAAI/J,EAAOjM,EAAS,GACtC+gC,EAAQmK,EAAM+vB,YACdj8C,EAAMksB,EAAMgwB,UACZn8B,EAAU,KAChB,IACIuO,EADAq8B,EAAYz+B,EAAMsoB,gBAAgBkW,GAGtC,KAAID,IAEAn8B,EADa,IAAXttC,EACO2C,KAAK2oB,IAAIq+C,EAAY5oC,EAAO/hB,EAAM2qD,GACxB,IAAV19D,GACCi/B,EAAMsoB,gBAAgB,GAAKmW,GAAa,GAExCA,EAAYz+B,EAAMsoB,gBAAgBkW,EAAa,IAAM,EAEjEC,GAAaD,EAAaz9D,EAAQqhC,GAAUA,EAGxCq8B,EAAY5oC,EAAQhC,GAAW4qC,EAAY3qD,EAAM+f,IAIvD,OAAO4qC,CACT,CAuBA,SAASC,GAAkB5+D,GACzB,OAAOA,EAAQ8iC,UAAY9iC,EAAQ+iC,WAAa,CAClD,CAKA,SAAS87B,GAAe7+D,EAASgrC,GAC/B,IAAKhrC,EAAQqiC,QACX,OAAO,EAGT,MAAMvD,EAAOiM,GAAO/qC,EAAQ8+B,KAAMkM,GAC5BhJ,EAAU8I,GAAU9qC,EAAQgiC,SAGlC,OAFc5uC,EAAQ4M,EAAQwjC,MAAQxjC,EAAQwjC,KAAKxuC,OAAS,GAE5C8pC,EAAKG,WAAc+C,EAAQ8D,MAC7C,CAiBA,SAASg5B,GAAWhnC,EAAO18B,EAAUg2B,GAEnC,IAAIt6B,EAAM+gC,GAAmBC,GAI7B,OAHI1G,GAAyB,UAAbh2B,IAA2Bg2B,GAAwB,UAAbh2B,KACpDtE,EArHkBghC,IAAoB,SAAVA,EAAmB,QAAoB,UAAVA,EAAoB,OAASA,EAqHhFinC,CAAajoE,IAEdA,CACT,CAuCe,MAAMkoE,WAAc1C,GAGjC1jE,WAAAA,CAAYsiD,GACV0P,QAGAjxD,KAAKiJ,GAAKs4C,EAAIt4C,GAEdjJ,KAAKzG,KAAOgoD,EAAIhoD,KAEhByG,KAAKqG,aAAU/K,EAEf0E,KAAKylC,IAAM8b,EAAI9b,IAEfzlC,KAAKqjC,MAAQke,EAAIle,MAIjBrjC,KAAKsoC,SAAMhtC,EAEX0E,KAAKwoC,YAASltC,EAEd0E,KAAKyoC,UAAOntC,EAEZ0E,KAAKuoC,WAAQjtC,EAEb0E,KAAK2pC,WAAQruC,EAEb0E,KAAKmsC,YAAS7wC,EACd0E,KAAKslE,SAAW,CACd78B,KAAM,EACNF,MAAO,EACPD,IAAK,EACLE,OAAQ,GAGVxoC,KAAKqwC,cAAW/0C,EAEhB0E,KAAKs6C,eAAYh/C,EAEjB0E,KAAKulE,gBAAajqE,EAElB0E,KAAKwlE,mBAAgBlqE,EAErB0E,KAAKylE,iBAAcnqE,EAEnB0E,KAAK0lE,kBAAepqE,EAIpB0E,KAAK8+B,UAAOxjC,EAEZ0E,KAAK2lE,mBAAgBrqE,EACrB0E,KAAKqR,SAAM/V,EACX0E,KAAK2mB,SAAMrrB,EACX0E,KAAK4lE,YAAStqE,EAEd0E,KAAKojC,MAAQ,GAEbpjC,KAAK6lE,eAAiB,KAEtB7lE,KAAK8lE,YAAc,KAEnB9lE,KAAK+lE,YAAc,KACnB/lE,KAAK2uD,QAAU,EACf3uD,KAAKojE,WAAa,EAClBpjE,KAAKgmE,kBAAoB,CAAC,EAE1BhmE,KAAKs2D,iBAAch7D,EAEnB0E,KAAKu2D,eAAYj7D,EACjB0E,KAAKs5D,gBAAiB,EACtBt5D,KAAKimE,cAAW3qE,EAChB0E,KAAKkmE,cAAW5qE,EAChB0E,KAAKmmE,mBAAgB7qE,EACrB0E,KAAKomE,mBAAgB9qE,EACrB0E,KAAKqmE,aAAe,EACpBrmE,KAAKsmE,aAAe,EACpBtmE,KAAKquD,OAAS,CAAC,EACfruD,KAAKumE,mBAAoB,EACzBvmE,KAAKumD,cAAWjrD,CAClB,CAMAw9D,IAAAA,CAAKzyD,GACHrG,KAAKqG,QAAUA,EAAQutC,WAAW5zC,KAAKgsC,cAEvChsC,KAAK8+B,KAAOz4B,EAAQy4B,KAGpB9+B,KAAKkmE,SAAWlmE,KAAKkM,MAAM7F,EAAQgL,KACnCrR,KAAKimE,SAAWjmE,KAAKkM,MAAM7F,EAAQsgB,KACnC3mB,KAAKomE,cAAgBpmE,KAAKkM,MAAM7F,EAAQmgE,cACxCxmE,KAAKmmE,cAAgBnmE,KAAKkM,MAAM7F,EAAQogE,aAC1C,CAQAv6D,KAAAA,CAAMy/C,EAAKrkD,GACT,OAAOqkD,CACT,CAOA1sB,aAAAA,GACE,IAAI,SAACinC,EAAQ,SAAED,EAAQ,cAAEG,EAAA,cAAeD,GAAiBnmE,KAKzD,OAJAkmE,EAAWhvC,EAAgBgvC,EAAUziE,OAAOm2B,mBAC5CqsC,EAAW/uC,EAAgB+uC,EAAUxiE,OAAOinD,mBAC5C0b,EAAgBlvC,EAAgBkvC,EAAe3iE,OAAOm2B,mBACtDusC,EAAgBjvC,EAAgBivC,EAAe1iE,OAAOinD,mBAC/C,CACLr5C,IAAK6lB,EAAgBgvC,EAAUE,GAC/Bz/C,IAAKuQ,EAAgB+uC,EAAUE,GAC/BpnC,WAAY9H,EAASivC,GACrBlnC,WAAY/H,EAASgvC,GAEzB,CAQA5b,SAAAA,CAAUC,GACR,IACI/vB,GADA,IAAClpB,EAAA,IAAKsV,EAAA,WAAKoY,EAAA,WAAYC,GAAch/B,KAAKi/B,gBAG9C,GAAIF,GAAcC,EAChB,MAAO,CAAC3tB,MAAKsV,OAGf,MAAM+/C,EAAQ1mE,KAAKykD,0BACnB,IAAK,IAAIvpD,EAAI,EAAG28B,EAAO6uC,EAAMrrE,OAAQH,EAAI28B,IAAQ38B,EAC/Cq/B,EAAQmsC,EAAMxrE,GAAG4e,WAAWuwC,UAAUrqD,KAAMsqD,GACvCvrB,IACH1tB,EAAMrT,KAAKqT,IAAIA,EAAKkpB,EAAMlpB,MAEvB2tB,IACHrY,EAAM3oB,KAAK2oB,IAAIA,EAAK4T,EAAM5T,MAQ9B,OAHAtV,EAAM2tB,GAAc3tB,EAAMsV,EAAMA,EAAMtV,EACtCsV,EAAMoY,GAAc1tB,EAAMsV,EAAMtV,EAAMsV,EAE/B,CACLtV,IAAK6lB,EAAgB7lB,EAAK6lB,EAAgBvQ,EAAKtV,IAC/CsV,IAAKuQ,EAAgBvQ,EAAKuQ,EAAgB7lB,EAAKsV,IAEnD,CAOA21C,UAAAA,GACE,MAAO,CACL7zB,KAAMzoC,KAAKylE,aAAe,EAC1Bn9B,IAAKtoC,KAAKulE,YAAc,EACxBh9B,MAAOvoC,KAAK0lE,cAAgB,EAC5Bl9B,OAAQxoC,KAAKwlE,eAAiB,EAElC,CAOAmB,QAAAA,GACE,OAAO3mE,KAAKojC,KACd,CAKAwmB,SAAAA,GACE,MAAMtrD,EAAO0B,KAAKqjC,MAAM/kC,KACxB,OAAO0B,KAAKqG,QAAQsjD,SAAW3pD,KAAKq1D,eAAiB/2D,EAAKsoE,QAAUtoE,EAAKuoE,UAAYvoE,EAAKqrD,QAAU,EACtG,CAKAmd,aAAAA,GAAgD,IAAlCvb,EAAY9yD,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAAuH,KAAKqjC,MAAMkoB,UAEnC,OADcvrD,KAAK8lE,cAAgB9lE,KAAK8lE,YAAc9lE,KAAK+mE,mBAAmBxb,GAEhF,CAGAiT,YAAAA,GACEx+D,KAAKquD,OAAS,CAAC,EACfruD,KAAKumE,mBAAoB,CAC3B,CAMAS,YAAAA,GACE7gD,EAAKnmB,KAAKqG,QAAQ2gE,aAAc,CAAChnE,MACnC,CAUAkiD,MAAAA,CAAO7R,EAAUiK,EAAWD,GAC1B,MAAM,YAACzR,EAAW,MAAEG,EAAO3F,MAAO2/B,GAAY/iE,KAAKqG,QAC7C4gE,EAAalE,EAASkE,WAG5BjnE,KAAKgnE,eAGLhnE,KAAKqwC,SAAWA,EAChBrwC,KAAKs6C,UAAYA,EACjBt6C,KAAKslE,SAAWjrB,EAAU1hD,OAAOqI,OAAO,CACtCynC,KAAM,EACNF,MAAO,EACPD,IAAK,EACLE,OAAQ,GACP6R,GAEHr6C,KAAKojC,MAAQ,KACbpjC,KAAK+lE,YAAc,KACnB/lE,KAAK6lE,eAAiB,KACtB7lE,KAAK8lE,YAAc,KAGnB9lE,KAAKknE,sBACLlnE,KAAKmnE,gBACLnnE,KAAKonE,qBAELpnE,KAAKojE,WAAapjE,KAAKq1D,eACnBr1D,KAAK2pC,MAAQ0Q,EAAQ5R,KAAO4R,EAAQ9R,MACpCvoC,KAAKmsC,OAASkO,EAAQ/R,IAAM+R,EAAQ7R,OAGnCxoC,KAAKumE,oBACRvmE,KAAKqnE,mBACLrnE,KAAKsnE,sBACLtnE,KAAKunE,kBACLvnE,KAAK4lE,O3BnPJ,SAAmB4B,EAAuCz+B,EAAwBH,GACvF,MAAM,IAACv3B,EAAA,IAAKsV,GAAO6gD,EACb7I,EAASvnC,EAAY2R,GAAQpiB,EAAMtV,GAAO,GAC1Co2D,EAAWA,CAAC1mE,EAAeizC,IAAgBpL,GAAyB,IAAV7nC,EAAc,EAAIA,EAAQizC,EAC1F,MAAO,CACL3iC,IAAKo2D,EAASp2D,GAAMrT,KAAKq8B,IAAIskC,IAC7Bh4C,IAAK8gD,EAAS9gD,EAAKg4C,GAEvB,C2B2OoB+I,CAAU1nE,KAAM+oC,EAAOH,GACrC5oC,KAAKumE,mBAAoB,GAG3BvmE,KAAK2nE,mBAEL3nE,KAAKojC,MAAQpjC,KAAK4nE,cAAgB,GAGlC5nE,KAAK6nE,kBAIL,MAAMC,EAAkBb,EAAajnE,KAAKojC,MAAM/nC,OAChD2E,KAAK+nE,sBAAsBD,EAAkBpD,GAAO1kE,KAAKojC,MAAO6jC,GAAcjnE,KAAKojC,OAMnFpjC,KAAKyiD,YAGLziD,KAAKgoE,+BACLhoE,KAAKioE,yBACLjoE,KAAKkoE,8BAGDnF,EAASr6B,UAAYq6B,EAAS54B,UAAgC,SAApB44B,EAAS1kE,UACrD2B,KAAKojC,MAAQ+G,GAASnqC,KAAMA,KAAKojC,OACjCpjC,KAAK+lE,YAAc,KACnB/lE,KAAKmoE,iBAGHL,GAEF9nE,KAAK+nE,sBAAsB/nE,KAAKojC,OAGlCpjC,KAAKooE,YACLpoE,KAAKqoE,MACLroE,KAAKsoE,WAILtoE,KAAKuoE,aACP,CAKA9lB,SAAAA,GACE,IACIqU,EAAYE,EADZwR,EAAgBxoE,KAAKqG,QAAQoxB,QAG7Bz3B,KAAKq1D,gBACPyB,EAAa92D,KAAKyoC,KAClBuuB,EAAWh3D,KAAKuoC,QAEhBuuB,EAAa92D,KAAKsoC,IAClB0uB,EAAWh3D,KAAKwoC,OAEhBggC,GAAiBA,GAEnBxoE,KAAKs2D,YAAcQ,EACnB92D,KAAKu2D,UAAYS,EACjBh3D,KAAKs5D,eAAiBkP,EACtBxoE,KAAK2uD,QAAUqI,EAAWF,EAC1B92D,KAAKyoE,eAAiBzoE,KAAKqG,QAAQqiE,aACrC,CAEAH,WAAAA,GACEpiD,EAAKnmB,KAAKqG,QAAQkiE,YAAa,CAACvoE,MAClC,CAIAknE,mBAAAA,GACE/gD,EAAKnmB,KAAKqG,QAAQ6gE,oBAAqB,CAAClnE,MAC1C,CACAmnE,aAAAA,GAEMnnE,KAAKq1D,gBAEPr1D,KAAK2pC,MAAQ3pC,KAAKqwC,SAClBrwC,KAAKyoC,KAAO,EACZzoC,KAAKuoC,MAAQvoC,KAAK2pC,QAElB3pC,KAAKmsC,OAASnsC,KAAKs6C,UAGnBt6C,KAAKsoC,IAAM,EACXtoC,KAAKwoC,OAASxoC,KAAKmsC,QAIrBnsC,KAAKylE,YAAc,EACnBzlE,KAAKulE,WAAa,EAClBvlE,KAAK0lE,aAAe,EACpB1lE,KAAKwlE,cAAgB,CACvB,CACA4B,kBAAAA,GACEjhD,EAAKnmB,KAAKqG,QAAQ+gE,mBAAoB,CAACpnE,MACzC,CAEA2oE,UAAAA,CAAWzrE,GACT8C,KAAKqjC,MAAMulC,cAAc1rE,EAAM8C,KAAKgsC,cACpC7lB,EAAKnmB,KAAKqG,QAAQnJ,GAAO,CAAC8C,MAC5B,CAGAqnE,gBAAAA,GACErnE,KAAK2oE,WAAW,mBAClB,CACArB,mBAAAA,GAAuB,CACvBC,eAAAA,GACEvnE,KAAK2oE,WAAW,kBAClB,CAGAhB,gBAAAA,GACE3nE,KAAK2oE,WAAW,mBAClB,CAIAf,UAAAA,GACE,MAAO,EACT,CACAC,eAAAA,GACE7nE,KAAK2oE,WAAW,kBAClB,CAEAE,2BAAAA,GACE1iD,EAAKnmB,KAAKqG,QAAQwiE,4BAA6B,CAAC7oE,MAClD,CAKA8oE,kBAAAA,CAAmB1lC,GACjB,MAAM2/B,EAAW/iE,KAAKqG,QAAQ+8B,MAC9B,IAAIloC,EAAG28B,EAAM2oB,EACb,IAAKtlD,EAAI,EAAG28B,EAAOuL,EAAM/nC,OAAQH,EAAI28B,EAAM38B,IACzCslD,EAAOpd,EAAMloC,GACbslD,EAAKyK,MAAQ9kC,EAAK48C,EAAS58C,SAAU,CAACq6B,EAAKz/C,MAAO7F,EAAGkoC,GAAQpjC,KAEjE,CACA+oE,0BAAAA,GACE5iD,EAAKnmB,KAAKqG,QAAQ0iE,2BAA4B,CAAC/oE,MACjD,CAIAgoE,4BAAAA,GACE7hD,EAAKnmB,KAAKqG,QAAQ2hE,6BAA8B,CAAChoE,MACnD,CACAioE,sBAAAA,GACE,MAAM5hE,EAAUrG,KAAKqG,QACf08D,EAAW18D,EAAQ+8B,MACnB4lC,EAAWxE,GAAcxkE,KAAKojC,MAAM/nC,OAAQgL,EAAQ+8B,MAAMmgC,eAC1Dz5B,EAAci5B,EAASj5B,aAAe,EACtCC,EAAcg5B,EAASh5B,YAC7B,IACIV,EAAWiR,EAAW2uB,EADtBtD,EAAgB77B,EAGpB,IAAK9pC,KAAKkpE,eAAiBnG,EAASr6B,SAAWoB,GAAeC,GAAei/B,GAAY,IAAMhpE,KAAKq1D,eAElG,YADAr1D,KAAK2lE,cAAgB77B,GAIvB,MAAMq/B,EAAanpE,KAAKopE,iBAClBC,EAAgBF,EAAWG,OAAO3/B,MAClC4/B,EAAiBJ,EAAWK,QAAQr9B,OAIpCkE,EAAW3T,GAAY18B,KAAKqjC,MAAMsG,MAAQ0/B,EAAe,EAAGrpE,KAAKqwC,UACvEhH,EAAYhjC,EAAQsiC,OAAS3oC,KAAKqwC,SAAW24B,EAAW34B,GAAY24B,EAAW,GAG3EK,EAAgB,EAAIhgC,IACtBA,EAAYgH,GAAY24B,GAAY3iE,EAAQsiC,OAAS,GAAM,IAC3D2R,EAAYt6C,KAAKs6C,UAAY2qB,GAAkB5+D,EAAQ2iC,MACvD+5B,EAAS16B,QAAU68B,GAAe7+D,EAAQujC,MAAO5pC,KAAKqjC,MAAMh9B,QAAQ8+B,MACpE8jC,EAAmBjrE,KAAK09B,KAAK2tC,EAAgBA,EAAgBE,EAAiBA,GAC9E5D,EAAgB1qC,GAAUj9B,KAAKqT,IAC7BrT,KAAKyrE,KAAK/sC,IAAaysC,EAAWK,QAAQr9B,OAAS,GAAK9C,GAAY,EAAG,IACvErrC,KAAKyrE,KAAK/sC,GAAY4d,EAAY2uB,GAAmB,EAAG,IAAMjrE,KAAKyrE,KAAK/sC,GAAY6sC,EAAiBN,GAAmB,EAAG,MAE7HtD,EAAgB3nE,KAAK2oB,IAAImjB,EAAa9rC,KAAKqT,IAAI04B,EAAa47B,KAG9D3lE,KAAK2lE,cAAgBA,CACvB,CACAuC,2BAAAA,GACE/hD,EAAKnmB,KAAKqG,QAAQ6hE,4BAA6B,CAACloE,MAClD,CACAmoE,aAAAA,GAAiB,CAIjBC,SAAAA,GACEjiD,EAAKnmB,KAAKqG,QAAQ+hE,UAAW,CAACpoE,MAChC,CACAqoE,GAAAA,GAEE,MAAMlU,EAAU,CACdxqB,MAAO,EACPwC,OAAQ,IAGJ,MAAC9I,EAAOh9B,SAAU+8B,MAAO2/B,EAAUn5B,MAAO8/B,EAAW1gC,KAAM2gC,IAAa3pE,KACxE0oC,EAAU1oC,KAAKkpE,aACf7T,EAAer1D,KAAKq1D,eAE1B,GAAI3sB,EAAS,CACX,MAAMkhC,EAAc1E,GAAewE,EAAWrmC,EAAMh9B,QAAQ8+B,MAU5D,GATIkwB,GACFlB,EAAQxqB,MAAQ3pC,KAAKqwC,SACrB8jB,EAAQhoB,OAAS84B,GAAkB0E,GAAYC,IAE/CzV,EAAQhoB,OAASnsC,KAAKs6C,UACtB6Z,EAAQxqB,MAAQs7B,GAAkB0E,GAAYC,GAI5C7G,EAASr6B,SAAW1oC,KAAKojC,MAAM/nC,OAAQ,CACzC,MAAM,MAACoU,EAAA,KAAO0tB,EAAA,OAAMmsC,EAAA,QAAQE,GAAWxpE,KAAKopE,iBACtCS,EAAiC,EAAnB9G,EAAS16B,QACvByhC,EAAe/uC,GAAU/6B,KAAK2lE,eAC9B3kC,EAAMhjC,KAAKgjC,IAAI8oC,GACf/pC,EAAM/hC,KAAK+hC,IAAI+pC,GAErB,GAAIzU,EAAc,CAEhB,MAAM0U,EAAchH,EAAS/4B,OAAS,EAAIjK,EAAMupC,EAAO3/B,MAAQ3I,EAAMwoC,EAAQr9B,OAC7EgoB,EAAQhoB,OAASnuC,KAAKqT,IAAIrR,KAAKs6C,UAAW6Z,EAAQhoB,OAAS49B,EAAcF,OACpE,CAGL,MAAMG,EAAajH,EAAS/4B,OAAS,EAAIhJ,EAAMsoC,EAAO3/B,MAAQ5J,EAAMypC,EAAQr9B,OAE5EgoB,EAAQxqB,MAAQ3rC,KAAKqT,IAAIrR,KAAKqwC,SAAU8jB,EAAQxqB,MAAQqgC,EAAaH,GAEvE7pE,KAAKiqE,kBAAkBx6D,EAAO0tB,EAAM4C,EAAKiB,IAI7ChhC,KAAKkqE,iBAED7U,GACFr1D,KAAK2pC,MAAQ3pC,KAAK2uD,QAAUtrB,EAAMsG,MAAQ3pC,KAAKslE,SAAS78B,KAAOzoC,KAAKslE,SAAS/8B,MAC7EvoC,KAAKmsC,OAASgoB,EAAQhoB,SAEtBnsC,KAAK2pC,MAAQwqB,EAAQxqB,MACrB3pC,KAAKmsC,OAASnsC,KAAK2uD,QAAUtrB,EAAM8I,OAASnsC,KAAKslE,SAASh9B,IAAMtoC,KAAKslE,SAAS98B,OAElF,CAEAyhC,iBAAAA,CAAkBx6D,EAAO0tB,EAAM4C,EAAKiB,GAClC,MAAOoC,OAAO,MAACjF,EAAA,QAAOkK,GAAQ,SAAE5mC,GAAYzB,KAAKqG,QAC3C8jE,EAAmC,IAAvBnqE,KAAK2lE,cACjByE,EAAgC,QAAb3oE,GAAoC,MAAdzB,KAAK8+B,KAEpD,GAAI9+B,KAAKq1D,eAAgB,CACvB,MAAMgV,EAAarqE,KAAK6uD,gBAAgB,GAAK7uD,KAAKyoC,KAC5C6hC,EAActqE,KAAKuoC,MAAQvoC,KAAK6uD,gBAAgB7uD,KAAKojC,MAAM/nC,OAAS,GAC1E,IAAIoqE,EAAc,EACdC,EAAe,EAIfyE,EACEC,GACF3E,EAAczkC,EAAMvxB,EAAMk6B,MAC1B+7B,EAAe3lC,EAAM5C,EAAKgP,SAE1Bs5B,EAAc1lC,EAAMtwB,EAAM08B,OAC1Bu5B,EAAe1kC,EAAM7D,EAAKwM,OAET,UAAVxL,EACTunC,EAAevoC,EAAKwM,MACD,QAAVxL,EACTsnC,EAAch2D,EAAMk6B,MACD,UAAVxL,IACTsnC,EAAch2D,EAAMk6B,MAAQ,EAC5B+7B,EAAevoC,EAAKwM,MAAQ,GAI9B3pC,KAAKylE,YAAcznE,KAAK2oB,KAAK8+C,EAAc4E,EAAahiC,GAAWroC,KAAK2pC,OAAS3pC,KAAK2pC,MAAQ0gC,GAAa,GAC3GrqE,KAAK0lE,aAAe1nE,KAAK2oB,KAAK++C,EAAe4E,EAAcjiC,GAAWroC,KAAK2pC,OAAS3pC,KAAK2pC,MAAQ2gC,GAAc,OAC1G,CACL,IAAI/E,EAAapoC,EAAKgP,OAAS,EAC3Bq5B,EAAgB/1D,EAAM08B,OAAS,EAErB,UAAVhO,GACFonC,EAAa,EACbC,EAAgB/1D,EAAM08B,QACH,QAAVhO,IACTonC,EAAapoC,EAAKgP,OAClBq5B,EAAgB,GAGlBxlE,KAAKulE,WAAaA,EAAal9B,EAC/BroC,KAAKwlE,cAAgBA,EAAgBn9B,EAEzC,CAMA6hC,cAAAA,GACMlqE,KAAKslE,WACPtlE,KAAKslE,SAAS78B,KAAOzqC,KAAK2oB,IAAI3mB,KAAKylE,YAAazlE,KAAKslE,SAAS78B,MAC9DzoC,KAAKslE,SAASh9B,IAAMtqC,KAAK2oB,IAAI3mB,KAAKulE,WAAYvlE,KAAKslE,SAASh9B,KAC5DtoC,KAAKslE,SAAS/8B,MAAQvqC,KAAK2oB,IAAI3mB,KAAK0lE,aAAc1lE,KAAKslE,SAAS/8B,OAChEvoC,KAAKslE,SAAS98B,OAASxqC,KAAK2oB,IAAI3mB,KAAKwlE,cAAexlE,KAAKslE,SAAS98B,QAEtE,CAEA8/B,QAAAA,GACEniD,EAAKnmB,KAAKqG,QAAQiiE,SAAU,CAACtoE,MAC/B,CAMAq1D,YAAAA,GACE,MAAM,KAACv2B,EAAA,SAAMr9B,GAAYzB,KAAKqG,QAC9B,MAAoB,QAAb5E,GAAmC,WAAbA,GAAkC,MAATq9B,CACxD,CAIAyrC,UAAAA,GACE,OAAOvqE,KAAKqG,QAAQy1D,QACtB,CAMAiM,qBAAAA,CAAsB3kC,GAMpB,IAAIloC,EAAG28B,EACP,IANA73B,KAAK6oE,8BAEL7oE,KAAK8oE,mBAAmB1lC,GAInBloC,EAAI,EAAG28B,EAAOuL,EAAM/nC,OAAQH,EAAI28B,EAAM38B,IACrC87B,EAAcoM,EAAMloC,GAAG+vD,SACzB7nB,EAAM3hB,OAAOvmB,EAAG,GAChB28B,IACA38B,KAIJ8E,KAAK+oE,4BACP,CAMAK,cAAAA,GACE,IAAID,EAAanpE,KAAK+lE,YAEtB,IAAKoD,EAAY,CACf,MAAMlC,EAAajnE,KAAKqG,QAAQ+8B,MAAM6jC,WACtC,IAAI7jC,EAAQpjC,KAAKojC,MACb6jC,EAAa7jC,EAAM/nC,SACrB+nC,EAAQshC,GAAOthC,EAAO6jC,IAGxBjnE,KAAK+lE,YAAcoD,EAAanpE,KAAKwqE,mBAAmBpnC,EAAOA,EAAM/nC,OAAQ2E,KAAKqG,QAAQ+8B,MAAMmgC,eAGlG,OAAO4F,CACT,CAQAqB,kBAAAA,CAAmBpnC,EAAO/nC,EAAQkoE,GAChC,MAAM,IAAC99B,EAAKugC,kBAAmByE,GAAUzqE,KACnC0qE,EAAS,GACTC,EAAU,GACV/F,EAAY5mE,KAAKmT,MAAM9V,EAASmpE,GAAcnpE,EAAQkoE,IAC5D,IAEIroE,EAAG64B,EAAGuX,EAAM2f,EAAO2f,EAAUC,EAAY9xE,EAAOusC,EAAYqE,EAAOwC,EAAQ2+B,EAF3EC,EAAkB,EAClBC,EAAmB,EAGvB,IAAK9vE,EAAI,EAAGA,EAAIG,EAAQH,GAAK0pE,EAAW,CAQtC,GAPA3Z,EAAQ7nB,EAAMloC,GAAG+vD,MACjB2f,EAAW5qE,KAAKirE,wBAAwB/vE,GACxCuqC,EAAIN,KAAO0lC,EAAaD,EAAS7/B,OACjChyC,EAAQ0xE,EAAOI,GAAcJ,EAAOI,IAAe,CAACvsE,KAAM,CAAC,EAAGusC,GAAI,IAClEvF,EAAaslC,EAAStlC,WACtBqE,EAAQwC,EAAS,EAEZnV,EAAci0B,IAAWxxD,EAAQwxD,IAG/B,GAAIxxD,EAAQwxD,GAEjB,IAAKl3B,EAAI,EAAGuX,EAAO2f,EAAM5vD,OAAQ04B,EAAIuX,IAAQvX,EAC3C+2C,EAAqC7f,EAAMl3B,GAEtCiD,EAAc8zC,IAAiBrxE,EAAQqxE,KAC1CnhC,EAAQiB,GAAanF,EAAK1sC,EAAMuF,KAAMvF,EAAM8xC,GAAIlB,EAAOmhC,GACvD3+B,GAAU7G,QATdqE,EAAQiB,GAAanF,EAAK1sC,EAAMuF,KAAMvF,EAAM8xC,GAAIlB,EAAOshB,GACvD9e,EAAS7G,EAYXolC,EAAOjsE,KAAKkrC,GACZghC,EAAQlsE,KAAK0tC,GACb4+B,EAAkB/sE,KAAK2oB,IAAIgjB,EAAOohC,GAClCC,EAAmBhtE,KAAK2oB,IAAIwlB,EAAQ6+B,EACtC,EA/wBJ,SAAwBP,EAAQpvE,GAC9Bk8B,EAAKkzC,GAAS1xE,IACZ,MAAM8xC,EAAK9xC,EAAM8xC,GACXY,EAAQZ,EAAGxvC,OAAS,EAC1B,IAAIH,EACJ,GAAIuwC,EAAQpwC,EAAQ,CAClB,IAAKH,EAAI,EAAGA,EAAIuwC,IAASvwC,SAChBnC,EAAMuF,KAAKusC,EAAG3vC,IAEvB2vC,EAAGppB,OAAO,EAAGgqB,MAGnB,CAowBIL,CAAeq/B,EAAQpvE,GAEvB,MAAMiuE,EAASoB,EAAO9oE,QAAQmpE,GACxBvB,EAAUmB,EAAQ/oE,QAAQopE,GAE1BE,EAAWC,IAAA,CAAUxhC,MAAO+gC,EAAOS,IAAQ,EAAGh/B,OAAQw+B,EAAQQ,IAAQ,IAE5E,MAAO,CACL17D,MAAOy7D,EAAQ,GACf/tC,KAAM+tC,EAAQ7vE,EAAS,GACvBiuE,OAAQ4B,EAAQ5B,GAChBE,QAAS0B,EAAQ1B,GACjBkB,SACAC,UAEJ,CAOAzf,gBAAAA,CAAiBnqD,GACf,OAAOA,CACT,CASAm+B,gBAAAA,CAAiBn+B,EAAOuG,GACtB,OAAO8iD,GACT,CAQA6M,gBAAAA,CAAiBtrB,GAAQ,CAQzBkjB,eAAAA,CAAgBvnD,GACd,MAAM87B,EAAQpjC,KAAKojC,MACnB,OAAI97B,EAAQ,GAAKA,EAAQ87B,EAAM/nC,OAAS,EAC/B,KAEF2E,KAAKk/B,iBAAiBkE,EAAM97B,GAAOvG,MAC5C,CAQAg2D,kBAAAA,CAAmBqU,GACbprE,KAAKs5D,iBACP8R,EAAU,EAAIA,GAGhB,MAAMz/B,EAAQ3rC,KAAKs2D,YAAc8U,EAAUprE,KAAK2uD,QAChD,OvCluBKjyB,GuCkuBc18B,KAAKyoE,eAAiB/8B,GAAY1rC,KAAKqjC,MAAOsI,EAAO,GAAKA,GvCluBpD,MAAO,MuCmuBlC,CAMA0/B,kBAAAA,CAAmB1/B,GACjB,MAAMy/B,GAAWz/B,EAAQ3rC,KAAKs2D,aAAet2D,KAAK2uD,QAClD,OAAO3uD,KAAKs5D,eAAiB,EAAI8R,EAAUA,CAC7C,CAOAhW,YAAAA,GACE,OAAOp1D,KAAKk/B,iBAAiBl/B,KAAKsrE,eACpC,CAKAA,YAAAA,GACE,MAAM,IAACj6D,EAAG,IAAEsV,GAAO3mB,KAEnB,OAAOqR,EAAM,GAAKsV,EAAM,EAAIA,EAC1BtV,EAAM,GAAKsV,EAAM,EAAItV,EACrB,CACJ,CAKA26B,UAAAA,CAAW1kC,GACT,MAAM87B,EAAQpjC,KAAKojC,OAAS,GAE5B,GAAI97B,GAAS,GAAKA,EAAQ87B,EAAM/nC,OAAQ,CACtC,MAAMmlD,EAAOpd,EAAM97B,GACnB,OAAOk5C,EAAK+F,WACb/F,EAAK+F,SAr1BV,SAA2B5R,EAAQrtC,EAAOk5C,GACxC,OAAO9O,GAAciD,EAAQ,CAC3B6L,OACAl5C,QACA/N,KAAM,QAEV,CA+0BqBgyE,CAAkBvrE,KAAKgsC,aAAc1kC,EAAOk5C,IAE7D,OAAOxgD,KAAKumD,WACZvmD,KAAKumD,SA91BA7U,GA81B8B1xC,KAAKqjC,MAAM2I,aA91BnB,CAC3BzF,MA61B4DvmC,KA51B5DzG,KAAM,UA61BR,CAMA0pE,SAAAA,GACE,MAAMuI,EAAcxrE,KAAKqG,QAAQ+8B,MAG3BqoC,EAAM1wC,GAAU/6B,KAAK2lE,eACrB3kC,EAAMhjC,KAAKq8B,IAAIr8B,KAAKgjC,IAAIyqC,IACxB1rC,EAAM/hC,KAAKq8B,IAAIr8B,KAAK+hC,IAAI0rC,IAExBtC,EAAanpE,KAAKopE,iBAClB/gC,EAAUmjC,EAAYphC,iBAAmB,EACzCj7B,EAAIg6D,EAAaA,EAAWG,OAAO3/B,MAAQtB,EAAU,EACrDl/B,EAAIggE,EAAaA,EAAWK,QAAQr9B,OAAS9D,EAAU,EAG7D,OAAOroC,KAAKq1D,eACRlsD,EAAI63B,EAAM7xB,EAAI4wB,EAAM5wB,EAAI6xB,EAAM73B,EAAI42B,EAClC52B,EAAI42B,EAAM5wB,EAAI6xB,EAAM73B,EAAI63B,EAAM7xB,EAAI4wB,CACxC,CAMAmpC,UAAAA,GACE,MAAMxgC,EAAU1oC,KAAKqG,QAAQqiC,QAE7B,MAAgB,SAAZA,IACOA,EAGJ1oC,KAAKykD,0BAA0BppD,OAAS,CACjD,CAKAqwE,qBAAAA,CAAsBngB,GACpB,MAAMzsB,EAAO9+B,KAAK8+B,KACZuE,EAAQrjC,KAAKqjC,MACbh9B,EAAUrG,KAAKqG,SACf,KAAC2iC,EAAI,SAAEvnC,EAAA,OAAU+nC,GAAUnjC,EAC3BsiC,EAASK,EAAKL,OACd0sB,EAAer1D,KAAKq1D,eAEpBoP,EADQzkE,KAAKojC,MACO/nC,QAAUstC,EAAS,EAAI,GAC3CgjC,EAAK1G,GAAkBj8B,GACvBpL,EAAQ,GAERguC,EAAapiC,EAAOoK,WAAW5zC,KAAKgsC,cACpC6/B,EAAYD,EAAWljC,QAAUkjC,EAAWjiC,MAAQ,EACpDmiC,EAAgBD,EAAY,EAC5BE,EAAmB,SAASpgC,GAChC,OAAOD,GAAYrI,EAAOsI,EAAOkgC,EACnC,EACA,IAAIG,EAAa9wE,EAAG8pE,EAAWiH,EAC3BC,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,EAAIC,EAAIC,EAEpC,GAAiB,QAAbhrE,EACFuqE,EAAcD,EAAiB/rE,KAAKwoC,QACpC2jC,EAAMnsE,KAAKwoC,OAASmjC,EACpBU,EAAML,EAAcF,EACpBS,EAAKR,EAAiBxgB,EAAUjjB,KAAOwjC,EACvCW,EAAKlhB,EAAU/iB,YACV,GAAiB,WAAb/mC,EACTuqE,EAAcD,EAAiB/rE,KAAKsoC,KACpCikC,EAAKhhB,EAAUjjB,IACfmkC,EAAKV,EAAiBxgB,EAAU/iB,QAAUsjC,EAC1CK,EAAMH,EAAcF,EACpBO,EAAMrsE,KAAKsoC,IAAMqjC,OACZ,GAAiB,SAAblqE,EACTuqE,EAAcD,EAAiB/rE,KAAKuoC,OACpC2jC,EAAMlsE,KAAKuoC,MAAQojC,EACnBS,EAAMJ,EAAcF,EACpBQ,EAAKP,EAAiBxgB,EAAU9iB,MAAQqjC,EACxCU,EAAKjhB,EAAUhjB,WACV,GAAiB,UAAb9mC,EACTuqE,EAAcD,EAAiB/rE,KAAKyoC,MACpC6jC,EAAK/gB,EAAU9iB,KACf+jC,EAAKT,EAAiBxgB,EAAUhjB,OAASujC,EACzCI,EAAMF,EAAcF,EACpBM,EAAMpsE,KAAKyoC,KAAOkjC,OACb,GAAa,MAAT7sC,EAAc,CACvB,GAAiB,WAAbr9B,EACFuqE,EAAcD,GAAkBxgB,EAAUjjB,IAAMijB,EAAU/iB,QAAU,EAAI,SACnE,GAAIxuC,EAASyH,GAAW,CAC7B,MAAMirE,EAAiB/zE,OAAO4C,KAAKkG,GAAU,GACvCV,EAAQU,EAASirE,GACvBV,EAAcD,EAAiB/rE,KAAKqjC,MAAMmD,OAAOkmC,GAAgBxtC,iBAAiBn+B,IAGpFwrE,EAAKhhB,EAAUjjB,IACfmkC,EAAKlhB,EAAU/iB,OACf2jC,EAAMH,EAAcF,EACpBO,EAAMF,EAAMR,OACP,GAAa,MAAT7sC,EAAc,CACvB,GAAiB,WAAbr9B,EACFuqE,EAAcD,GAAkBxgB,EAAU9iB,KAAO8iB,EAAUhjB,OAAS,QAC/D,GAAIvuC,EAASyH,GAAW,CAC7B,MAAMirE,EAAiB/zE,OAAO4C,KAAKkG,GAAU,GACvCV,EAAQU,EAASirE,GACvBV,EAAcD,EAAiB/rE,KAAKqjC,MAAMmD,OAAOkmC,GAAgBxtC,iBAAiBn+B,IAGpFmrE,EAAMF,EAAcF,EACpBM,EAAMF,EAAMP,EACZW,EAAK/gB,EAAU9iB,KACf+jC,EAAKjhB,EAAUhjB,MAGjB,MAAMokC,EAAQx1C,EAAe9wB,EAAQ+8B,MAAMmgC,cAAekB,GACpDmI,EAAO5uE,KAAK2oB,IAAI,EAAG3oB,KAAK6lE,KAAKY,EAAckI,IACjD,IAAKzxE,EAAI,EAAGA,EAAIupE,EAAavpE,GAAK0xE,EAAM,CACtC,MAAMzwE,EAAU6D,KAAKgsC,WAAW9wC,GAC1B2xE,EAAc7jC,EAAK4K,WAAWz3C,GAC9B2wE,EAAoBtjC,EAAOoK,WAAWz3C,GAEtC8sC,EAAY4jC,EAAY5jC,UACxB8jC,EAAYF,EAAYn3C,MACxBypB,EAAa2tB,EAAkBrjC,MAAQ,GACvC2V,EAAmB0tB,EAAkBpjC,WAErCL,EAAYwjC,EAAYxjC,UACxBE,EAAYsjC,EAAYtjC,UACxByjC,EAAiBH,EAAYG,gBAAkB,GAC/CC,EAAuBJ,EAAYI,qBAEzCjI,EAAYH,GAAoB7kE,KAAM9E,EAAGytC,QAGvBrtC,IAAd0pE,IAIJiH,EAAmBvgC,GAAYrI,EAAO2hC,EAAW/7B,GAE7CosB,EACF6W,EAAME,EAAME,EAAKE,EAAKP,EAEtBE,EAAME,EAAME,EAAKE,EAAKR,EAGxBruC,EAAMn/B,KAAK,CACTytE,MACAC,MACAC,MACAC,MACAC,KACAC,KACAC,KACAC,KACA9iC,MAAOV,EACPvT,MAAOq3C,EACP5tB,aACAC,mBACA/V,YACAE,YACAyjC,iBACAC,yBAEJ,CAKA,OAHAjtE,KAAKqmE,aAAe5B,EACpBzkE,KAAKsmE,aAAe0F,EAEbpuC,CACT,CAKAmpC,kBAAAA,CAAmBxb,GACjB,MAAMzsB,EAAO9+B,KAAK8+B,KACZz4B,EAAUrG,KAAKqG,SACf,SAAC5E,EAAU2hC,MAAOooC,GAAenlE,EACjCgvD,EAAer1D,KAAKq1D,eACpBjyB,EAAQpjC,KAAKojC,OACb,MAACjF,EAAA,WAAOqM,EAAA,QAAYnC,EAAO,OAAE2B,GAAUwhC,EACvCG,EAAK1G,GAAkB5+D,EAAQ2iC,MAC/BkkC,EAAiBvB,EAAKtjC,EACtB8kC,EAAkBnjC,GAAU3B,EAAU6kC,EACtCtgC,GAAY7R,GAAU/6B,KAAK2lE,eAC3B/nC,EAAQ,GACd,IAAI1iC,EAAG28B,EAAM2oB,EAAMyK,EAAOhiC,EAAG4P,EAAGmX,EAAWrE,EAAOxG,EAAMG,EAAY8nC,EAAWC,EAC3Ep9B,EAAe,SAEnB,GAAiB,QAAbxuC,EACFo3B,EAAI74B,KAAKwoC,OAAS2kC,EAClBn9B,EAAYhwC,KAAKstE,+BACZ,GAAiB,WAAb7rE,EACTo3B,EAAI74B,KAAKsoC,IAAM6kC,EACfn9B,EAAYhwC,KAAKstE,+BACZ,GAAiB,SAAb7rE,EAAqB,CAC9B,MAAMtE,EAAM6C,KAAKutE,wBAAwB5B,GACzC37B,EAAY7yC,EAAI6yC,UAChB/mB,EAAI9rB,EAAI8rB,OACH,GAAiB,UAAbxnB,EAAsB,CAC/B,MAAMtE,EAAM6C,KAAKutE,wBAAwB5B,GACzC37B,EAAY7yC,EAAI6yC,UAChB/mB,EAAI9rB,EAAI8rB,OACH,GAAa,MAAT6V,EAAc,CACvB,GAAiB,WAAbr9B,EACFo3B,GAAM0yB,EAAUjjB,IAAMijB,EAAU/iB,QAAU,EAAK0kC,OAC1C,GAAIlzE,EAASyH,GAAW,CAC7B,MAAMirE,EAAiB/zE,OAAO4C,KAAKkG,GAAU,GACvCV,EAAQU,EAASirE,GACvB7zC,EAAI74B,KAAKqjC,MAAMmD,OAAOkmC,GAAgBxtC,iBAAiBn+B,GAASmsE,EAElEl9B,EAAYhwC,KAAKstE,+BACZ,GAAa,MAATxuC,EAAc,CACvB,GAAiB,WAAbr9B,EACFwnB,GAAMsiC,EAAU9iB,KAAO8iB,EAAUhjB,OAAS,EAAK2kC,OAC1C,GAAIlzE,EAASyH,GAAW,CAC7B,MAAMirE,EAAiB/zE,OAAO4C,KAAKkG,GAAU,GACvCV,EAAQU,EAASirE,GACvBzjD,EAAIjpB,KAAKqjC,MAAMmD,OAAOkmC,GAAgBxtC,iBAAiBn+B,GAEzDivC,EAAYhwC,KAAKutE,wBAAwB5B,GAAI37B,UAGlC,MAATlR,IACY,UAAVX,EACF8R,EAAe,MACI,QAAV9R,IACT8R,EAAe,WAInB,MAAMk5B,EAAanpE,KAAKopE,iBACxB,IAAKluE,EAAI,EAAG28B,EAAOuL,EAAM/nC,OAAQH,EAAI28B,IAAQ38B,EAAG,CAC9CslD,EAAOpd,EAAMloC,GACb+vD,EAAQzK,EAAKyK,MAEb,MAAM4hB,EAAcrB,EAAY53B,WAAW5zC,KAAKgsC,WAAW9wC,IAC3DywC,EAAQ3rC,KAAK6uD,gBAAgB3zD,GAAKswE,EAAYnhC,YAC9ClF,EAAOnlC,KAAKirE,wBAAwB/vE,GACpCoqC,EAAaH,EAAKG,WAClB8nC,EAAY3zE,EAAQwxD,GAASA,EAAM5vD,OAAS,EAC5C,MAAMmyE,EAAYJ,EAAY,EACxB13C,EAAQm3C,EAAYn3C,MACpBoa,EAAc+8B,EAAY3iC,gBAC1B2F,EAAcg9B,EAAY5iC,gBAChC,IA4CIkG,EA5CAs9B,EAAgBz9B,EA8CpB,GA5CIqlB,GACFpsC,EAAI0iB,EAEc,UAAdqE,IAEAy9B,EADEvyE,IAAM28B,EAAO,EACE73B,KAAKqG,QAAQoxB,QAAoB,OAAV,QACzB,IAANv8B,EACQ8E,KAAKqG,QAAQoxB,QAAmB,QAAT,OAExB,UAMhB41C,EAFa,QAAb5rE,EACiB,SAAf+oC,GAAsC,IAAboC,GACbwgC,EAAY9nC,EAAaA,EAAa,EAC5B,WAAfkF,GACK2+B,EAAWK,QAAQr9B,OAAS,EAAIqhC,EAAYloC,EAAaA,GAEzD6jC,EAAWK,QAAQr9B,OAAS7G,EAAa,EAItC,SAAfkF,GAAsC,IAAboC,EACdtH,EAAa,EACF,WAAfkF,EACI2+B,EAAWK,QAAQr9B,OAAS,EAAIqhC,EAAYloC,EAE5C6jC,EAAWK,QAAQr9B,OAASihC,EAAY9nC,EAGrD0E,IACFqjC,IAAe,GAEA,IAAbzgC,GAAmBigC,EAAYpiC,oBACjCxhB,GAAKqc,EAAc,EAAKtnC,KAAK+hC,IAAI6M,MAGnC/T,EAAI8S,EACJ0hC,GAAc,EAAID,GAAa9nC,EAAa,GAK1CunC,EAAYpiC,kBAAmB,CACjC,MAAMijC,EAAev8B,GAAU07B,EAAYliC,iBACrCwB,EAASg9B,EAAWwB,QAAQzvE,GAC5ByuC,EAAQw/B,EAAWuB,OAAOxvE,GAEhC,IAAIotC,EAAM+kC,EAAaK,EAAaplC,IAChCG,EAAO,EAAIilC,EAAajlC,KAE5B,OAAQwH,GACR,IAAK,SACH3H,GAAO6D,EAAS,EAChB,MACF,IAAK,SACH7D,GAAO6D,EAMT,OAAQ6D,GACR,IAAK,SACHvH,GAAQkB,EAAQ,EAChB,MACF,IAAK,QACHlB,GAAQkB,EACR,MACF,IAAK,QACCzuC,IAAM28B,EAAO,EACf4Q,GAAQkB,EACCzuC,EAAI,IACbutC,GAAQkB,EAAQ,GAOpBwG,EAAW,CACT1H,OACAH,MACAqB,MAAOA,EAAQ+jC,EAAa/jC,MAC5BwC,OAAQA,EAASuhC,EAAavhC,OAE9BzW,MAAOm3C,EAAYniC,eAIvB9M,EAAMn/B,KAAK,CACTwsD,QACA9lB,OACAkoC,aACAhnE,QAAS,CACPumC,WACAlX,QACAoa,cACAD,cACAG,UAAWy9B,EACXx9B,eACAF,YAAa,CAAC9mB,EAAG4P,GACjBsX,aAGN,CAEA,OAAOvS,CACT,CAEA0vC,uBAAAA,GACE,MAAM,SAAC7rE,EAAA,MAAU2hC,GAASpjC,KAAKqG,QAG/B,IAFkB00B,GAAU/6B,KAAK2lE,eAG/B,MAAoB,QAAblkE,EAAqB,OAAS,QAGvC,IAAI08B,EAAQ,SAUZ,MARoB,UAAhBiF,EAAMjF,MACRA,EAAQ,OACiB,QAAhBiF,EAAMjF,MACfA,EAAQ,QACiB,UAAhBiF,EAAMjF,QACfA,EAAQ,SAGHA,CACT,CAEAovC,uBAAAA,CAAwB5B,GACtB,MAAM,SAAClqE,EAAU2hC,OAAO,WAACoH,EAAA,OAAYR,EAAA,QAAQ3B,IAAYroC,KAAKqG,QAExD6mE,EAAiBvB,EAAKtjC,EACtBihC,EAFatpE,KAAKopE,iBAEEE,OAAO3/B,MAEjC,IAAIqG,EACA/mB,EA0DJ,MAxDiB,SAAbxnB,EACEuoC,GACF/gB,EAAIjpB,KAAKuoC,MAAQF,EAEE,SAAfmC,EACFwF,EAAY,OACY,WAAfxF,GACTwF,EAAY,SACZ/mB,GAAMqgD,EAAS,IAEft5B,EAAY,QACZ/mB,GAAKqgD,KAGPrgD,EAAIjpB,KAAKuoC,MAAQ2kC,EAEE,SAAf1iC,EACFwF,EAAY,QACY,WAAfxF,GACTwF,EAAY,SACZ/mB,GAAMqgD,EAAS,IAEft5B,EAAY,OACZ/mB,EAAIjpB,KAAKyoC,OAGS,UAAbhnC,EACLuoC,GACF/gB,EAAIjpB,KAAKyoC,KAAOJ,EAEG,SAAfmC,EACFwF,EAAY,QACY,WAAfxF,GACTwF,EAAY,SACZ/mB,GAAMqgD,EAAS,IAEft5B,EAAY,OACZ/mB,GAAKqgD,KAGPrgD,EAAIjpB,KAAKyoC,KAAOykC,EAEG,SAAf1iC,EACFwF,EAAY,OACY,WAAfxF,GACTwF,EAAY,SACZ/mB,GAAKqgD,EAAS,IAEdt5B,EAAY,QACZ/mB,EAAIjpB,KAAKuoC,QAIbyH,EAAY,QAGP,CAACA,YAAW/mB,IACrB,CAKA0kD,iBAAAA,GACE,GAAI3tE,KAAKqG,QAAQ+8B,MAAM4G,OACrB,OAGF,MAAM3G,EAAQrjC,KAAKqjC,MACb5hC,EAAWzB,KAAKqG,QAAQ5E,SAE9B,MAAiB,SAAbA,GAAoC,UAAbA,EAClB,CAAC6mC,IAAK,EAAGG,KAAMzoC,KAAKyoC,KAAMD,OAAQnF,EAAM8I,OAAQ5D,MAAOvoC,KAAKuoC,OAClD,QAAb9mC,GAAmC,WAAbA,EACnB,CAAC6mC,IAAKtoC,KAAKsoC,IAAKG,KAAM,EAAGD,OAAQxoC,KAAKwoC,OAAQD,MAAOlF,EAAMsG,YADlE,CAGJ,CAKAikC,cAAAA,GACE,MAAM,IAACnoC,EAAKp/B,SAAS,gBAACu+B,GAAgB,KAAE6D,EAAI,IAAEH,EAAA,MAAKqB,EAAA,OAAOwC,GAAUnsC,KAChE4kC,IACFa,EAAI4F,OACJ5F,EAAI6J,UAAY1K,EAChBa,EAAIiK,SAASjH,EAAMH,EAAKqB,EAAOwC,GAC/B1G,EAAI+F,UAER,CAEA2rB,oBAAAA,CAAqBp2D,GACnB,MAAMioC,EAAOhpC,KAAKqG,QAAQ2iC,KAC1B,IAAKhpC,KAAKkpE,eAAiBlgC,EAAKN,QAC9B,OAAO,EAET,MACMphC,EADQtH,KAAKojC,MACCyqC,WAAU33C,GAAKA,EAAEn1B,QAAUA,IAC/C,GAAIuG,GAAS,EAAG,CAEd,OADa0hC,EAAK4K,WAAW5zC,KAAKgsC,WAAW1kC,IACjC2hC,UAEd,OAAO,CACT,CAKA6kC,QAAAA,CAASviB,GACP,MAAMviB,EAAOhpC,KAAKqG,QAAQ2iC,KACpBvD,EAAMzlC,KAAKylC,IACX7H,EAAQ59B,KAAK6lE,iBAAmB7lE,KAAK6lE,eAAiB7lE,KAAK0rE,sBAAsBngB,IACvF,IAAIrwD,EAAG28B,EAEP,MAAMk2C,EAAWA,CAAC3qE,EAAIC,EAAIgiC,KACnBA,EAAMsE,OAAUtE,EAAM3P,QAG3B+P,EAAI4F,OACJ5F,EAAIwD,UAAY5D,EAAMsE,MACtBlE,EAAI4J,YAAchK,EAAM3P,MACxB+P,EAAIuoC,YAAY3oC,EAAM8Z,YAAc,IACpC1Z,EAAIwoC,eAAiB5oC,EAAM+Z,iBAE3B3Z,EAAIwH,YACJxH,EAAI4H,OAAOjqC,EAAG6lB,EAAG7lB,EAAGy1B,GACpB4M,EAAI6H,OAAOjqC,EAAG4lB,EAAG5lB,EAAGw1B,GACpB4M,EAAIkI,SACJlI,EAAI+F,UAAS,EAGf,GAAIxC,EAAKN,QACP,IAAKxtC,EAAI,EAAG28B,EAAO+F,EAAMviC,OAAQH,EAAI28B,IAAQ38B,EAAG,CAC9C,MAAMq+B,EAAOqE,EAAM1iC,GAEf8tC,EAAKE,iBACP6kC,EACE,CAAC9kD,EAAGsQ,EAAK+yC,GAAIzzC,EAAGU,EAAKgzC,IACrB,CAACtjD,EAAGsQ,EAAKizC,GAAI3zC,EAAGU,EAAKkzC,IACrBlzC,GAIAyP,EAAKG,WACP4kC,EACE,CAAC9kD,EAAGsQ,EAAK2yC,IAAKrzC,EAAGU,EAAK4yC,KACtB,CAACljD,EAAGsQ,EAAK6yC,IAAKvzC,EAAGU,EAAK8yC,KACtB,CACE32C,MAAO6D,EAAKgQ,UACZI,MAAOpQ,EAAK8P,UACZ8V,WAAY5lB,EAAKyzC,eACjB5tB,iBAAkB7lB,EAAK0zC,sBAI/B,CAEJ,CAKAiB,UAAAA,GACE,MAAM,MAAC7qC,EAAA,IAAOoC,EAAKp/B,SAAS,OAACmjC,EAAM,KAAER,IAAShpC,KACxC4rE,EAAapiC,EAAOoK,WAAW5zC,KAAKgsC,cACpC6/B,EAAYriC,EAAOd,QAAUkjC,EAAWjiC,MAAQ,EACtD,IAAKkiC,EACH,OAEF,MAAMsC,EAAgBnlC,EAAK4K,WAAW5zC,KAAKgsC,WAAW,IAAI/C,UACpD+iC,EAAchsE,KAAKsmE,aACzB,IAAIgG,EAAIE,EAAID,EAAIE,EAEZzsE,KAAKq1D,gBACPiX,EAAK5gC,GAAYrI,EAAOrjC,KAAKyoC,KAAMojC,GAAaA,EAAY,EAC5DW,EAAK9gC,GAAYrI,EAAOrjC,KAAKuoC,MAAO4lC,GAAiBA,EAAgB,EACrE5B,EAAKE,EAAKT,IAEVO,EAAK7gC,GAAYrI,EAAOrjC,KAAKsoC,IAAKujC,GAAaA,EAAY,EAC3DY,EAAK/gC,GAAYrI,EAAOrjC,KAAKwoC,OAAQ2lC,GAAiBA,EAAgB,EACtE7B,EAAKE,EAAKR,GAEZvmC,EAAI4F,OACJ5F,EAAIwD,UAAY2iC,EAAWjiC,MAC3BlE,EAAI4J,YAAcu8B,EAAWl2C,MAE7B+P,EAAIwH,YACJxH,EAAI4H,OAAOi/B,EAAIC,GACf9mC,EAAI6H,OAAOk/B,EAAIC,GACfhnC,EAAIkI,SAEJlI,EAAI+F,SACN,CAKA4iC,UAAAA,CAAW7iB,GAGT,IAFoBvrD,KAAKqG,QAAQ+8B,MAEhBsF,QACf,OAGF,MAAMjD,EAAMzlC,KAAKylC,IAEXqI,EAAO9tC,KAAK2tE,oBACd7/B,GACFE,GAASvI,EAAKqI,GAGhB,MAAMlQ,EAAQ59B,KAAK8mE,cAAcvb,GACjC,IAAK,MAAMhyB,KAAQqE,EAAO,CACxB,MAAMywC,EAAoB90C,EAAKlzB,QACzBukE,EAAWrxC,EAAK4L,KAGtBwK,GAAWlK,EAFGlM,EAAK0xB,MAEI,EADb1xB,EAAK8zC,WACczC,EAAUyD,EACzC,CAEIvgC,GACFG,GAAWxI,EAEf,CAKA6oC,SAAAA,GACE,MAAM,IAAC7oC,EAAKp/B,SAAS,SAAC5E,EAAQ,MAAEmoC,EAAK,QAAEnS,IAAYz3B,KAEnD,IAAK4pC,EAAMlB,QACT,OAGF,MAAMvD,EAAOiM,GAAOxH,EAAMzE,MACpBkD,EAAU8I,GAAUvH,EAAMvB,SAC1BlK,EAAQyL,EAAMzL,MACpB,IAAIwK,EAASxD,EAAKG,WAAa,EAEd,WAAb7jC,GAAsC,WAAbA,GAAyBzH,EAASyH,IAC7DknC,GAAUN,EAAQG,OACd/uC,EAAQmwC,EAAMC,QAChBlB,GAAUxD,EAAKG,YAAcsE,EAAMC,KAAKxuC,OAAS,KAGnDstC,GAAUN,EAAQC,IAGpB,MAAM,OAACimC,EAAA,OAAQC,EAAA,SAAQn+B,EAAQ,SAAEzD,GAt8CrC,SAAmBrG,EAAOoC,EAAQlnC,EAAU08B,GAC1C,MAAM,IAACmK,EAAG,KAAEG,EAAI,OAAED,EAAM,MAAED,EAAK,MAAElF,GAASkD,GACpC,UAACglB,EAAA,OAAW/kB,GAAUnD,EAC5B,IACIgN,EAAUk+B,EAAQC,EADlB5hC,EAAW,EAEf,MAAMT,EAAS3D,EAASF,EAClBqB,EAAQpB,EAAQE,EAEtB,GAAIlC,EAAM8uB,eAAgB,CAGxB,GAFAkZ,EAASnwC,GAAeD,EAAOsK,EAAMF,GAEjCvuC,EAASyH,GAAW,CACtB,MAAMirE,EAAiB/zE,OAAO4C,KAAKkG,GAAU,GACvCV,EAAQU,EAASirE,GACvB8B,EAAShoC,EAAOkmC,GAAgBxtC,iBAAiBn+B,GAASorC,EAASxD,OAEnE6lC,EADsB,WAAb/sE,GACC8pD,EAAU/iB,OAAS+iB,EAAUjjB,KAAO,EAAI6D,EAASxD,EAElD47B,GAAeh+B,EAAO9kC,EAAUknC,GAE3C0H,EAAW9H,EAAQE,MACd,CACL,GAAIzuC,EAASyH,GAAW,CACtB,MAAMirE,EAAiB/zE,OAAO4C,KAAKkG,GAAU,GACvCV,EAAQU,EAASirE,GACvB6B,EAAS/nC,EAAOkmC,GAAgBxtC,iBAAiBn+B,GAAS4oC,EAAQhB,OAElE4lC,EADsB,WAAb9sE,GACC8pD,EAAU9iB,KAAO8iB,EAAUhjB,OAAS,EAAIoB,EAAQhB,EAEjD47B,GAAeh+B,EAAO9kC,EAAUknC,GAE3C6lC,EAASpwC,GAAeD,EAAOqK,EAAQF,GACvCsE,EAAwB,SAAbnrC,GAAuBq4B,GAAUA,GAE9C,MAAO,CAACy0C,SAAQC,SAAQn+B,WAAUzD,WACpC,CAm6CiD6hC,CAAUzuE,KAAM2oC,EAAQlnC,EAAU08B,GAE/EwR,GAAWlK,EAAKmE,EAAMC,KAAM,EAAG,EAAG1E,EAAM,CACtCzP,MAAOkU,EAAMlU,MACb2a,WACAzD,WACAoD,UAAWm1B,GAAWhnC,EAAO18B,EAAUg2B,GACvCwY,aAAc,SACdF,YAAa,CAACw+B,EAAQC,IAE1B,CAEAnuB,IAAAA,CAAKkL,GACEvrD,KAAKkpE,eAIVlpE,KAAK4tE,iBACL5tE,KAAK8tE,SAASviB,GACdvrD,KAAKkuE,aACLluE,KAAKsuE,YACLtuE,KAAKouE,WAAW7iB,GAClB,CAMAkS,OAAAA,GACE,MAAMx+C,EAAOjf,KAAKqG,QACZqoE,EAAKzvD,EAAKmkB,OAASnkB,EAAKmkB,MAAMs6B,GAAK,EACnCiR,EAAKx3C,EAAelY,EAAK+pB,MAAQ/pB,EAAK+pB,KAAK00B,GAAI,GAC/CkR,EAAKz3C,EAAelY,EAAKuqB,QAAUvqB,EAAKuqB,OAAOk0B,EAAG,GAExD,OAAK19D,KAAKkpE,cAAgBlpE,KAAKqgD,OAASglB,GAAMzsE,UAAUynD,KAUjD,CAAC,CACNqd,EAAGiR,EACHtuB,KAAOkL,IACLvrD,KAAK4tE,iBACL5tE,KAAK8tE,SAASviB,GACdvrD,KAAKsuE,WAAW,GAEjB,CACD5Q,EAAGkR,EACHvuB,KAAMA,KACJrgD,KAAKkuE,YAAY,GAElB,CACDxQ,EAAGgR,EACHruB,KAAOkL,IACLvrD,KAAKouE,WAAW7iB,EAAA,IAvBX,CAAC,CACNmS,EAAGgR,EACHruB,KAAOkL,IACLvrD,KAAKqgD,KAAKkL,EAAA,GAuBlB,CAOA9G,uBAAAA,CAAwBlrD,GACtB,MAAMmtE,EAAQ1mE,KAAKqjC,MAAMq2B,+BACnBmV,EAAS7uE,KAAK8+B,KAAO,SACrBv/B,EAAS,GACf,IAAIrE,EAAG28B,EAEP,IAAK38B,EAAI,EAAG28B,EAAO6uC,EAAMrrE,OAAQH,EAAI28B,IAAQ38B,EAAG,CAC9C,MAAMojC,EAAOooC,EAAMxrE,GACfojC,EAAKuwC,KAAY7uE,KAAKiJ,IAAQ1P,GAAQ+kC,EAAK/kC,OAASA,GACtDgG,EAAOd,KAAK6/B,EAEhB,CACA,OAAO/+B,CACT,CAOA0rE,uBAAAA,CAAwB3jE,GAEtB,OAAO8pC,GADMpxC,KAAKqG,QAAQ+8B,MAAMwQ,WAAW5zC,KAAKgsC,WAAW1kC,IACxC69B,KACrB,CAKA2pC,UAAAA,GACE,MAAMC,EAAW/uE,KAAKirE,wBAAwB,GAAG3lC,WACjD,OAAQtlC,KAAKq1D,eAAiBr1D,KAAK2pC,MAAQ3pC,KAAKmsC,QAAU4iC,CAC5D,ECrqDa,MAAMC,GACnB/vE,WAAAA,CAAY1F,EAAMgrC,EAAOqC,GACvB5mC,KAAKzG,KAAOA,EACZyG,KAAKukC,MAAQA,EACbvkC,KAAK4mC,SAAWA,EAChB5mC,KAAK49B,MAAQjlC,OAAOK,OAAO,KAC7B,CAEAi2E,SAAAA,CAAU11E,GACR,OAAOZ,OAAOC,UAAUs2E,cAAc/1E,KAAK6G,KAAKzG,KAAKX,UAAWW,EAAKX,UACvE,CAMAu2E,QAAAA,CAAS51C,GACP,MAAM3E,EAAQj8B,OAAOE,eAAe0gC,GACpC,IAAI61C,GAyFR,SAA2Bx6C,GACzB,MAAO,OAAQA,GAAS,aAAcA,CACxC,EAzFQy6C,CAAkBz6C,KAEpBw6C,EAAcpvE,KAAKmvE,SAASv6C,IAG9B,MAAMgJ,EAAQ59B,KAAK49B,MACb30B,EAAKswB,EAAKtwB,GACVs7B,EAAQvkC,KAAKukC,MAAQ,IAAMt7B,EAEjC,IAAKA,EACH,MAAM,IAAIrG,MAAM,2BAA6B22B,GAG/C,OAAItwB,KAAM20B,IAKVA,EAAM30B,GAAMswB,EAsChB,SAA0BA,EAAMgL,EAAO6qC,GAErC,MAAME,EAAexvE,EAAMnH,OAAOK,OAAO,MAAO,CAC9Co2E,EAActkE,GAASyD,IAAI6gE,GAAe,CAAC,EAC3CtkE,GAASyD,IAAIg2B,GACbhL,EAAKzuB,WAGPA,GAASnI,IAAI4hC,EAAO+qC,GAEhB/1C,EAAKg2C,eASX,SAAuBhrC,EAAOirC,GAC5B72E,OAAO4C,KAAKi0E,GAAQx0E,SAAQ8/B,IAC1B,MAAM20C,EAAgB30C,EAAS73B,MAAM,KAC/BysE,EAAaD,EAAchoE,MAC3BkoE,EAAc,CAACprC,GAAOv+B,OAAOypE,GAAexpE,KAAK,KACjD+yB,EAAQw2C,EAAO10C,GAAU73B,MAAM,KAC/B8jC,EAAa/N,EAAMvxB,MACnBq/B,EAAc9N,EAAM/yB,KAAK,KAC/B6E,GAAS+7B,MAAM8oC,EAAaD,EAAY5oC,EAAaC,EAAA,GAEzD,CAlBI6oC,CAAcrrC,EAAOhL,EAAKg2C,eAGxBh2C,EAAKz8B,aACPgO,GAAS67B,SAASpC,EAAOhL,EAAKz8B,YAElC,CAtDI+yE,CAAiBt2C,EAAMgL,EAAO6qC,GAC1BpvE,KAAK4mC,UACP97B,GAAS87B,SAASrN,EAAKtwB,GAAIswB,EAAK4K,YANzBI,CAUX,CAMAh2B,GAAAA,CAAItF,GACF,OAAOjJ,KAAK49B,MAAM30B,EACpB,CAKA6mE,UAAAA,CAAWv2C,GACT,MAAMqE,EAAQ59B,KAAK49B,MACb30B,EAAKswB,EAAKtwB,GACVs7B,EAAQvkC,KAAKukC,MAEft7B,KAAM20B,UACDA,EAAM30B,GAGXs7B,GAASt7B,KAAM6B,GAASy5B,YACnBz5B,GAASy5B,GAAOt7B,GACnBjJ,KAAK4mC,iBACAzC,GAAUl7B,GAGvB,ECtEK,MAAM8mE,GACX9wE,WAAAA,GACEe,KAAKgwE,YAAc,IAAIhB,GAAcrpB,GAAmB,YAAY,GACpE3lD,KAAKilC,SAAW,IAAI+pC,GAAcrM,GAAS,YAC3C3iE,KAAKqmC,QAAU,IAAI2oC,GAAcr2E,OAAQ,WACzCqH,KAAKwmC,OAAS,IAAIwoC,GAAc3J,GAAO,UAGvCrlE,KAAKiwE,iBAAmB,CAACjwE,KAAKgwE,YAAahwE,KAAKwmC,OAAQxmC,KAAKilC,SAC/D,CAKA+O,GAAAA,GAAa,QAAA1kC,EAAA7W,UAAA4C,OAANmX,EAAI,IAAA9Y,MAAA4V,GAAA1T,EAAA,EAAAA,EAAA0T,EAAA1T,IAAJ4W,EAAI5W,GAAAnD,UAAAmD,GACToE,KAAKkwE,MAAM,WAAY19D,EACzB,CAEAoC,MAAAA,GAAgB,QAAAjF,EAAAlX,UAAA4C,OAANmX,EAAI,IAAA9Y,MAAAiW,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ4C,EAAI5C,GAAAnX,UAAAmX,GACZ5P,KAAKkwE,MAAM,aAAc19D,EAC3B,CAKA29D,cAAAA,GAAwB,QAAAC,EAAA33E,UAAA4C,OAANmX,EAAI,IAAA9Y,MAAA02E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ79D,EAAI69D,GAAA53E,UAAA43E,GACpBrwE,KAAKkwE,MAAM,WAAY19D,EAAMxS,KAAKgwE,YACpC,CAKAlpB,WAAAA,GAAqB,QAAAwpB,EAAA73E,UAAA4C,OAANmX,EAAI,IAAA9Y,MAAA42E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ/9D,EAAI+9D,GAAA93E,UAAA83E,GACjBvwE,KAAKkwE,MAAM,WAAY19D,EAAMxS,KAAKilC,SACpC,CAKAurC,UAAAA,GAAoB,QAAAC,EAAAh4E,UAAA4C,OAANmX,EAAI,IAAA9Y,MAAA+2E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJl+D,EAAIk+D,GAAAj4E,UAAAi4E,GAChB1wE,KAAKkwE,MAAM,WAAY19D,EAAMxS,KAAKqmC,QACpC,CAKAsqC,SAAAA,GAAmB,QAAAC,EAAAn4E,UAAA4C,OAANmX,EAAI,IAAA9Y,MAAAk3E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJr+D,EAAIq+D,GAAAp4E,UAAAo4E,GACf7wE,KAAKkwE,MAAM,WAAY19D,EAAMxS,KAAKwmC,OACpC,CAMAsqC,aAAAA,CAAc7nE,GACZ,OAAOjJ,KAAK+wE,KAAK9nE,EAAIjJ,KAAKgwE,YAAa,aACzC,CAMAtX,UAAAA,CAAWzvD,GACT,OAAOjJ,KAAK+wE,KAAK9nE,EAAIjJ,KAAKilC,SAAU,UACtC,CAMA+rC,SAAAA,CAAU/nE,GACR,OAAOjJ,KAAK+wE,KAAK9nE,EAAIjJ,KAAKqmC,QAAS,SACrC,CAMA4qC,QAAAA,CAAShoE,GACP,OAAOjJ,KAAK+wE,KAAK9nE,EAAIjJ,KAAKwmC,OAAQ,QACpC,CAKA0qC,iBAAAA,GAA2B,QAAAC,EAAA14E,UAAA4C,OAANmX,EAAI,IAAA9Y,MAAAy3E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ5+D,EAAI4+D,GAAA34E,UAAA24E,GACvBpxE,KAAKkwE,MAAM,aAAc19D,EAAMxS,KAAKgwE,YACtC,CAKAqB,cAAAA,GAAwB,QAAAC,EAAA74E,UAAA4C,OAANmX,EAAI,IAAA9Y,MAAA43E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ/+D,EAAI++D,GAAA94E,UAAA84E,GACpBvxE,KAAKkwE,MAAM,aAAc19D,EAAMxS,KAAKilC,SACtC,CAKAusC,aAAAA,GAAuB,QAAAC,EAAAh5E,UAAA4C,OAANmX,EAAI,IAAA9Y,MAAA+3E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJl/D,EAAIk/D,GAAAj5E,UAAAi5E,GACnB1xE,KAAKkwE,MAAM,aAAc19D,EAAMxS,KAAKqmC,QACtC,CAKAsrC,YAAAA,GAAsB,QAAAC,EAAAn5E,UAAA4C,OAANmX,EAAI,IAAA9Y,MAAAk4E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJr/D,EAAIq/D,GAAAp5E,UAAAo5E,GAClB7xE,KAAKkwE,MAAM,aAAc19D,EAAMxS,KAAKwmC,OACtC,CAKA0pC,KAAAA,CAAMjjE,EAAQuF,EAAMs/D,GAClB,IAAIt/D,GAAMxX,SAAQ+2E,IAChB,MAAMC,EAAMF,GAAiB9xE,KAAKiyE,oBAAoBF,GAClDD,GAAiBE,EAAI/C,UAAU8C,IAASC,IAAQhyE,KAAKqmC,SAAW0rC,EAAI9oE,GACtEjJ,KAAKkyE,MAAMjlE,EAAQ+kE,EAAKD,GAMxBx6C,EAAKw6C,GAAKx4C,IAOR,MAAM44C,EAAUL,GAAiB9xE,KAAKiyE,oBAAoB14C,GAC1Dv5B,KAAKkyE,MAAMjlE,EAAQklE,EAAS54C,EAAA,MAIpC,CAKA24C,KAAAA,CAAMjlE,EAAQwrD,EAAU2Z,GACtB,MAAMC,EAAcj5C,GAAYnsB,GAChCkZ,EAAKisD,EAAU,SAAWC,GAAc,GAAID,GAC5C3Z,EAASxrD,GAAQmlE,GACjBjsD,EAAKisD,EAAU,QAAUC,GAAc,GAAID,EAC7C,CAKAH,mBAAAA,CAAoB14E,GAClB,IAAK,IAAI2B,EAAI,EAAGA,EAAI8E,KAAKiwE,iBAAiB50E,OAAQH,IAAK,CACrD,MAAM82E,EAAMhyE,KAAKiwE,iBAAiB/0E,GAClC,GAAI82E,EAAI/C,UAAU11E,GAChB,OAAOy4E,CAEX,CAEA,OAAOhyE,KAAKqmC,OACd,CAKA0qC,IAAAA,CAAK9nE,EAAI6oE,EAAev4E,GACtB,MAAMggC,EAAOu4C,EAAcvjE,IAAItF,GAC/B,QAAa3N,IAATi+B,EACF,MAAM,IAAI32B,MAAM,IAAMqG,EAAK,yBAA2B1P,EAAO,KAE/D,OAAOggC,CACT,EAKF,IAAAk/B,GAA+B,IAAIsX,GCtKpB,MAAMuC,GACnBrzE,WAAAA,GACEe,KAAKuyE,MAAQ,EACf,CAYAC,MAAAA,CAAOnvC,EAAOovC,EAAMjgE,EAAMpR,GACX,eAATqxE,IACFzyE,KAAKuyE,MAAQvyE,KAAK0yE,mBAAmBrvC,GAAO,GAC5CrjC,KAAK2/C,QAAQ3/C,KAAKuyE,MAAOlvC,EAAO,YAGlC,MAAMvmC,EAAcsE,EAASpB,KAAKykC,aAAapB,GAAOjiC,OAAOA,GAAUpB,KAAKykC,aAAapB,GACnF9jC,EAASS,KAAK2/C,QAAQ7iD,EAAaumC,EAAOovC,EAAMjgE,GAMtD,MAJa,iBAATigE,IACFzyE,KAAK2/C,QAAQ7iD,EAAaumC,EAAO,QACjCrjC,KAAK2/C,QAAQ3/C,KAAKuyE,MAAOlvC,EAAO,cAE3B9jC,CACT,CAKAogD,OAAAA,CAAQ7iD,EAAaumC,EAAOovC,EAAMjgE,GAChCA,EAAOA,GAAQ,CAAC,EAChB,IAAK,MAAMvV,KAAcH,EAAa,CACpC,MAAM61E,EAAS11E,EAAW01E,OAG1B,IAA6C,IAAzCxsD,EAFWwsD,EAAOF,GACP,CAACpvC,EAAO7wB,EAAMvV,EAAWoJ,SACPssE,IAAqBngE,EAAKogE,WACzD,OAAO,CAEX,CAEA,OAAO,CACT,CAEAC,UAAAA,GAMO77C,EAAch3B,KAAKquD,UACtBruD,KAAK8yE,UAAY9yE,KAAKquD,OACtBruD,KAAKquD,YAAS/yD,EAElB,CAMAmpC,YAAAA,CAAapB,GACX,GAAIrjC,KAAKquD,OACP,OAAOruD,KAAKquD,OAGd,MAAMvxD,EAAckD,KAAKquD,OAASruD,KAAK0yE,mBAAmBrvC,GAI1D,OAFArjC,KAAK+yE,oBAAoB1vC,GAElBvmC,CACT,CAEA41E,kBAAAA,CAAmBrvC,EAAOrd,GACxB,MAAMthB,EAAS2+B,GAASA,EAAM3+B,OACxB2B,EAAU8wB,EAAezyB,EAAO2B,SAAW3B,EAAO2B,QAAQggC,QAAS,CAAC,GACpEA,EAqBV,SAAoB3hC,GAClB,MAAMsuE,EAAW,CAAC,EACZ3sC,EAAU,GACV9qC,EAAO5C,OAAO4C,KAAKk9D,GAASpyB,QAAQzI,OAC1C,IAAK,IAAI1iC,EAAI,EAAGA,EAAIK,EAAKF,OAAQH,IAC/BmrC,EAAQ5nC,KAAKg6D,GAASuY,UAAUz1E,EAAKL,KAGvC,MAAMisC,EAAQziC,EAAO2hC,SAAW,GAChC,IAAK,IAAInrC,EAAI,EAAGA,EAAIisC,EAAM9rC,OAAQH,IAAK,CACrC,MAAMy3E,EAASxrC,EAAMjsC,IAEY,IAA7BmrC,EAAQzkC,QAAQ+wE,KAClBtsC,EAAQ5nC,KAAKk0E,GACbK,EAASL,EAAO1pE,KAAM,EAE1B,CAEA,MAAO,CAACo9B,UAAS2sC,WACnB,CAxCoBC,CAAWvuE,GAE3B,OAAmB,IAAZ2B,GAAsB2f,EAkDjC,SAA2Bqd,EAAKjlC,EAAuBiI,EAAS2f,GAAK,IAAnC,QAACqgB,EAAO,SAAE2sC,GAAS50E,EACnD,MAAMmB,EAAS,GACTpD,EAAUknC,EAAM2I,aAEtB,IAAK,MAAM2mC,KAAUtsC,EAAS,CAC5B,MAAMp9B,EAAK0pE,EAAO1pE,GACZgW,EAAOi0D,GAAQ7sE,EAAQ4C,GAAK+c,GACrB,OAAT/G,GAGJ1f,EAAOd,KAAK,CACVk0E,SACAtsE,QAAS8sE,GAAW9vC,EAAM3+B,OAAQ,CAACiuE,SAAQxrC,MAAO6rC,EAAS/pE,IAAMgW,EAAM9iB,IAE3E,CAEA,OAAOoD,CACT,CAnE4C6zE,CAAkB/vC,EAAOgD,EAAShgC,EAAS2f,GAAhD,EACrC,CAMA+sD,mBAAAA,CAAoB1vC,GAClB,MAAMgwC,EAAsBrzE,KAAK8yE,WAAa,GACxCh2E,EAAckD,KAAKquD,OACnB2K,EAAOA,CAAC54D,EAAGC,IAAMD,EAAEgB,QAAO6nB,IAAM5oB,EAAE8G,MAAK0xB,GAAK5P,EAAE0pD,OAAO1pE,KAAO4vB,EAAE85C,OAAO1pE,OAC3EjJ,KAAK2/C,QAAQqZ,EAAKqa,EAAqBv2E,GAAcumC,EAAO,QAC5DrjC,KAAK2/C,QAAQqZ,EAAKl8D,EAAau2E,GAAsBhwC,EAAO,QAC9D,EA2BF,SAAS6vC,GAAQ7sE,EAAS2f,GACxB,OAAKA,IAAmB,IAAZ3f,GAGI,IAAZA,EACK,CAAC,EAEHA,EALE,IAMX,CAqBA,SAAS8sE,GAAWzuE,EAAM4uE,EAAmBr0D,EAAM9iB,GAAS,IAAhC,OAACw2E,EAAM,MAAExrC,GAAMmsC,EACzC,MAAM/3E,EAAOmJ,EAAO6uE,gBAAgBZ,GAC9B9gC,EAASntC,EAAO0kD,gBAAgBnqC,EAAM1jB,GAK5C,OAJI4rC,GAASwrC,EAAO7nE,UAElB+mC,EAAOpzC,KAAKk0E,EAAO7nE,UAEdpG,EAAO2kD,eAAexX,EAAQ11C,EAAS,CAAC,IAAK,CAElDm4C,YAAY,EACZC,WAAW,EACXF,SAAS,GAEb,CClLO,SAASm/B,GAAaj6E,EAAM8M,GACjC,MAAMotE,EAAkB3oE,GAASg6B,SAASvrC,IAAS,CAAC,EAEpD,QADwB8M,EAAQy+B,UAAY,CAAC,GAAGvrC,IAAS,CAAC,GACpCqsC,WAAav/B,EAAQu/B,WAAa6tC,EAAgB7tC,WAAa,GACvF,CAgBA,SAAS8tC,GAAczqE,GACrB,GAAW,MAAPA,GAAqB,MAAPA,GAAqB,MAAPA,EAC9B,OAAOA,CAEX,CAWO,SAAS0qE,GAAc1qE,GAC5B,GAAIyqE,GAAczqE,GAChB,OAAOA,EACR,QAAA2qE,EAAAn7E,UAAA4C,OAHkCw4E,EAAY,IAAAn6E,MAAAk6E,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAZD,EAAYC,EAAA,GAAAr7E,UAAAq7E,GAI/C,IAAK,MAAM70D,KAAQ40D,EAAc,CAC/B,MAAM/0C,EAAO7f,EAAK6f,OAbH,SADOr9B,EAeAwd,EAAKxd,WAdU,WAAbA,EACjB,IAEQ,SAAbA,GAAoC,UAAbA,EAClB,SADT,IAYOwH,EAAG5N,OAAS,GAAKq4E,GAAczqE,EAAG,GAAG5P,eAC1C,GAAIylC,EACF,OAAOA,CAEX,CApBF,IAA0Br9B,EAqBxB,MAAM,IAAImB,MAAM,6BAA6BqG,uDAC/C,CAEA,SAAS8qE,GAAmB9qE,EAAI61B,EAAMmoB,GACpC,GAAIA,EAAQnoB,EAAO,YAAc71B,EAC/B,MAAO,CAAC61B,OAEZ,CAYA,SAASk1C,GAAiBtvE,EAAQ2B,GAChC,MAAM4tE,EAAgB9vC,GAAUz/B,EAAOnL,OAAS,CAACitC,OAAQ,CAAC,GACpD0tC,EAAe7tE,EAAQmgC,QAAU,CAAC,EAClC2tC,EAAiBX,GAAa9uE,EAAOnL,KAAM8M,GAC3CmgC,EAAS7tC,OAAOK,OAAO,MAqC7B,OAlCAL,OAAO4C,KAAK24E,GAAcl5E,SAAQiO,IAChC,MAAMmrE,EAAYF,EAAajrE,GAC/B,IAAKjP,EAASo6E,GACZ,OAAOj1D,QAAQ5Z,MAAM,0CAA0C0D,KAEjE,GAAImrE,EAAU5gC,OACZ,OAAOr0B,QAAQC,KAAK,kDAAkDnW,KAExE,MAAM61B,EAAO60C,GAAc1qE,EAAImrE,EAzBnC,SAAkCnrE,EAAIvE,GACpC,GAAIA,EAAOpG,MAAQoG,EAAOpG,KAAKwmC,SAAU,CACvC,MAAMuvC,EAAU3vE,EAAOpG,KAAKwmC,SAAS1jC,QAAQmmB,GAAMA,EAAE8/B,UAAYp+C,GAAMse,EAAEggC,UAAYt+C,IACrF,GAAIorE,EAAQh5E,OACV,OAAO04E,GAAmB9qE,EAAI,IAAKorE,EAAQ,KAAON,GAAmB9qE,EAAI,IAAKorE,EAAQ,IAG1F,MAAO,CAAC,CACV,CAiB8CC,CAAyBrrE,EAAIvE,GAASoG,GAAS07B,OAAO4tC,EAAU76E,OACpGg7E,EAlEV,SAAmCz1C,EAAM8G,GACvC,OAAO9G,IAAS8G,EAAY,UAAY,SAC1C,CAgEsB4uC,CAA0B11C,EAAMq1C,GAC5CM,EAAsBR,EAAcztC,QAAU,CAAC,EACrDA,EAAOv9B,GAAMwvB,EAAQ9/B,OAAOK,OAAO,MAAO,CAAC,CAAC8lC,QAAOs1C,EAAWK,EAAoB31C,GAAO21C,EAAoBF,IAAY,IAI3H7vE,EAAOpG,KAAKwmC,SAAS9pC,SAAQisD,IAC3B,MAAM1tD,EAAO0tD,EAAQ1tD,MAAQmL,EAAOnL,KAC9BqsC,EAAYqhB,EAAQrhB,WAAa4tC,GAAaj6E,EAAM8M,GAEpDouE,GADkBtwC,GAAU5qC,IAAS,CAAC,GACAitC,QAAU,CAAC,EACvD7tC,OAAO4C,KAAKk5E,GAAqBz5E,SAAQ05E,IACvC,MAAM51C,EAxFZ,SAAmC71B,EAAI28B,GACrC,IAAI9G,EAAO71B,EAMX,MALW,YAAPA,EACF61B,EAAO8G,EACS,YAAP38B,IACT61B,EAAqB,MAAd8G,EAAoB,IAAM,KAE5B9G,CACT,CAgFmB61C,CAA0BD,EAAW9uC,GAC5C38B,EAAKg+C,EAAQnoB,EAAO,WAAaA,EACvC0H,EAAOv9B,GAAMu9B,EAAOv9B,IAAOtQ,OAAOK,OAAO,MACzCy/B,EAAQ+N,EAAOv9B,GAAK,CAAC,CAAC61B,QAAOo1C,EAAajrE,GAAKwrE,EAAoBC,IAAY,GAC/E,IAIJ/7E,OAAO4C,KAAKirC,GAAQxrC,SAAQU,IAC1B,MAAM6qC,EAAQC,EAAO9qC,GACrB+8B,EAAQ8N,EAAO,CAACz7B,GAAS07B,OAAOD,EAAMhtC,MAAOuR,GAASy7B,OAAO,IAGxDC,CACT,CAEA,SAASouC,GAAYlwE,GACnB,MAAM2B,EAAU3B,EAAO2B,UAAY3B,EAAO2B,QAAU,CAAC,GAErDA,EAAQggC,QAAUlP,EAAe9wB,EAAQggC,QAAS,CAAC,GACnDhgC,EAAQmgC,OAASwtC,GAAiBtvE,EAAQ2B,EAC5C,CAEA,SAASwuE,GAASv2E,GAIhB,OAHAA,EAAOA,GAAQ,CAAC,GACXwmC,SAAWxmC,EAAKwmC,UAAY,GACjCxmC,EAAKqrD,OAASrrD,EAAKqrD,QAAU,GACtBrrD,CACT,CAWA,MAAMw2E,GAAW,IAAIvyC,IACfwyC,GAAa,IAAIl3C,IAEvB,SAASm3C,GAAWryC,EAAUsyC,GAC5B,IAAI15E,EAAOu5E,GAASvmE,IAAIo0B,GAMxB,OALKpnC,IACHA,EAAO05E,IACPH,GAASnyE,IAAIggC,EAAUpnC,GACvBw5E,GAAW/gC,IAAIz4C,IAEVA,CACT,CAEA,MAAM25E,GAAaA,CAACvyE,EAAK1H,EAAKS,KAC5B,MAAMujB,EAAO6Z,GAAiB79B,EAAKS,QACtBJ,IAAT2jB,GACFtc,EAAIqxC,IAAI/0B,IAIG,MAAMk2D,GACnBl2E,WAAAA,CAAYyF,GACV1E,KAAKuX,QA/BT,SAAoB7S,GAMlB,OALAA,EAASA,GAAU,CAAC,GACbpG,KAAOu2E,GAASnwE,EAAOpG,MAE9Bs2E,GAAYlwE,GAELA,CACT,CAwBmB0wE,CAAW1wE,GAC1B1E,KAAKq1E,YAAc,IAAI9yC,IACvBviC,KAAKs1E,eAAiB,IAAI/yC,GAC5B,CAEA,YAAIh4B,GACF,OAAOvK,KAAKuX,QAAQhN,QACtB,CAEA,QAAIhR,GACF,OAAOyG,KAAKuX,QAAQhe,IACtB,CAEA,QAAIA,CAAKA,GACPyG,KAAKuX,QAAQhe,KAAOA,CACtB,CAEA,QAAI+E,GACF,OAAO0B,KAAKuX,QAAQjZ,IACtB,CAEA,QAAIA,CAAKA,GACP0B,KAAKuX,QAAQjZ,KAAOu2E,GAASv2E,EAC/B,CAEA,WAAI+H,GACF,OAAOrG,KAAKuX,QAAQlR,OACtB,CAEA,WAAIA,CAAQA,GACVrG,KAAKuX,QAAQlR,QAAUA,CACzB,CAEA,WAAIggC,GACF,OAAOrmC,KAAKuX,QAAQ8uB,OACtB,CAEA6b,MAAAA,GACE,MAAMx9C,EAAS1E,KAAKuX,QACpBvX,KAAKu1E,aACLX,GAAYlwE,EACd,CAEA6wE,UAAAA,GACEv1E,KAAKq1E,YAAYnsE,QACjBlJ,KAAKs1E,eAAepsE,OACtB,CAQAigD,gBAAAA,CAAiBqsB,GACf,OAAOR,GAAWQ,GAChB,IAAM,CAAC,CACL,YAAYA,IACZ,MAEN,CASAlpB,yBAAAA,CAA0BkpB,EAAanpB,GACrC,OAAO2oB,GAAW,GAAGQ,gBAA0BnpB,KAC7C,IAAM,CACJ,CACE,YAAYmpB,iBAA2BnpB,IACvC,eAAeA,KAGjB,CACE,YAAYmpB,IACZ,MAGR,CAUAvpB,uBAAAA,CAAwBupB,EAAazpB,GACnC,OAAOipB,GAAW,GAAGQ,KAAezpB,KAClC,IAAM,CAAC,CACL,YAAYypB,cAAwBzpB,IACpC,YAAYypB,IACZ,YAAYzpB,IACZ,MAEN,CAOAwnB,eAAAA,CAAgBZ,GACd,MAAM1pE,EAAK0pE,EAAO1pE,GAElB,OAAO+rE,GAAW,GADLh1E,KAAKzG,eACkB0P,KAClC,IAAM,CAAC,CACL,WAAWA,OACR0pE,EAAO8C,wBAA0B,MAE1C,CAKAC,aAAAA,CAAcC,EAAWC,GACvB,MAAMP,EAAcr1E,KAAKq1E,YACzB,IAAIt8E,EAAQs8E,EAAY9mE,IAAIonE,GAK5B,OAJK58E,IAAS68E,IACZ78E,EAAQ,IAAIwpC,IACZ8yC,EAAY1yE,IAAIgzE,EAAW58E,IAEtBA,CACT,CAQAqwD,eAAAA,CAAgBusB,EAAWE,EAAUD,GACnC,MAAM,QAACvvE,EAAO,KAAE9M,GAAQyG,KAClBjH,EAAQiH,KAAK01E,cAAcC,EAAWC,GACtCnwB,EAAS1sD,EAAMwV,IAAIsnE,GACzB,GAAIpwB,EACF,OAAOA,EAGT,MAAM5T,EAAS,IAAIhU,IAEnBg4C,EAAS76E,SAAQO,IACXo6E,IACF9jC,EAAOmC,IAAI2hC,GACXp6E,EAAKP,SAAQU,GAAOw5E,GAAWrjC,EAAQ8jC,EAAWj6E,MAEpDH,EAAKP,SAAQU,GAAOw5E,GAAWrjC,EAAQxrC,EAAS3K,KAChDH,EAAKP,SAAQU,GAAOw5E,GAAWrjC,EAAQ1N,GAAU5qC,IAAS,CAAC,EAAGmC,KAC9DH,EAAKP,SAAQU,GAAOw5E,GAAWrjC,EAAQ/mC,GAAUpP,KACjDH,EAAKP,SAAQU,GAAOw5E,GAAWrjC,EAAQ/0C,GAAapB,IAAA,IAGtD,MAAMm/B,EAAQnhC,MAAM4L,KAAKusC,GAOzB,OANqB,IAAjBhX,EAAMx/B,QACRw/B,EAAMp8B,KAAK9F,OAAOK,OAAO,OAEvB+7E,GAAWpmE,IAAIknE,IACjB98E,EAAM4J,IAAIkzE,EAAUh7C,GAEfA,CACT,CAMAi7C,iBAAAA,GACE,MAAM,QAACzvE,EAAO,KAAE9M,GAAQyG,KAExB,MAAO,CACLqG,EACA89B,GAAU5qC,IAAS,CAAC,EACpBuR,GAASg6B,SAASvrC,IAAS,CAAC,EAC5B,CAACA,QACDuR,GACAhO,GAEJ,CASAovD,mBAAAA,CAAoBra,EAAQle,EAAOx3B,GAA0B,IAAjB21C,EAAWr5C,UAAA4C,OAAA,QAAAC,IAAA7C,UAAC,GAADA,UAAC,GAAD,CAAC,IACtD,MAAM8G,EAAS,CAACujD,SAAS,IACnB,SAAC/pB,EAAQ,YAAEg9C,GAAeC,GAAYh2E,KAAKs1E,eAAgBzjC,EAAQC,GACzE,IAAIzrC,EAAU0yB,EACd,GAkDJ,SAAqB0Z,EAAO9e,GAC1B,MAAM,aAACmgB,EAAY,YAAEI,GAAezP,GAAagO,GAEjD,IAAK,MAAM/1C,KAAQi3B,EAAO,CACxB,MAAM2gB,EAAaR,EAAap3C,GAC1B63C,EAAYL,EAAYx3C,GACxBqE,GAASwzC,GAAaD,IAAe7B,EAAM/1C,GACjD,GAAK43C,IAAex6C,GAAWiH,IAAUk1E,GAAYl1E,KAC/CwzC,GAAa96C,EAAQsH,GACzB,OAAO,CAEX,CACA,OAAO,CACT,CA/DQm1E,CAAYn9C,EAAUpF,GAAQ,CAChCp0B,EAAOujD,SAAU,EAIjBz8C,EAAUgtC,GAAeta,EAHzB58B,EAAUrC,GAAWqC,GAAWA,IAAYA,EAExB6D,KAAKqpD,eAAexX,EAAQ11C,EAAS45E,IAI3D,IAAK,MAAMr5E,KAAQi3B,EACjBp0B,EAAO7C,GAAQ2J,EAAQ3J,GAEzB,OAAO6C,CACT,CAQA8pD,cAAAA,CAAexX,EAAQ11C,GAA8C,IAArC21C,EAAWr5C,UAAA4C,OAAA,QAAAC,IAAA7C,UAAC,GAADA,UAAC,GAAD,CAAC,IAAK86C,EAAkB96C,UAAA4C,OAAA,EAAA5C,UAAA,QAAA6C,EACjE,MAAM,SAACy9B,GAAYi9C,GAAYh2E,KAAKs1E,eAAgBzjC,EAAQC,GAC5D,OAAO93C,EAASmC,GACZk3C,GAAeta,EAAU58B,OAASb,EAAWi4C,GAC7Cxa,CACN,EAGF,SAASi9C,GAAYG,EAAetkC,EAAQC,GAC1C,IAAI/4C,EAAQo9E,EAAc5nE,IAAIsjC,GACzB94C,IACHA,EAAQ,IAAIwpC,IACZ4zC,EAAcxzE,IAAIkvC,EAAQ94C,IAE5B,MAAM4pC,EAAWmP,EAAS7rC,OAC1B,IAAIw/C,EAAS1sD,EAAMwV,IAAIo0B,GACvB,IAAK8iB,EAAQ,CAEXA,EAAS,CACP1sB,SAFe6Y,GAAgBC,EAAQC,GAGvCikC,YAAajkC,EAAS1wC,QAAO20B,IAAMA,EAAE18B,cAAc4qC,SAAS,YAE9DlrC,EAAM4J,IAAIggC,EAAU8iB,GAEtB,OAAOA,CACT,CAEA,MAAMwwB,GAAcl1E,GAAS/G,EAAS+G,IACjCpI,OAAO6C,oBAAoBuF,GAAOoG,MAAMzL,GAAQ5B,GAAWiH,EAAMrF,MC9XtE,MAAM06E,GAAkB,CAAC,MAAO,SAAU,OAAQ,QAAS,aAC3D,SAASC,GAAqB50E,EAAUq9B,GACtC,MAAoB,QAAbr9B,GAAmC,WAAbA,IAAiE,IAAvC20E,GAAgBx0E,QAAQH,IAA6B,MAATq9B,CACrG,CAEA,SAASw3C,GAAcC,EAAIC,GACzB,OAAO,SAASp2E,EAAGC,GACjB,OAAOD,EAAEm2E,KAAQl2E,EAAEk2E,GACfn2E,EAAEo2E,GAAMn2E,EAAEm2E,GACVp2E,EAAEm2E,GAAMl2E,EAAEk2E,EAChB,CACF,CAEA,SAASE,GAAqBt6E,GAC5B,MAAMknC,EAAQlnC,EAAQknC,MAChBqf,EAAmBrf,EAAMh9B,QAAQs+B,UAEvCtB,EAAMulC,cAAc,eACpBziD,EAAau8B,GAAoBA,EAAiBg0B,WAAY,CAACv6E,GAAUknC,EAC3E,CAEA,SAASszC,GAAoBx6E,GAC3B,MAAMknC,EAAQlnC,EAAQknC,MAChBqf,EAAmBrf,EAAMh9B,QAAQs+B,UACvCxe,EAAau8B,GAAoBA,EAAiB5nC,WAAY,CAAC3e,GAAUknC,EAC3E,CAMA,SAASuzC,GAAUr9C,GAYjB,OAXI0e,MAAqC,kBAAT1e,EAC9BA,EAAO3vB,SAASitE,eAAet9C,GACtBA,GAAQA,EAAKl+B,SAEtBk+B,EAAOA,EAAK,IAGVA,GAAQA,EAAKwS,SAEfxS,EAAOA,EAAKwS,QAEPxS,CACT,CAEA,MAAMu9C,GAAY,CAAC,EACbC,GAAYr7E,IAChB,MAAMqwC,EAAS6qC,GAAUl7E,GACzB,OAAO/C,OAAOsqC,OAAO6zC,IAAW11E,QAAQsgB,GAAMA,EAAEqqB,SAAWA,IAAQtkC,KAAK,EAG1E,SAASuvE,GAAgB/7E,EAAKmhC,EAAOqxB,GACnC,MAAMlyD,EAAO5C,OAAO4C,KAAKN,GACzB,IAAK,MAAMS,KAAOH,EAAM,CACtB,MAAM07E,GAAUv7E,EAChB,GAAIu7E,GAAU76C,EAAO,CACnB,MAAMr7B,EAAQ9F,EAAIS,UACXT,EAAIS,IACP+xD,EAAO,GAAKwpB,EAAS76C,KACvBnhC,EAAIg8E,EAASxpB,GAAQ1sD,GAG3B,CACF,CAmBA,SAASm2E,GAAe3wC,EAAOglB,EAAW4rB,GACxC,OAAO5wC,EAAMlgC,QAAQyiC,KAAOvC,EAAM4wC,GAAS5rB,EAAU4rB,EACvD,CAeA,MAAMC,GAEJxxB,gBAAO,KAAW96C,GAAX,GACP86C,iBAAO,KAAYkxB,GAAZ,GACPlxB,iBAAO,KAAYzhB,GAAZ,GACPyhB,gBAAO,KAAW6S,GAAX,GACP7S,uBACAA,gBAAO,KAAWmxB,GAAX,GAEP,eAAO5H,GACL1W,GAASzkB,OAAOv7C,WAChB4+E,IACF,CAEA,iBAAOvH,GACLrX,GAAS7jD,UAAUnc,WACnB4+E,IACF,CAGAp4E,WAAAA,CAAYs6B,EAAM+9C,GAChB,MAAM5yE,EAAS1E,KAAK0E,OAAS,IAAIywE,GAAOmC,GAClCC,EAAgBX,GAAUr9C,GAC1Bi+C,EAAgBT,GAASQ,GAC/B,GAAIC,EACF,MAAM,IAAI50E,MACR,4CAA+C40E,EAAcvuE,GAA7D,kDACgDuuE,EAAczrC,OAAO9iC,GAAK,oBAI9E,MAAM5C,EAAU3B,EAAO2kD,eAAe3kD,EAAOoxE,oBAAqB91E,KAAKgsC,cAEvEhsC,KAAKuK,SAAW,IAAK7F,EAAO6F,UCpJzB,SAAyBwhC,GAC9B,OAAKkM,MAAiD,qBAApBw/B,iBAAmC1rC,aAAkB0rC,gBAC9EvY,GAEF2C,EACT,CD+I4C6V,CAAgBH,IACxDv3E,KAAKuK,SAAS00D,aAAav6D,GAE3B,MAAMvI,EAAU6D,KAAKuK,SAASu0D,eAAeyY,EAAelxE,EAAQ+zC,aAC9DrO,EAAS5vC,GAAWA,EAAQ4vC,OAC5BI,EAASJ,GAAUA,EAAOI,OAC1BxC,EAAQoC,GAAUA,EAAOpC,MAE/B3pC,KAAKiJ,GAAK8tB,IACV/2B,KAAKylC,IAAMtpC,EACX6D,KAAK+rC,OAASA,EACd/rC,KAAK2pC,MAAQA,EACb3pC,KAAKmsC,OAASA,EACdnsC,KAAK23E,SAAWtxE,EAIhBrG,KAAK43E,aAAe53E,KAAKo6C,YACzBp6C,KAAKy9D,QAAU,GACfz9D,KAAK63E,UAAY,GACjB73E,KAAK4kD,aAAUtpD,EACf0E,KAAKk9D,MAAQ,GACbl9D,KAAK4rC,6BAA0BtwC,EAC/B0E,KAAKurD,eAAYjwD,EACjB0E,KAAKsgD,QAAU,GACftgD,KAAK83E,gBAAax8E,EAClB0E,KAAKshB,WAAa,CAAC,EAEnBthB,KAAK+3E,0BAAuBz8E,EAC5B0E,KAAKg4E,gBAAkB,GACvBh4E,KAAKwmC,OAAS,CAAC,EACfxmC,KAAKi4E,SAAW,IAAI3F,GACpBtyE,KAAKuiE,SAAW,CAAC,EACjBviE,KAAKk4E,eAAiB,CAAC,EACvBl4E,KAAKm4E,UAAW,EAChBn4E,KAAK0sD,yBAAsBpxD,EAC3B0E,KAAKumD,cAAWjrD,EAChB0E,KAAKo4E,U1C9IF,SAA4C9/E,EAA8BmvC,GAC/E,IAAI/6B,EACJ,OAAO,WAAyB,QAAA0jE,EAAA33E,UAAA4C,OAAbmX,EAAW,IAAA9Y,MAAA02E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAX79D,EAAW69D,GAAA53E,UAAA43E,GAO5B,OANI5oC,GACFh1B,aAAa/F,GACbA,EAAU/N,WAAWrG,EAAImvC,EAAOj1B,IAEhCla,EAAGE,MAAMwH,KAAMwS,GAEVi1B,CACT,CACF,C0CmIqB4wC,EAASvyC,GAAQ9lC,KAAKkiD,OAAOpc,IAAOz/B,EAAQiyE,aAAe,GAC5Et4E,KAAK6tD,aAAe,GAGpBipB,GAAU92E,KAAKiJ,IAAMjJ,KAEhB7D,GAAY4vC,GASjBmV,GAASN,OAAO5gD,KAAM,WAAYy2E,IAClCv1B,GAASN,OAAO5gD,KAAM,WAAY22E,IAElC32E,KAAKu4E,cACDv4E,KAAKm4E,UACPn4E,KAAKkiD,UATL/iC,QAAQ5Z,MAAM,oEAWlB,CAEA,eAAI60C,GACF,MAAO/zC,SAAS,YAAC+zC,EAAW,oBAAEnU,GAAoB,MAAE0D,EAAA,OAAOwC,EAAM,aAAEyrC,GAAgB53E,KACnF,OAAKg3B,EAAcojB,GAKfnU,GAAuB2xC,EAElBA,EAIFzrC,EAASxC,EAAQwC,EAAS,KATxBiO,CAUX,CAEA,QAAI97C,GACF,OAAO0B,KAAK0E,OAAOpG,IACrB,CAEA,QAAIA,CAAKA,GACP0B,KAAK0E,OAAOpG,KAAOA,CACrB,CAEA,WAAI+H,GACF,OAAOrG,KAAK23E,QACd,CAEA,WAAItxE,CAAQA,GACVrG,KAAK0E,OAAO2B,QAAUA,CACxB,CAEA,YAAIoyD,GACF,OAAOA,EACT,CAKA8f,WAAAA,GAeE,OAbAv4E,KAAK4oE,cAAc,cAEf5oE,KAAKqG,QAAQigC,WACftmC,KAAK+nC,SAELgT,GAAY/6C,KAAMA,KAAKqG,QAAQ0+B,kBAGjC/kC,KAAKw4E,aAGLx4E,KAAK4oE,cAAc,aAEZ5oE,IACT,CAEAkJ,KAAAA,GAEE,OADA4iC,GAAY9rC,KAAK+rC,OAAQ/rC,KAAKylC,KACvBzlC,IACT,CAEAihD,IAAAA,GAEE,OADAC,GAASD,KAAKjhD,MACPA,IACT,CAOA+nC,MAAAA,CAAO4B,EAAOwC,GACP+U,GAASd,QAAQpgD,MAGpBA,KAAKy4E,kBAAoB,CAAC9uC,QAAOwC,UAFjCnsC,KAAK04E,QAAQ/uC,EAAOwC,EAIxB,CAEAusC,OAAAA,CAAQ/uC,EAAOwC,GACb,MAAM9lC,EAAUrG,KAAKqG,QACf0lC,EAAS/rC,KAAK+rC,OACdqO,EAAc/zC,EAAQ4/B,qBAAuBjmC,KAAKo6C,YAClDu+B,EAAU34E,KAAKuK,SAAS0vC,eAAelO,EAAQpC,EAAOwC,EAAQiO,GAC9Dw+B,EAAWvyE,EAAQ0+B,kBAAoB/kC,KAAKuK,SAASy6B,sBACrDc,EAAO9lC,KAAK2pC,MAAQ,SAAW,SAErC3pC,KAAK2pC,MAAQgvC,EAAQhvC,MACrB3pC,KAAKmsC,OAASwsC,EAAQxsC,OACtBnsC,KAAK43E,aAAe53E,KAAKo6C,YACpBW,GAAY/6C,KAAM44E,GAAU,KAIjC54E,KAAK4oE,cAAc,SAAU,CAAChlE,KAAM+0E,IAEpCxyD,EAAa9f,EAAQwyE,SAAU,CAAC74E,KAAM24E,GAAU34E,MAE5CA,KAAKm4E,UACHn4E,KAAKo4E,UAAUtyC,IAEjB9lC,KAAK84E,SAGX,CAEAC,mBAAAA,GAIExhD,EAHgBv3B,KAAKqG,QACSmgC,QAAU,CAAC,GAErB,CAACwyC,EAAanK,KAChCmK,EAAY/vE,GAAK4lE,CAAA,GAErB,CAKAoK,mBAAAA,GACE,MAAM5yE,EAAUrG,KAAKqG,QACf6yE,EAAY7yE,EAAQmgC,OACpBA,EAASxmC,KAAKwmC,OACd2yC,EAAUxgF,OAAO4C,KAAKirC,GAAQqa,QAAO,CAAC5lD,EAAKgO,KAC/ChO,EAAIgO,IAAM,EACHhO,IACN,CAAC,GACJ,IAAI2iC,EAAQ,GAERs7C,IACFt7C,EAAQA,EAAM53B,OACZrN,OAAO4C,KAAK29E,GAAWn+E,KAAKkO,IAC1B,MAAM4qE,EAAeqF,EAAUjwE,GACzB61B,EAAO60C,GAAc1qE,EAAI4qE,GACzBuF,EAAoB,MAATt6C,EACXu2B,EAAwB,MAATv2B,EACrB,MAAO,CACLz4B,QAASwtE,EACTwF,UAAWD,EAAW,YAAc/jB,EAAe,SAAW,OAC9DikB,MAAOF,EAAW,eAAiB/jB,EAAe,WAAa,SAChE,MAKP99B,EAAKqG,GAAQrE,IACX,MAAMs6C,EAAet6C,EAAKlzB,QACpB4C,EAAK4qE,EAAa5qE,GAClB61B,EAAO60C,GAAc1qE,EAAI4qE,GACzB0F,EAAYpiD,EAAe08C,EAAat6E,KAAMggC,EAAK+/C,YAE3Bh+E,IAA1Bu4E,EAAapyE,UAA0B40E,GAAqBxC,EAAapyE,SAAUq9B,KAAUu3C,GAAqB98C,EAAK8/C,aACzHxF,EAAapyE,SAAW83B,EAAK8/C,WAG/BF,EAAQlwE,IAAM,EACd,IAAIs9B,EAAQ,KACZ,GAAIt9B,KAAMu9B,GAAUA,EAAOv9B,GAAI1P,OAASggF,EACtChzC,EAAQC,EAAOv9B,OACV,CAELs9B,EAAQ,IADWkyB,GAASwY,SAASsI,GAC7B,CAAe,CACrBtwE,KACA1P,KAAMggF,EACN9zC,IAAKzlC,KAAKylC,IACVpC,MAAOrjC,OAETwmC,EAAOD,EAAMt9B,IAAMs9B,EAGrBA,EAAMuyB,KAAK+a,EAAcxtE,EAAA,IAG3BkxB,EAAK4hD,GAAS,CAACK,EAAYvwE,KACpBuwE,UACIhzC,EAAOv9B,MAIlBsuB,EAAKiP,GAASD,IACZ+0B,GAAQ7Y,UAAUziD,KAAMumC,EAAOA,EAAMlgC,SACrCi1D,GAAQkC,OAAOx9D,KAAMumC,EAAA,GAEzB,CAKAkzC,eAAAA,GACE,MAAMj2B,EAAWxjD,KAAK63E,UAChBvqB,EAAUttD,KAAK1B,KAAKwmC,SAASzpC,OAC7BgyD,EAAU7J,EAASnoD,OAGzB,GADAmoD,EAASgL,MAAK,CAACpuD,EAAGC,IAAMD,EAAEkH,MAAQjH,EAAEiH,QAChC+lD,EAAUC,EAAS,CACrB,IAAK,IAAIpyD,EAAIoyD,EAASpyD,EAAImyD,IAAWnyD,EACnC8E,KAAK05E,oBAAoBx+E,GAE3BsoD,EAAS/hC,OAAO6rC,EAASD,EAAUC,GAErCttD,KAAKg4E,gBAAkBx0B,EAASpqD,MAAM,GAAGo1D,KAAK8nB,GAAc,QAAS,SACvE,CAKAqD,2BAAAA,GACE,MAAO9B,UAAWr0B,EAAUllD,MAAM,SAACwmC,IAAa9kC,KAC5CwjD,EAASnoD,OAASypC,EAASzpC,eACtB2E,KAAK4kD,QAEdpB,EAASxoD,SAAQ,CAACsjC,EAAMh3B,KACmC,IAArDw9B,EAAS1jC,QAAO6nB,GAAKA,IAAMqV,EAAKs5B,WAAUv8D,QAC5C2E,KAAK05E,oBAAoBpyE,KAG/B,CAEAsyE,wBAAAA,GACE,MAAMC,EAAiB,GACjB/0C,EAAW9kC,KAAK1B,KAAKwmC,SAC3B,IAAI5pC,EAAG28B,EAIP,IAFA73B,KAAK25E,8BAEAz+E,EAAI,EAAG28B,EAAOiN,EAASzpC,OAAQH,EAAI28B,EAAM38B,IAAK,CACjD,MAAM+rD,EAAUniB,EAAS5pC,GACzB,IAAIojC,EAAOt+B,KAAKgoD,eAAe9sD,GAC/B,MAAM3B,EAAO0tD,EAAQ1tD,MAAQyG,KAAK0E,OAAOnL,KAazC,GAXI+kC,EAAK/kC,MAAQ+kC,EAAK/kC,OAASA,IAC7ByG,KAAK05E,oBAAoBx+E,GACzBojC,EAAOt+B,KAAKgoD,eAAe9sD,IAE7BojC,EAAK/kC,KAAOA,EACZ+kC,EAAKsH,UAAYqhB,EAAQrhB,WAAa4tC,GAAaj6E,EAAMyG,KAAKqG,SAC9Di4B,EAAKw7C,MAAQ7yB,EAAQ6yB,OAAS,EAC9Bx7C,EAAKh3B,MAAQpM,EACbojC,EAAK2sB,MAAQ,GAAKhE,EAAQgE,MAC1B3sB,EAAK4J,QAAUloC,KAAKwxD,iBAAiBt2D,GAEjCojC,EAAKxkB,WACPwkB,EAAKxkB,WAAWktC,YAAY9rD,GAC5BojC,EAAKxkB,WAAW8sC,iBACX,CACL,MAAMmzB,EAAkBthB,GAASqY,cAAcv3E,IACzC,mBAACktD,EAAA,gBAAoBC,GAAmB57C,GAASg6B,SAASvrC,GAChEZ,OAAOqI,OAAO+4E,EAAiB,CAC7BrzB,gBAAiB+R,GAASC,WAAWhS,GACrCD,mBAAoBA,GAAsBgS,GAASC,WAAWjS,KAEhEnoB,EAAKxkB,WAAa,IAAIigE,EAAgB/5E,KAAM9E,GAC5C2+E,EAAep7E,KAAK6/B,EAAKxkB,YAE7B,CAGA,OADA9Z,KAAKy5E,kBACEI,CACT,CAMAG,cAAAA,GACEziD,EAAKv3B,KAAK1B,KAAKwmC,UAAU,CAACmiB,EAASjvB,KACjCh4B,KAAKgoD,eAAehwB,GAAcle,WAAWquC,OAAO,GACnDnoD,KACL,CAKAmoD,KAAAA,GACEnoD,KAAKg6E,iBACLh6E,KAAK4oE,cAAc,QACrB,CAEA1mB,MAAAA,CAAOpc,GACL,MAAMphC,EAAS1E,KAAK0E,OAEpBA,EAAOw9C,SACP,MAAM77C,EAAUrG,KAAK23E,SAAWjzE,EAAO2kD,eAAe3kD,EAAOoxE,oBAAqB91E,KAAKgsC,cACjFiuC,EAAgBj6E,KAAK0sD,qBAAuBrmD,EAAQs+B,UAU1D,GARA3kC,KAAKk6E,gBACLl6E,KAAKm6E,sBACLn6E,KAAKo6E,uBAILp6E,KAAKi4E,SAASpF,cAEuD,IAAjE7yE,KAAK4oE,cAAc,eAAgB,CAAC9iC,OAAM8sC,YAAY,IACxD,OAIF,MAAMiH,EAAiB75E,KAAK45E,2BAE5B55E,KAAK4oE,cAAc,wBAGnB,IAAI/K,EAAa,EACjB,IAAK,IAAI3iE,EAAI,EAAG28B,EAAO73B,KAAK1B,KAAKwmC,SAASzpC,OAAQH,EAAI28B,EAAM38B,IAAK,CAC/D,MAAM,WAAC4e,GAAc9Z,KAAKgoD,eAAe9sD,GACnCitD,GAAS8xB,IAAyD,IAAxCJ,EAAej4E,QAAQkY,GAGvDA,EAAW+uC,sBAAsBV,GACjC0V,EAAa7/D,KAAK2oB,KAAK7M,EAAWixC,iBAAkB8S,EACtD,CACAA,EAAa79D,KAAKq6E,YAAch0E,EAAQw1D,OAAOzzB,YAAcy1B,EAAa,EAC1E79D,KAAKs6E,cAAczc,GAGdoc,GAGH1iD,EAAKsiD,GAAiB//D,IACpBA,EAAWquC,OAAO,IAItBnoD,KAAKu6E,gBAAgBz0C,GAGrB9lC,KAAK4oE,cAAc,cAAe,CAAC9iC,SAEnC9lC,KAAKy9D,QAAQjP,KAAK8nB,GAAc,IAAK,SAGrC,MAAM,QAACh2B,EAAO,WAAEw3B,GAAc93E,KAC1B83E,EACF93E,KAAKw6E,cAAc1C,GAAY,GACtBx3B,EAAQjlD,QACjB2E,KAAKy6E,mBAAmBn6B,EAASA,GAAS,GAG5CtgD,KAAK84E,QACP,CAKAoB,aAAAA,GACE3iD,EAAKv3B,KAAKwmC,QAASD,IACjB+0B,GAAQqC,UAAU39D,KAAMumC,EAAA,IAG1BvmC,KAAK+4E,sBACL/4E,KAAKi5E,qBACP,CAKAkB,mBAAAA,GACE,MAAM9zE,EAAUrG,KAAKqG,QACfq0E,EAAiB,IAAI78C,IAAIllC,OAAO4C,KAAKyE,KAAKshB,aAC1Cq5D,EAAY,IAAI98C,IAAIx3B,EAAQ6+B,QAE7B5L,GAAUohD,EAAgBC,MAAgB36E,KAAK+3E,uBAAyB1xE,EAAQigC,aAEnFtmC,KAAK46E,eACL56E,KAAKw4E,aAET,CAKA4B,oBAAAA,GACE,MAAM,eAAClC,GAAkBl4E,KACnB66E,EAAU76E,KAAK86E,0BAA4B,GACjD,IAAK,MAAM,OAAC7tE,EAAM,MAAEmvB,EAAA,MAAOsC,KAAUm8C,EAAS,CAE5C7D,GAAgBkB,EAAgB97C,EADR,oBAAXnvB,GAAgCyxB,EAAQA,EAEvD,CACF,CAKAo8C,sBAAAA,GACE,MAAMjtB,EAAe7tD,KAAK6tD,aAC1B,IAAKA,IAAiBA,EAAaxyD,OACjC,OAGF2E,KAAK6tD,aAAe,GACpB,MAAMktB,EAAe/6E,KAAK1B,KAAKwmC,SAASzpC,OAClC2/E,EAAW7P,GAAQ,IAAIttC,IAC3BgwB,EACGzsD,QAAOsgB,GAAKA,EAAE,KAAOypD,IACrBpwE,KAAI,CAAC2mB,EAAGxmB,IAAMA,EAAI,IAAMwmB,EAAED,OAAO,GAAGxb,KAAK,QAGxCg1E,EAAYD,EAAQ,GAC1B,IAAK,IAAI9/E,EAAI,EAAGA,EAAI6/E,EAAc7/E,IAChC,IAAKo+B,GAAU2hD,EAAWD,EAAQ9/E,IAChC,OAGJ,OAAOxB,MAAM4L,KAAK21E,GACflgF,KAAI2mB,GAAKA,EAAEze,MAAM,OACjBlI,KAAIqF,IAAA,CAAO6M,OAAQ7M,EAAE,GAAIg8B,OAAQh8B,EAAE,GAAIs+B,OAAQt+B,EAAE,MACtD,CAOAk6E,aAAAA,CAAczc,GACZ,IAA+D,IAA3D79D,KAAK4oE,cAAc,eAAgB,CAACgK,YAAY,IAClD,OAGFtX,GAAQpZ,OAAOliD,KAAMA,KAAK2pC,MAAO3pC,KAAKmsC,OAAQ0xB,GAE9C,MAAM/vB,EAAO9tC,KAAKurD,UACZ2vB,EAASptC,EAAKnE,OAAS,GAAKmE,EAAK3B,QAAU,EAEjDnsC,KAAKy9D,QAAU,GACflmC,EAAKv3B,KAAKk9D,OAAQ5jB,IACZ4hC,GAA2B,cAAjB5hC,EAAI73C,WAOd63C,EAAImJ,WACNnJ,EAAImJ,YAENziD,KAAKy9D,QAAQh/D,QAAQ66C,EAAImkB,WAAU,GAClCz9D,MAEHA,KAAKy9D,QAAQziE,SAAQ,CAACu+B,EAAMjyB,KAC1BiyB,EAAK4hD,KAAO7zE,CAAA,IAGdtH,KAAK4oE,cAAc,cACrB,CAOA2R,eAAAA,CAAgBz0C,GACd,IAA6E,IAAzE9lC,KAAK4oE,cAAc,uBAAwB,CAAC9iC,OAAM8sC,YAAY,IAAlE,CAIA,IAAK,IAAI13E,EAAI,EAAG28B,EAAO73B,KAAK1B,KAAKwmC,SAASzpC,OAAQH,EAAI28B,IAAQ38B,EAC5D8E,KAAKgoD,eAAe9sD,GAAG4e,WAAW2oC,YAGpC,IAAK,IAAIvnD,EAAI,EAAG28B,EAAO73B,KAAK1B,KAAKwmC,SAASzpC,OAAQH,EAAI28B,IAAQ38B,EAC5D8E,KAAKo7E,eAAelgF,EAAGpB,GAAWgsC,GAAQA,EAAK,CAAC9N,aAAc98B,IAAM4qC,GAGtE9lC,KAAK4oE,cAAc,sBAAuB,CAAC9iC,SAC7C,CAOAs1C,cAAAA,CAAe9zE,EAAOw+B,GACpB,MAAMxH,EAAOt+B,KAAKgoD,eAAe1gD,GAC3BkL,EAAO,CAAC8rB,OAAMh3B,QAAOw+B,OAAM8sC,YAAY,IAEW,IAApD5yE,KAAK4oE,cAAc,sBAAuBp2D,KAI9C8rB,EAAKxkB,WAAWomC,QAAQpa,GAExBtzB,EAAKogE,YAAa,EAClB5yE,KAAK4oE,cAAc,qBAAsBp2D,GAC3C,CAEAsmE,MAAAA,IACiE,IAA3D94E,KAAK4oE,cAAc,eAAgB,CAACgK,YAAY,MAIhD1xB,GAASvyC,IAAI3O,MACXA,KAAKm4E,WAAaj3B,GAASd,QAAQpgD,OACrCkhD,GAAS9kB,MAAMp8B,OAGjBA,KAAKqgD,OACLo2B,GAAqB,CAACpzC,MAAOrjC,QAEjC,CAEAqgD,IAAAA,GACE,IAAInlD,EACJ,GAAI8E,KAAKy4E,kBAAmB,CAC1B,MAAM,MAAC9uC,EAAA,OAAOwC,GAAUnsC,KAAKy4E,kBAE7Bz4E,KAAKy4E,kBAAoB,KACzBz4E,KAAK04E,QAAQ/uC,EAAOwC,GAItB,GAFAnsC,KAAKkJ,QAEDlJ,KAAK2pC,OAAS,GAAK3pC,KAAKmsC,QAAU,EACpC,OAGF,IAA6D,IAAzDnsC,KAAK4oE,cAAc,aAAc,CAACgK,YAAY,IAChD,OAMF,MAAMyI,EAASr7E,KAAKy9D,QACpB,IAAKviE,EAAI,EAAGA,EAAImgF,EAAOhgF,QAAUggF,EAAOngF,GAAGwiE,GAAK,IAAKxiE,EACnDmgF,EAAOngF,GAAGmlD,KAAKrgD,KAAKurD,WAMtB,IAHAvrD,KAAKs7E,gBAGEpgF,EAAImgF,EAAOhgF,SAAUH,EAC1BmgF,EAAOngF,GAAGmlD,KAAKrgD,KAAKurD,WAGtBvrD,KAAK4oE,cAAc,YACrB,CAKAnlB,sBAAAA,CAAuBF,GACrB,MAAMC,EAAWxjD,KAAKg4E,gBAChBz4E,EAAS,GACf,IAAIrE,EAAG28B,EAEP,IAAK38B,EAAI,EAAG28B,EAAO2rB,EAASnoD,OAAQH,EAAI28B,IAAQ38B,EAAG,CACjD,MAAMojC,EAAOklB,EAAStoD,GACjBqoD,IAAiBjlB,EAAK4J,SACzB3oC,EAAOd,KAAK6/B,EAEhB,CAEA,OAAO/+B,CACT,CAMAm6D,4BAAAA,GACE,OAAO15D,KAAKyjD,wBAAuB,EACrC,CAOA63B,aAAAA,GACE,IAAqE,IAAjEt7E,KAAK4oE,cAAc,qBAAsB,CAACgK,YAAY,IACxD,OAGF,MAAMpvB,EAAWxjD,KAAK05D,+BACtB,IAAK,IAAIx+D,EAAIsoD,EAASnoD,OAAS,EAAGH,GAAK,IAAKA,EAC1C8E,KAAKu7E,aAAa/3B,EAAStoD,IAG7B8E,KAAK4oE,cAAc,oBACrB,CAOA2S,YAAAA,CAAaj9C,GACX,MAAMmH,EAAMzlC,KAAKylC,IACXqD,EAAOxK,EAAK6sB,MACZqwB,GAAW1yC,EAAKsiB,SAChBtd,EAzrBV,SAAwBxP,EAAMitB,GAC5B,MAAM,OAACnsB,EAAA,OAAQC,GAAUf,EACzB,OAAIc,GAAUC,EACL,CACLoJ,KAAMyuC,GAAe93C,EAAQmsB,EAAW,QACxChjB,MAAO2uC,GAAe93C,EAAQmsB,EAAW,SACzCjjB,IAAK4uC,GAAe73C,EAAQksB,EAAW,OACvC/iB,OAAQ0uC,GAAe73C,EAAQksB,EAAW,WAGvCA,CACT,CA8qBiBkwB,CAAen9C,EAAMt+B,KAAKurD,WACjC/4C,EAAO,CACX8rB,OACAh3B,MAAOg3B,EAAKh3B,MACZsrE,YAAY,IAGwC,IAAlD5yE,KAAK4oE,cAAc,oBAAqBp2D,KAIxCgpE,GACFxtC,GAASvI,EAAK,CACZgD,MAAoB,IAAdK,EAAKL,KAAiB,EAAIqF,EAAKrF,KAAOK,EAAKL,KACjDF,OAAsB,IAAfO,EAAKP,MAAkBvoC,KAAK2pC,MAAQmE,EAAKvF,MAAQO,EAAKP,MAC7DD,KAAkB,IAAbQ,EAAKR,IAAgB,EAAIwF,EAAKxF,IAAMQ,EAAKR,IAC9CE,QAAwB,IAAhBM,EAAKN,OAAmBxoC,KAAKmsC,OAAS2B,EAAKtF,OAASM,EAAKN,SAIrElK,EAAKxkB,WAAWumC,OAEZm7B,GACFvtC,GAAWxI,GAGbjzB,EAAKogE,YAAa,EAClB5yE,KAAK4oE,cAAc,mBAAoBp2D,GACzC,CAOAqnD,aAAAA,CAAchsB,GACZ,OAAOD,GAAeC,EAAO7tC,KAAKurD,UAAWvrD,KAAKq6E,YACpD,CAEAqB,yBAAAA,CAA0BvvE,EAAG25B,EAAMz/B,EAASuzD,GAC1C,MAAM3sD,EAAS6tD,GAAYC,MAAMj1B,GACjC,MAAsB,oBAAX74B,EACFA,EAAOjN,KAAMmM,EAAG9F,EAASuzD,GAG3B,EACT,CAEA5R,cAAAA,CAAehwB,GACb,MAAMivB,EAAUjnD,KAAK1B,KAAKwmC,SAAS9M,GAC7BwrB,EAAWxjD,KAAK63E,UACtB,IAAIv5C,EAAOklB,EAASpiD,QAAO6nB,GAAKA,GAAKA,EAAE2uC,WAAa3Q,IAASx/C,MAoB7D,OAlBK62B,IACHA,EAAO,CACL/kC,KAAM,KACN+E,KAAM,GACN2oD,QAAS,KACTntC,WAAY,KACZ2wC,OAAQ,KACRpD,QAAS,KACTE,QAAS,KACTuyB,MAAO7yB,GAAWA,EAAQ6yB,OAAS,EACnCxyE,MAAO0wB,EACP4/B,SAAU3Q,EACVpoB,QAAS,GACTF,SAAS,GAEX6kB,EAAS/kD,KAAK6/B,IAGTA,CACT,CAEA0N,UAAAA,GACE,OAAOhsC,KAAKumD,WAAavmD,KAAKumD,SAAW7U,GAAc,KAAM,CAACrO,MAAOrjC,KAAMzG,KAAM,UACnF,CAEA86D,sBAAAA,GACE,OAAOr0D,KAAK05D,+BAA+Br+D,MAC7C,CAEAm2D,gBAAAA,CAAiBx5B,GACf,MAAMivB,EAAUjnD,KAAK1B,KAAKwmC,SAAS9M,GACnC,IAAKivB,EACH,OAAO,EAGT,MAAM3oB,EAAOt+B,KAAKgoD,eAAehwB,GAIjC,MAA8B,mBAAhBsG,EAAKmsB,QAAwBnsB,EAAKmsB,QAAUxD,EAAQwD,MACpE,CAEAkxB,oBAAAA,CAAqB3jD,EAAckQ,GACpBloC,KAAKgoD,eAAehwB,GAC5ByyB,QAAUviB,CACjB,CAEA8oB,oBAAAA,CAAqB1pD,GACnBtH,KAAKk4E,eAAe5wE,IAAUtH,KAAKk4E,eAAe5wE,EACpD,CAEAwpD,iBAAAA,CAAkBxpD,GAChB,OAAQtH,KAAKk4E,eAAe5wE,EAC9B,CAKAs0E,iBAAAA,CAAkB5jD,EAAc0zB,EAAWxjB,GACzC,MAAMpC,EAAOoC,EAAU,OAAS,OAC1B5J,EAAOt+B,KAAKgoD,eAAehwB,GAC3B4nB,EAAQthB,EAAKxkB,WAAWsyC,wBAAmB9wD,EAAWwqC,GAExDzM,GAAQqyB,IACVptB,EAAKhgC,KAAKotD,GAAWjB,QAAUviB,EAC/BloC,KAAKkiD,WAELliD,KAAK27E,qBAAqB3jD,EAAckQ,GAExC0X,EAAMsC,OAAO5jB,EAAM,CAAC4J,YACpBloC,KAAKkiD,QAAQzc,GAAQA,EAAIzN,eAAiBA,EAAe8N,OAAOxqC,IAEpE,CAEA6sC,IAAAA,CAAKnQ,EAAc0zB,GACjB1rD,KAAK47E,kBAAkB5jD,EAAc0zB,GAAW,EAClD,CAEA1jB,IAAAA,CAAKhQ,EAAc0zB,GACjB1rD,KAAK47E,kBAAkB5jD,EAAc0zB,GAAW,EAClD,CAKAguB,mBAAAA,CAAoB1hD,GAClB,MAAMsG,EAAOt+B,KAAK63E,UAAU7/C,GACxBsG,GAAQA,EAAKxkB,YACfwkB,EAAKxkB,WAAWsuC,kBAEXpoD,KAAK63E,UAAU7/C,EACxB,CAEA6jD,KAAAA,GACE,IAAI3gF,EAAG28B,EAIP,IAHA73B,KAAKihD,OACLC,GAAStsC,OAAO5U,MAEX9E,EAAI,EAAG28B,EAAO73B,KAAK1B,KAAKwmC,SAASzpC,OAAQH,EAAI28B,IAAQ38B,EACxD8E,KAAK05E,oBAAoBx+E,EAE7B,CAEA4gF,OAAAA,GACE97E,KAAK4oE,cAAc,iBACnB,MAAM,OAAC78B,EAAM,IAAEtG,GAAOzlC,KAEtBA,KAAK67E,QACL77E,KAAK0E,OAAO6wE,aAERxpC,IACF/rC,KAAK46E,eACL9uC,GAAYC,EAAQtG,GACpBzlC,KAAKuK,SAASw0D,eAAet5B,GAC7BzlC,KAAK+rC,OAAS,KACd/rC,KAAKylC,IAAM,aAGNqxC,GAAU92E,KAAKiJ,IAEtBjJ,KAAK4oE,cAAc,eACrB,CAEAmT,aAAAA,GACE,OAAO/7E,KAAK+rC,OAAOiwC,aAAavjF,UAClC,CAKA+/E,UAAAA,GACEx4E,KAAKi8E,iBACDj8E,KAAKqG,QAAQigC,WACftmC,KAAKk8E,uBAELl8E,KAAKm4E,UAAW,CAEpB,CAKA8D,cAAAA,GACE,MAAMv+C,EAAY19B,KAAKshB,WACjB/W,EAAWvK,KAAKuK,SAEhB4xE,EAAOA,CAAC5iF,EAAMqZ,KAClBrI,EAASpM,iBAAiB6B,KAAMzG,EAAMqZ,GACtC8qB,EAAUnkC,GAAQqZ,CAAA,EAGdA,EAAWA,CAACzG,EAAG8c,EAAG4P,KACtB1sB,EAAEqtC,QAAUvwB,EACZ9c,EAAEstC,QAAU5gB,EACZ74B,KAAKw6E,cAAcruE,EAAA,EAGrBorB,EAAKv3B,KAAKqG,QAAQ6+B,QAAS3rC,GAAS4iF,EAAK5iF,EAAMqZ,IACjD,CAKAspE,oBAAAA,GACOl8E,KAAK+3E,uBACR/3E,KAAK+3E,qBAAuB,CAAC,GAE/B,MAAMr6C,EAAY19B,KAAK+3E,qBACjBxtE,EAAWvK,KAAKuK,SAEhB4xE,EAAOA,CAAC5iF,EAAMqZ,KAClBrI,EAASpM,iBAAiB6B,KAAMzG,EAAMqZ,GACtC8qB,EAAUnkC,GAAQqZ,CAAA,EAEdwpE,EAAUA,CAAC7iF,EAAMqZ,KACjB8qB,EAAUnkC,KACZgR,EAAS2N,oBAAoBlY,KAAMzG,EAAMqZ,UAClC8qB,EAAUnkC,KAIfqZ,EAAWA,CAAC+2B,EAAOwC,KACnBnsC,KAAK+rC,QACP/rC,KAAK+nC,OAAO4B,EAAOwC,IAIvB,IAAIkwC,EACJ,MAAMlE,EAAWA,KACfiE,EAAQ,SAAUjE,GAElBn4E,KAAKm4E,UAAW,EAChBn4E,KAAK+nC,SAELo0C,EAAK,SAAUvpE,GACfupE,EAAK,SAAUE,EAAA,EAGjBA,EAAWA,KACTr8E,KAAKm4E,UAAW,EAEhBiE,EAAQ,SAAUxpE,GAGlB5S,KAAK67E,QACL77E,KAAK04E,QAAQ,EAAG,GAEhByD,EAAK,SAAUhE,EAAA,EAGb5tE,EAASy0D,WAAWh/D,KAAK+rC,QAC3BosC,IAEAkE,GAEJ,CAKAzB,YAAAA,GACErjD,EAAKv3B,KAAKshB,YAAY,CAAC1O,EAAUrZ,KAC/ByG,KAAKuK,SAAS2N,oBAAoBlY,KAAMzG,EAAMqZ,EAAA,IAEhD5S,KAAKshB,WAAa,CAAC,EAEnBiW,EAAKv3B,KAAK+3E,sBAAsB,CAACnlE,EAAUrZ,KACzCyG,KAAKuK,SAAS2N,oBAAoBlY,KAAMzG,EAAMqZ,EAAA,IAEhD5S,KAAK+3E,0BAAuBz8E,CAC9B,CAEAghF,gBAAAA,CAAiB1+C,EAAOkI,EAAM29B,GAC5B,MAAM/wB,EAAS+wB,EAAU,MAAQ,SACjC,IAAInlC,EAAM/E,EAAMr+B,EAAG28B,EAOnB,IALa,YAATiO,IACFxH,EAAOt+B,KAAKgoD,eAAepqB,EAAM,GAAG5F,cACpCsG,EAAKxkB,WAAW,IAAM44B,EAAS,wBAG5Bx3C,EAAI,EAAG28B,EAAO+F,EAAMviC,OAAQH,EAAI28B,IAAQ38B,EAAG,CAC9Cq+B,EAAOqE,EAAM1iC,GACb,MAAM4e,EAAayf,GAAQv5B,KAAKgoD,eAAezuB,EAAKvB,cAAcle,WAC9DA,GACFA,EAAW44B,EAAS,cAAcnZ,EAAKmf,QAASnf,EAAKvB,aAAcuB,EAAKjyB,MAE5E,CACF,CAMAi1E,iBAAAA,GACE,OAAOv8E,KAAKsgD,SAAW,EACzB,CAMAk8B,iBAAAA,CAAkBC,GAChB,MAAMC,EAAa18E,KAAKsgD,SAAW,GAC7BxY,EAAS20C,EAAe1hF,KAAI4hF,IAA2B,IAA1B,aAAC3kD,EAAY,MAAE1wB,GAAMq1E,EACtD,MAAMr+C,EAAOt+B,KAAKgoD,eAAehwB,GACjC,IAAKsG,EACH,MAAM,IAAI17B,MAAM,6BAA+Bo1B,GAGjD,MAAO,CACLA,eACA0gB,QAASpa,EAAKhgC,KAAKgJ,GACnBA,QACD,KAEcowB,EAAeoQ,EAAQ40C,KAGtC18E,KAAKsgD,QAAUxY,EAEf9nC,KAAK83E,WAAa,KAClB93E,KAAKy6E,mBAAmB3yC,EAAQ40C,GAEpC,CAWA9T,aAAAA,CAAc6J,EAAMjgE,EAAMpR,GACxB,OAAOpB,KAAKi4E,SAASzF,OAAOxyE,KAAMyyE,EAAMjgE,EAAMpR,EAChD,CAOA2lD,eAAAA,CAAgB61B,GACd,OAA6E,IAAtE58E,KAAKi4E,SAAS5pB,OAAOjtD,QAAO20B,GAAKA,EAAE48C,OAAO1pE,KAAO2zE,IAAUvhF,MACpE,CAKAo/E,kBAAAA,CAAmB3yC,EAAQ40C,EAAYG,GACrC,MAAMC,EAAe98E,KAAKqG,QAAQk/B,MAC5ByzB,EAAOA,CAAC54D,EAAGC,IAAMD,EAAEgB,QAAO6nB,IAAM5oB,EAAE8G,MAAK0xB,GAAK5P,EAAE+O,eAAiBa,EAAEb,cAAgB/O,EAAE3hB,QAAUuxB,EAAEvxB,UAC/Fy1E,EAAc/jB,EAAK0jB,EAAY50C,GAC/Bk1C,EAAYH,EAAS/0C,EAASkxB,EAAKlxB,EAAQ40C,GAE7CK,EAAY1hF,QACd2E,KAAKs8E,iBAAiBS,EAAaD,EAAah3C,MAAM,GAGpDk3C,EAAU3hF,QAAUyhF,EAAah3C,MACnC9lC,KAAKs8E,iBAAiBU,EAAWF,EAAah3C,MAAM,EAExD,CAKA00C,aAAAA,CAAcruE,EAAG0wE,GACf,MAAMrqE,EAAO,CACXiB,MAAOtH,EACP0wE,SACAjK,YAAY,EACZqK,YAAaj9E,KAAK65D,cAAc1tD,IAE5B+wE,EAAevK,IAAYA,EAAOtsE,QAAQ6+B,QAAUllC,KAAKqG,QAAQ6+B,QAAQjB,SAAS93B,EAAEu1D,OAAOnoE,MAEjG,IAA6D,IAAzDyG,KAAK4oE,cAAc,cAAep2D,EAAM0qE,GAC1C,OAGF,MAAMt9C,EAAU5/B,KAAKm9E,aAAahxE,EAAG0wE,EAAQrqE,EAAKyqE,aASlD,OAPAzqE,EAAKogE,YAAa,EAClB5yE,KAAK4oE,cAAc,aAAcp2D,EAAM0qE,IAEnCt9C,GAAWptB,EAAKotB,UAClB5/B,KAAK84E,SAGA94E,IACT,CAUAm9E,YAAAA,CAAahxE,EAAG0wE,EAAQI,GACtB,MAAO38B,QAASo8B,EAAa,GAAE,QAAEr2E,GAAWrG,KAetC45D,EAAmBijB,EACnB/0C,EAAS9nC,KAAKo9E,mBAAmBjxE,EAAGuwE,EAAYO,EAAarjB,GAC7DyjB,E7CxzBH,SAAuBlxE,GAC5B,MAAkB,YAAXA,EAAE5S,MAAiC,UAAX4S,EAAE5S,MAA+B,gBAAX4S,EAAE5S,IACzD,C6CszBoB+jF,CAAcnxE,GACxBoxE,EAznCV,SAA4BpxE,EAAGoxE,EAAWN,EAAaI,GACrD,OAAKJ,GAA0B,aAAX9wE,EAAE5S,KAGlB8jF,EACKE,EAEFpxE,EALE,IAMX,CAinCsBqxE,CAAmBrxE,EAAGnM,KAAK83E,WAAYmF,EAAaI,GAElEJ,IAGFj9E,KAAK83E,WAAa,KAGlB3xD,EAAa9f,EAAQ6/B,QAAS,CAAC/5B,EAAG27B,EAAQ9nC,MAAOA,MAE7Cq9E,GACFl3D,EAAa9f,EAAQ8/B,QAAS,CAACh6B,EAAG27B,EAAQ9nC,MAAOA,OAIrD,MAAM4/B,GAAWlI,EAAeoQ,EAAQ40C,GAQxC,OAPI98C,GAAWi9C,KACb78E,KAAKsgD,QAAUxY,EACf9nC,KAAKy6E,mBAAmB3yC,EAAQ40C,EAAYG,IAG9C78E,KAAK83E,WAAayF,EAEX39C,CACT,CAUAw9C,kBAAAA,CAAmBjxE,EAAGuwE,EAAYO,EAAarjB,GAC7C,GAAe,aAAXztD,EAAE5S,KACJ,MAAO,GAGT,IAAK0jF,EAEH,OAAOP,EAGT,MAAMI,EAAe98E,KAAKqG,QAAQk/B,MAClC,OAAOvlC,KAAK07E,0BAA0BvvE,EAAG2wE,EAAah3C,KAAMg3C,EAAcljB,EAC5E,EAIF,SAASyd,KACP,OAAO9/C,EAAK6/C,GAAMN,WAAYzzC,GAAUA,EAAM40C,SAASpF,cACzD,CE1uCA,SAAS4K,GAAkBtwC,EAAiB+jB,EAAqBC,EAAqBusB,GACpF,MAAM9kD,EAPCmY,GAOmB5D,EAAI9mC,QAAQs3E,aAPN,CAAC,aAAc,WAAY,aAAc,aAQzE,MAAMC,GAAiBzsB,EAAcD,GAAe,EAC9C2sB,EAAa7/E,KAAKqT,IAAIusE,EAAeF,EAAaxsB,EAAc,GAShE4sB,EAAqB5jF,IACzB,MAAM6jF,GAAiB5sB,EAAcnzD,KAAKqT,IAAIusE,EAAe1jF,IAAQwjF,EAAa,EAClF,OAAOhhD,GAAYxiC,EAAK,EAAG8D,KAAKqT,IAAIusE,EAAeG,GAAA,EAGrD,MAAO,CACLC,WAAYF,EAAkBllD,EAAEolD,YAChCC,SAAUH,EAAkBllD,EAAEqlD,UAC9BC,WAAYxhD,GAAY9D,EAAEslD,WAAY,EAAGL,GACzCM,SAAUzhD,GAAY9D,EAAEulD,SAAU,EAAGN,GAEzC,CAKA,SAASO,GAAWt2D,EAAWu2D,EAAep1D,EAAW4P,GACvD,MAAO,CACL5P,EAAGA,EAAInB,EAAI9pB,KAAKgjC,IAAIq9C,GACpBxlD,EAAGA,EAAI/Q,EAAI9pB,KAAK+hC,IAAIs+C,GAExB,CAiBA,SAASC,GACP74C,EACAiT,EACA/P,EACA+nB,EACAr2C,EACA25C,GAEA,MAAM,EAAC/qC,EAAA,EAAG4P,EAAGq5B,WAAY91B,EAAK,YAAEmiD,EAAartB,YAAastB,GAAU9lC,EAE9DyY,EAAcnzD,KAAK2oB,IAAI+xB,EAAQyY,YAAcT,EAAU/nB,EAAS41C,EAAa,GAC7ErtB,EAAcstB,EAAS,EAAIA,EAAS9tB,EAAU/nB,EAAS41C,EAAc,EAE3E,IAAIE,EAAgB,EACpB,MAAMx2D,EAAQ5N,EAAM+hB,EAEpB,GAAIs0B,EAAS,CAIX,MAEMguB,IAFuBF,EAAS,EAAIA,EAAS9tB,EAAU,IAChCS,EAAc,EAAIA,EAAcT,EAAU,IACI,EAE3E+tB,GAAiBx2D,GAD4B,IAAvBy2D,EAA2Bz2D,EAASy2D,GAAuBA,EAAqBhuB,GAAWzoC,IACvE,EAG5C,MACM02D,GAAe12D,EADRjqB,KAAK2oB,IAAI,KAAOsB,EAAQkpC,EAAcxoB,EAASnP,IAAM23B,GAC7B,EAC/Be,EAAa91B,EAAQuiD,EAAcF,EACnCtsB,EAAW93C,EAAMskE,EAAcF,GAC/B,WAACT,EAAA,SAAYC,EAAA,WAAUC,EAAU,SAAEC,GAAYV,GAAkB/kC,EAASwY,EAAaC,EAAagB,EAAWD,GAE/G0sB,EAA2BztB,EAAc6sB,EACzCa,EAAyB1tB,EAAc8sB,EACvCa,EAA0B5sB,EAAa8rB,EAAaY,EACpDG,EAAwB5sB,EAAW8rB,EAAWY,EAE9CG,EAA2B9tB,EAAcgtB,EACzCe,EAAyB/tB,EAAcitB,EACvCe,EAA0BhtB,EAAagsB,EAAac,EACpDG,EAAwBhtB,EAAWgsB,EAAWc,EAIpD,GAFAx5C,EAAIwH,YAEA+mB,EAAU,CAEZ,MAAMorB,GAAyBN,EAA0BC,GAAyB,EAKlF,GAJAt5C,EAAI0H,IAAIlkB,EAAG4P,EAAGs4B,EAAa2tB,EAAyBM,GACpD35C,EAAI0H,IAAIlkB,EAAG4P,EAAGs4B,EAAaiuB,EAAuBL,GAG9Cd,EAAW,EAAG,CAChB,MAAMoB,EAAUjB,GAAWS,EAAwBE,EAAuB91D,EAAG4P,GAC7E4M,EAAI0H,IAAIkyC,EAAQp2D,EAAGo2D,EAAQxmD,EAAGolD,EAAUc,EAAuB5sB,EAAWr4B,IAI5E,MAAMwlD,EAAKlB,GAAWa,EAAwB9sB,EAAUlpC,EAAG4P,GAI3D,GAHA4M,EAAI6H,OAAOgyC,EAAGr2D,EAAGq2D,EAAGzmD,GAGhBslD,EAAW,EAAG,CAChB,MAAMkB,EAAUjB,GAAWa,EAAwBE,EAAuBl2D,EAAG4P,GAC7E4M,EAAI0H,IAAIkyC,EAAQp2D,EAAGo2D,EAAQxmD,EAAGslD,EAAUhsB,EAAWr4B,GAASqlD,EAAwBnhF,KAAKw7B,IAI3F,MAAM+lD,GAA0BptB,EAAYgsB,EAAWjtB,GAAiBgB,EAAcgsB,EAAahtB,IAAiB,EAKpH,GAJAzrB,EAAI0H,IAAIlkB,EAAG4P,EAAGq4B,EAAaiB,EAAYgsB,EAAWjtB,EAAcquB,GAAuB,GACvF95C,EAAI0H,IAAIlkB,EAAG4P,EAAGq4B,EAAaquB,EAAuBrtB,EAAcgsB,EAAahtB,GAAc,GAGvFgtB,EAAa,EAAG,CAClB,MAAMmB,EAAUjB,GAAWY,EAA0BE,EAAyBj2D,EAAG4P,GACjF4M,EAAI0H,IAAIkyC,EAAQp2D,EAAGo2D,EAAQxmD,EAAGqlD,EAAYgB,EAA0BlhF,KAAKw7B,GAAI04B,EAAap4B,IAI5F,MAAM0lD,EAAKpB,GAAWQ,EAA0B1sB,EAAYjpC,EAAG4P,GAI/D,GAHA4M,EAAI6H,OAAOkyC,EAAGv2D,EAAGu2D,EAAG3mD,GAGhBmlD,EAAa,EAAG,CAClB,MAAMqB,EAAUjB,GAAWQ,EAA0BE,EAAyB71D,EAAG4P,GACjF4M,EAAI0H,IAAIkyC,EAAQp2D,EAAGo2D,EAAQxmD,EAAGmlD,EAAY9rB,EAAap4B,GAASglD,QAE7D,CACLr5C,EAAI4H,OAAOpkB,EAAG4P,GAEd,MAAM4mD,EAAczhF,KAAKgjC,IAAI89C,GAA2B3tB,EAAcloC,EAChEy2D,EAAc1hF,KAAK+hC,IAAI++C,GAA2B3tB,EAAct4B,EACtE4M,EAAI6H,OAAOmyC,EAAaC,GAExB,MAAMC,EAAY3hF,KAAKgjC,IAAI+9C,GAAyB5tB,EAAcloC,EAC5D22D,EAAY5hF,KAAK+hC,IAAIg/C,GAAyB5tB,EAAct4B,EAClE4M,EAAI6H,OAAOqyC,EAAWC,GAGxBn6C,EAAI2H,WACN,CAyBA,SAAS8gC,GACPzoC,EACAiT,EACA/P,EACA+nB,EACAsD,GAEA,MAAM,YAAC6rB,EAAA,WAAa3tB,EAAA,cAAYzB,EAAa,QAAEpqD,GAAWqyC,GACpD,YAAChL,EAAA,gBAAa2R,EAAA,WAAiBF,EAAU,iBAAEC,GAAoB/4C,EAC/Dy5E,EAAgC,UAAxBz5E,EAAQqtD,YAEtB,IAAKhmB,EACH,OAGFjI,EAAIuoC,YAAY7uB,GAAc,IAC9B1Z,EAAIwoC,eAAiB7uB,EAEjB0gC,GACFr6C,EAAIwD,UAA0B,EAAdyE,EAChBjI,EAAIs6C,SAAW1gC,GAAmB,UAElC5Z,EAAIwD,UAAYyE,EAChBjI,EAAIs6C,SAAW1gC,GAAmB,SAGpC,IAAI8S,EAAWzZ,EAAQyZ,SACvB,GAAI0tB,EAAa,CACfvB,GAAQ74C,EAAKiT,EAAS/P,EAAQ+nB,EAASyB,EAAU6B,GACjD,IAAK,IAAI94D,EAAI,EAAGA,EAAI2kF,IAAe3kF,EACjCuqC,EAAIkI,SAEDhT,MAAM81B,KACT0B,EAAWD,GAAczB,EAAgBh3B,IAAOA,KAIhDqmD,GA7ON,SAAiBr6C,EAA+BiT,EAAqByZ,GACnE,MAAM,WAACD,EAAA,YAAYqsB,EAAA,EAAat1D,EAAA,EAAG4P,EAAA,YAAGs4B,EAAA,YAAaD,GAAexY,EAClE,IAAIsnC,EAAczB,EAAcptB,EAIhC1rB,EAAIwH,YACJxH,EAAI0H,IAAIlkB,EAAG4P,EAAGs4B,EAAae,EAAa8tB,EAAa7tB,EAAW6tB,GAC5D9uB,EAAcqtB,GAChByB,EAAczB,EAAcrtB,EAC5BzrB,EAAI0H,IAAIlkB,EAAG4P,EAAGq4B,EAAaiB,EAAW6tB,EAAa9tB,EAAa8tB,GAAa,IAE7Ev6C,EAAI0H,IAAIlkB,EAAG4P,EAAG0lD,EAAapsB,EAAWr4B,GAASo4B,EAAap4B,IAE9D2L,EAAI2H,YACJ3H,EAAIqD,MACN,CA8NIm3C,CAAQx6C,EAAKiT,EAASyZ,GAGnB0tB,IACHvB,GAAQ74C,EAAKiT,EAAS/P,EAAQ+nB,EAASyB,EAAU6B,GACjDvuB,EAAIkI,SAER,CCjPA,SAASuyC,GAASz6C,EAAKp/B,GAA0B,IAAjBg/B,EAAA5sC,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAQ4N,EACtCo/B,EAAI06C,QAAUhpD,EAAekO,EAAM6Z,eAAgB74C,EAAQ64C,gBAC3DzZ,EAAIuoC,YAAY72C,EAAekO,EAAM8Z,WAAY94C,EAAQ84C,aACzD1Z,EAAIwoC,eAAiB92C,EAAekO,EAAM+Z,iBAAkB/4C,EAAQ+4C,kBACpE3Z,EAAIs6C,SAAW5oD,EAAekO,EAAMga,gBAAiBh5C,EAAQg5C,iBAC7D5Z,EAAIwD,UAAY9R,EAAekO,EAAMqI,YAAarnC,EAAQqnC,aAC1DjI,EAAI4J,YAAclY,EAAekO,EAAMR,YAAax+B,EAAQw+B,YAC9D,CAEA,SAASyI,GAAO7H,EAAK0I,EAAUjqC,GAC7BuhC,EAAI6H,OAAOppC,EAAO+kB,EAAG/kB,EAAO20B,EAC9B,CAiBA,SAASunD,GAAS7hD,EAAQ+e,GAAsB,IAAbv1C,EAAStP,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,MAC1C,MAAMimC,EAAQH,EAAOljC,QACd+gC,MAAOikD,EAAc,EAAGhmE,IAAKimE,EAAY5hD,EAAQ,GAAK32B,GACtDq0B,MAAOmkD,EAAclmE,IAAKmmE,GAAcljC,EACzClhB,EAAQp+B,KAAK2oB,IAAI05D,EAAaE,GAC9BlmE,EAAMrc,KAAKqT,IAAIivE,EAAWE,GAC1BC,EAAUJ,EAAcE,GAAgBD,EAAYC,GAAgBF,EAAcG,GAAcF,EAAYE,EAElH,MAAO,CACL9hD,QACAtC,QACAwL,KAAM0V,EAAQ1V,KACd/P,KAAMxd,EAAM+hB,IAAUqkD,EAAU/hD,EAAQrkB,EAAM+hB,EAAQ/hB,EAAM+hB,EAEhE,CAiBA,SAASskD,GAAYj7C,EAAKr3B,EAAMkvC,EAASv1C,GACvC,MAAM,OAACw2B,EAAA,QAAQl4B,GAAW+H,GACpB,MAACswB,EAAA,MAAOtC,EAAA,KAAOwL,EAAA,KAAM/P,GAAQuoD,GAAS7hD,EAAQ+e,EAASv1C,GACvD44E,EA9CR,SAAuBt6E,GACrB,OAAIA,EAAQu6E,QACH1yC,GAGL7nC,EAAQuxC,SAA8C,aAAnCvxC,EAAQqxC,uBACtBpJ,GAGFhB,EACT,CAoCqBuzC,CAAcx6E,GAEjC,IACInL,EAAG2yC,EAAO8J,GADV,KAAC8V,GAAO,EAAI,QAAEh2B,GAAW1vB,GAAU,CAAC,EAGxC,IAAK7M,EAAI,EAAGA,GAAK28B,IAAQ38B,EACvB2yC,EAAQtP,GAAQnC,GAAS3E,EAAUI,EAAO38B,EAAIA,IAAMwjC,GAEhDmP,EAAM2H,OAGCiY,GACThoB,EAAI4H,OAAOQ,EAAM5kB,EAAG4kB,EAAMhV,GAC1B40B,GAAO,GAEPkzB,EAAWl7C,EAAKkS,EAAM9J,EAAOpW,EAASpxB,EAAQu6E,SAGhDjpC,EAAO9J,GAQT,OALIjG,IACFiG,EAAQtP,GAAQnC,GAAS3E,EAAUI,EAAO,IAAM6G,GAChDiiD,EAAWl7C,EAAKkS,EAAM9J,EAAOpW,EAASpxB,EAAQu6E,YAGvCh5C,CACX,CAiBA,SAASk5C,GAAgBr7C,EAAKr3B,EAAMkvC,EAASv1C,GAC3C,MAAMw2B,EAASnwB,EAAKmwB,QACd,MAACG,EAAK,MAAEtC,EAAK,KAAEvE,GAAQuoD,GAAS7hD,EAAQ+e,EAASv1C,IACjD,KAAC0lD,GAAO,EAAI,QAAEh2B,GAAW1vB,GAAU,CAAC,EAC1C,IAEI7M,EAAG2yC,EAAOkzC,EAAOluB,EAAMF,EAAMquB,EAF7BC,EAAO,EACPC,EAAS,EAGb,MAAMC,EAAc75E,IAAW80B,GAAS3E,EAAUI,EAAOvwB,EAAQA,IAAUo3B,EACrE0iD,EAAQA,KACRvuB,IAASF,IAEXltB,EAAI6H,OAAO2zC,EAAMtuB,GACjBltB,EAAI6H,OAAO2zC,EAAMpuB,GAGjBptB,EAAI6H,OAAO2zC,EAAMD,KASrB,IALIvzB,IACF5f,EAAQtP,EAAO4iD,EAAW,IAC1B17C,EAAI4H,OAAOQ,EAAM5kB,EAAG4kB,EAAMhV,IAGvB39B,EAAI,EAAGA,GAAK28B,IAAQ38B,EAAG,CAG1B,GAFA2yC,EAAQtP,EAAO4iD,EAAWjmF,IAEtB2yC,EAAM2H,KAER,SAGF,MAAMvsB,EAAI4kB,EAAM5kB,EACV4P,EAAIgV,EAAMhV,EACVwoD,EAAa,EAAJp4D,EAEXo4D,IAAWN,GAETloD,EAAIg6B,EACNA,EAAOh6B,EACEA,EAAI85B,IACbA,EAAO95B,GAGTooD,GAAQC,EAASD,EAAOh4D,KAAOi4D,IAE/BE,IAGA37C,EAAI6H,OAAOrkB,EAAG4P,GAEdkoD,EAAQM,EACRH,EAAS,EACTruB,EAAOF,EAAO95B,GAGhBmoD,EAAQnoD,CACV,CACAuoD,GACF,CAOA,SAASE,GAAkBlzE,GACzB,MAAM6Q,EAAO7Q,EAAK/H,QACZ84C,EAAalgC,EAAKkgC,YAAclgC,EAAKkgC,WAAW9jD,OAEtD,OADqB+S,EAAKypD,aAAezpD,EAAKwzC,QAAU3iC,EAAK24B,SAA2C,aAAhC34B,EAAKy4B,yBAA0Cz4B,EAAK2hE,UAAYzhC,EACnH2hC,GAAkBJ,EACzC,CA2CA,MAAMa,GAA8B,oBAAXC,OAEzB,SAASnhC,GAAK5a,EAAKr3B,EAAMguB,EAAOsC,GAC1B6iD,KAAcnzE,EAAK/H,QAAQi3C,QA7BjC,SAA6B7X,EAAKr3B,EAAMguB,EAAOsC,GAC7C,IAAI54B,EAAOsI,EAAKqzE,MACX37E,IACHA,EAAOsI,EAAKqzE,MAAQ,IAAID,OACpBpzE,EAAKtI,KAAKA,EAAMs2B,EAAOsC,IACzB54B,EAAKsnC,aAGT8yC,GAASz6C,EAAKr3B,EAAK/H,SACnBo/B,EAAIkI,OAAO7nC,EACb,CAoBI47E,CAAoBj8C,EAAKr3B,EAAMguB,EAAOsC,GAlB1C,SAA0B+G,EAAKr3B,EAAMguB,EAAOsC,GAC1C,MAAM,SAACsf,EAAA,QAAU33C,GAAW+H,EACtBuzE,EAAgBL,GAAkBlzE,GAExC,IAAK,MAAMkvC,KAAWU,EACpBkiC,GAASz6C,EAAKp/B,EAASi3C,EAAQjY,OAC/BI,EAAIwH,YACA00C,EAAcl8C,EAAKr3B,EAAMkvC,EAAS,CAAClhB,QAAO/hB,IAAK+hB,EAAQsC,EAAQ,KACjE+G,EAAI2H,YAEN3H,EAAIkI,QAER,CAQIi0C,CAAiBn8C,EAAKr3B,EAAMguB,EAAOsC,EAEvC,CAEe,MAAMmjD,WAAoBlf,GAEvC/c,UAAY,OAKZA,gBAAkB,CAChB1G,eAAgB,OAChBC,WAAY,GACZC,iBAAkB,EAClBC,gBAAiB,QACjB3R,YAAa,EACbmK,iBAAiB,EACjBH,uBAAwB,UACxBjK,MAAM,EACNgK,UAAU,EACVmpC,SAAS,EACThpC,QAAS,GAMXgO,qBAAuB,CACrBhhB,gBAAiB,kBACjBC,YAAa,eAIf+gB,mBAAqB,CACnBve,aAAa,EACbE,WAAarqC,GAAkB,eAATA,GAAkC,SAATA,GAIjD+B,WAAAA,CAAYsiD,GACV0P,QAEAjxD,KAAK83D,UAAW,EAChB93D,KAAKqG,aAAU/K,EACf0E,KAAKq+C,YAAS/iD,EACd0E,KAAK4hD,WAAQtmD,EACb0E,KAAKs4D,eAAYh9D,EACjB0E,KAAKyhF,WAAQnmF,EACb0E,KAAK8hF,aAAUxmF,EACf0E,KAAK+hF,eAAYzmF,EACjB0E,KAAK63D,YAAa,EAClB73D,KAAKgiF,gBAAiB,EACtBhiF,KAAKw+C,mBAAgBljD,EAEjBimD,GACF5oD,OAAOqI,OAAOhB,KAAMuhD,EAExB,CAEA8W,mBAAAA,CAAoB9M,EAAW3lB,GAC7B,MAAMv/B,EAAUrG,KAAKqG,QACrB,IAAKA,EAAQuxC,SAA8C,aAAnCvxC,EAAQqxC,0BAA2CrxC,EAAQu6E,UAAY5gF,KAAKgiF,eAAgB,CAClH,MAAMp6C,EAAOvhC,EAAQoxC,SAAWz3C,KAAK4hD,MAAQ5hD,KAAKs4D,UAClD/gB,GAA2Bv3C,KAAK8hF,QAASz7E,EAASklD,EAAW3jB,EAAMhC,GACnE5lC,KAAKgiF,gBAAiB,EAE1B,CAEA,UAAIzjD,CAAOA,GACTv+B,KAAK8hF,QAAUvjD,SACRv+B,KAAK+hF,iBACL/hF,KAAKyhF,MACZzhF,KAAKgiF,gBAAiB,CACxB,CAEA,UAAIzjD,GACF,OAAOv+B,KAAK8hF,OACd,CAEA,YAAI9jC,GACF,OAAOh+C,KAAK+hF,YAAc/hF,KAAK+hF,U7BlF5B,SAA0B3zE,EAAM+vC,GACrC,MAAM5f,EAASnwB,EAAKmwB,OACdkZ,EAAWrpC,EAAK/H,QAAQoxC,SACxB/Y,EAAQH,EAAOljC,OAErB,IAAKqjC,EACH,MAAO,GAGT,MAAMkJ,IAASx5B,EAAKwzC,OACd,MAACxlB,EAAA,IAAO/hB,GA3FhB,SAAyBkkB,EAAQG,EAAOkJ,EAAM6P,GAC5C,IAAIrb,EAAQ,EACR/hB,EAAMqkB,EAAQ,EAElB,GAAIkJ,IAAS6P,EAEX,KAAOrb,EAAQsC,IAAUH,EAAOnC,GAAOoZ,MACrCpZ,IAKJ,KAAOA,EAAQsC,GAASH,EAAOnC,GAAOoZ,MACpCpZ,IAWF,IAPAA,GAASsC,EAELkJ,IAEFvtB,GAAO+hB,GAGF/hB,EAAM+hB,GAASmC,EAAOlkB,EAAMqkB,GAAO8W,MACxCn7B,IAMF,OAFAA,GAAOqkB,EAEA,CAACtC,QAAO/hB,MACjB,CA2DuB4nE,CAAgB1jD,EAAQG,EAAOkJ,EAAM6P,GAE1D,OACSyG,GAAc9vC,GADN,IAAbqpC,EACyB,CAAC,CAACrb,QAAO/hB,MAAKutB,SArD7C,SAAuBrJ,EAAQnC,EAAOzV,EAAKihB,GACzC,MAAMlJ,EAAQH,EAAOljC,OACfkE,EAAS,GACf,IAEI8a,EAFA8iB,EAAOf,EACPub,EAAOpZ,EAAOnC,GAGlB,IAAK/hB,EAAM+hB,EAAQ,EAAG/hB,GAAOsM,IAAOtM,EAAK,CACvC,MAAM0mC,EAAMxiB,EAAOlkB,EAAMqkB,GACrBqiB,EAAIvL,MAAQuL,EAAIE,KACbtJ,EAAKnC,OACR5N,GAAO,EACProC,EAAOd,KAAK,CAAC29B,MAAOA,EAAQsC,EAAOrkB,KAAMA,EAAM,GAAKqkB,EAAOkJ,SAE3DxL,EAAQe,EAAO4jB,EAAIE,KAAO5mC,EAAM,OAGlC8iB,EAAO9iB,EACHs9B,EAAKnC,OACPpZ,EAAQ/hB,IAGZs9B,EAAOoJ,CACT,CAMA,OAJa,OAAT5jB,GACF59B,EAAOd,KAAK,CAAC29B,MAAOA,EAAQsC,EAAOrkB,IAAK8iB,EAAOuB,EAAOkJ,SAGjDroC,CACT,CA4B6B2iF,CAAc3jD,EAAQnC,EAFrC/hB,EAAM+hB,EAAQ/hB,EAAMqkB,EAAQrkB,IACjBjM,EAAKkqD,WAAuB,IAAVl8B,GAAe/hB,IAAQqkB,EAAQ,GAJrBH,EAAQ4f,EAM7D,C6B+D+CgkC,CAAiBniF,KAAMA,KAAKqG,QAAQi3C,SACjF,CAMA7tC,KAAAA,GACE,MAAMuuC,EAAWh+C,KAAKg+C,SAChBzf,EAASv+B,KAAKu+B,OACpB,OAAOyf,EAAS3iD,QAAUkjC,EAAOyf,EAAS,GAAG5hB,MAC/C,CAMAe,IAAAA,GACE,MAAM6gB,EAAWh+C,KAAKg+C,SAChBzf,EAASv+B,KAAKu+B,OACdG,EAAQsf,EAAS3iD,OACvB,OAAOqjC,GAASH,EAAOyf,EAAStf,EAAQ,GAAGrkB,IAC7C,CASA4b,WAAAA,CAAY4X,EAAO/S,GACjB,MAAMz0B,EAAUrG,KAAKqG,QACftF,EAAQ8sC,EAAM/S,GACdyD,EAASv+B,KAAKu+B,OACdyf,EAAWD,GAAe/9C,KAAM,CAAC86B,WAAUsB,MAAOr7B,EAAOsZ,IAAKtZ,IAEpE,IAAKi9C,EAAS3iD,OACZ,OAGF,MAAMkE,EAAS,GACT6iF,EAvKV,SAAiC/7E,GAC/B,OAAIA,EAAQu6E,QACH/kC,GAGLx1C,EAAQuxC,SAA8C,aAAnCvxC,EAAQqxC,uBACtBoE,GAGFF,EACT,CA6JyBymC,CAAwBh8E,GAC7C,IAAInL,EAAG28B,EACP,IAAK38B,EAAI,EAAG28B,EAAOmmB,EAAS3iD,OAAQH,EAAI28B,IAAQ38B,EAAG,CACjD,MAAM,MAACkhC,EAAA,IAAO/hB,GAAO2jC,EAAS9iD,GACxBkI,EAAKm7B,EAAOnC,GACZ/4B,EAAKk7B,EAAOlkB,GAClB,GAAIjX,IAAOC,EAAI,CACb9D,EAAOd,KAAK2E,GACZ,SAEF,MACMk/E,EAAeF,EAAah/E,EAAIC,EAD5BrF,KAAKq8B,KAAKt5B,EAAQqC,EAAG03B,KAAcz3B,EAAGy3B,GAAY13B,EAAG03B,KAClBz0B,EAAQu6E,SACrD0B,EAAaxnD,GAAY+S,EAAM/S,GAC/Bv7B,EAAOd,KAAK6jF,EACd,CACA,OAAyB,IAAlB/iF,EAAOlE,OAAekE,EAAO,GAAKA,CAC3C,CAgBAmhF,WAAAA,CAAYj7C,EAAK6X,EAASv1C,GAExB,OADsBu5E,GAAkBthF,KACjC2hF,CAAcl8C,EAAKzlC,KAAMs9C,EAASv1C,EAC3C,CASAjC,IAAAA,CAAK2/B,EAAKrJ,EAAOsC,GACf,MAAMsf,EAAWh+C,KAAKg+C,SAChB2jC,EAAgBL,GAAkBthF,MACxC,IAAI4nC,EAAO5nC,KAAK4hD,MAEhBxlB,EAAQA,GAAS,EACjBsC,EAAQA,GAAU1+B,KAAKu+B,OAAOljC,OAAS+gC,EAEvC,IAAK,MAAMkhB,KAAWU,EACpBpW,GAAQ+5C,EAAcl8C,EAAKzlC,KAAMs9C,EAAS,CAAClhB,QAAO/hB,IAAK+hB,EAAQsC,EAAQ,IAEzE,QAASkJ,CACX,CASAyY,IAAAA,CAAK5a,EAAK8lB,EAAWnvB,EAAOsC,GAC1B,MAAMr4B,EAAUrG,KAAKqG,SAAW,CAAC,GAClBrG,KAAKu+B,QAAU,IAEnBljC,QAAUgL,EAAQqnC,cAC3BjI,EAAI4F,OAEJgV,GAAK5a,EAAKzlC,KAAMo8B,EAAOsC,GAEvB+G,EAAI+F,WAGFxrC,KAAK83D,WAEP93D,KAAKgiF,gBAAiB,EACtBhiF,KAAKyhF,WAAQnmF,EAEjB,ECjbF,SAASinF,GAAQl7E,EAAkBiT,EAAawkB,EAAiB86B,GAC/D,MAAMvzD,EAAUgB,EAAGhB,SACZ,CAACy4B,GAAO/9B,GAASsG,EAAGozD,SAAS,CAAC37B,GAAO86B,GAE5C,OAAQ57D,KAAKq8B,IAAI/f,EAAMvZ,GAASsF,EAAQwmC,OAASxmC,EAAQm8E,SAC3D,CCDA,SAASC,GAAaC,EAAK9oB,GACzB,MAAM,EAAC3wC,EAAC,EAAE4P,EAAC,KAAE8vB,EAAA,MAAMhf,EAAA,OAAOwC,GAAmCu2C,EAAIjoB,SAAS,CAAC,IAAK,IAAK,OAAQ,QAAS,UAAWb,GAEjH,IAAInxB,EAAMF,EAAOD,EAAKE,EAAQm6C,EAgB9B,OAdID,EAAI9yB,YACN+yB,EAAOx2C,EAAS,EAChB1D,EAAOzqC,KAAKqT,IAAI4X,EAAG0/B,GACnBpgB,EAAQvqC,KAAK2oB,IAAIsC,EAAG0/B,GACpBrgB,EAAMzP,EAAI8pD,EACVn6C,EAAS3P,EAAI8pD,IAEbA,EAAOh5C,EAAQ,EACflB,EAAOxf,EAAI05D,EACXp6C,EAAQtf,EAAI05D,EACZr6C,EAAMtqC,KAAKqT,IAAIwnB,EAAG8vB,GAClBngB,EAASxqC,KAAK2oB,IAAIkS,EAAG8vB,IAGhB,CAAClgB,OAAMH,MAAKC,QAAOC,SAC5B,CAEA,SAASo6C,GAAYptC,EAAMz0C,EAAOsQ,EAAKsV,GACrC,OAAO6uB,EAAO,EAAI9Y,GAAY37B,EAAOsQ,EAAKsV,EAC5C,CAkCA,SAASk8D,GAAcH,GACrB,MAAM75C,EAAS45C,GAAaC,GACtB/4C,EAAQd,EAAON,MAAQM,EAAOJ,KAC9B0D,EAAStD,EAAOL,OAASK,EAAOP,IAChCkB,EApCR,SAA0Bk5C,EAAKI,EAAMC,GACnC,MAAMhiF,EAAQ2hF,EAAIr8E,QAAQqnC,YACpB8H,EAAOktC,EAAI/yB,cACX/2B,EAAIqY,GAAOlwC,GAEjB,MAAO,CACLm1B,EAAG0sD,GAAYptC,EAAKlN,IAAK1P,EAAE0P,IAAK,EAAGy6C,GACnCj7D,EAAG86D,GAAYptC,EAAKjN,MAAO3P,EAAE2P,MAAO,EAAGu6C,GACvCziF,EAAGuiF,GAAYptC,EAAKhN,OAAQ5P,EAAE4P,OAAQ,EAAGu6C,GACzC5nF,EAAGynF,GAAYptC,EAAK/M,KAAM7P,EAAE6P,KAAM,EAAGq6C,GAEzC,CAyBiBE,CAAiBN,EAAK/4C,EAAQ,EAAGwC,EAAS,GACnDU,EAxBR,SAA2B61C,EAAKI,EAAMC,GACpC,MAAM,mBAACjzB,GAAsB4yB,EAAIjoB,SAAS,CAAC,uBACrC15D,EAAQ2hF,EAAIr8E,QAAQs3E,aACpB/kD,EAAIsY,GAAcnwC,GAClBkiF,EAAOjlF,KAAKqT,IAAIyxE,EAAMC,GACtBvtC,EAAOktC,EAAI/yB,cAIXuzB,EAAepzB,GAAsB91D,EAAS+G,GAEpD,MAAO,CACLyvC,QAASoyC,IAAaM,GAAgB1tC,EAAKlN,KAAOkN,EAAK/M,KAAM7P,EAAE4X,QAAS,EAAGyyC,GAC3EtyC,SAAUiyC,IAAaM,GAAgB1tC,EAAKlN,KAAOkN,EAAKjN,MAAO3P,EAAE+X,SAAU,EAAGsyC,GAC9ExyC,WAAYmyC,IAAaM,GAAgB1tC,EAAKhN,QAAUgN,EAAK/M,KAAM7P,EAAE6X,WAAY,EAAGwyC,GACpFvyC,YAAakyC,IAAaM,GAAgB1tC,EAAKhN,QAAUgN,EAAKjN,MAAO3P,EAAE8X,YAAa,EAAGuyC,GAE3F,CAOiBE,CAAkBT,EAAK/4C,EAAQ,EAAGwC,EAAS,GAE1D,MAAO,CACLi3C,MAAO,CACLn6D,EAAG4f,EAAOJ,KACV5P,EAAGgQ,EAAOP,IACVn5B,EAAGw6B,EACHxgC,EAAGgjC,EACHU,UAEFizC,MAAO,CACL72D,EAAG4f,EAAOJ,KAAOe,EAAOruC,EACxB09B,EAAGgQ,EAAOP,IAAMkB,EAAOtT,EACvB/mB,EAAGw6B,EAAQH,EAAOruC,EAAIquC,EAAO1hB,EAC7B3e,EAAGgjC,EAAS3C,EAAOtT,EAAIsT,EAAOnpC,EAC9BwsC,OAAQ,CACN2D,QAASxyC,KAAK2oB,IAAI,EAAGkmB,EAAO2D,QAAUxyC,KAAK2oB,IAAI6iB,EAAOtT,EAAGsT,EAAOruC,IAChEw1C,SAAU3yC,KAAK2oB,IAAI,EAAGkmB,EAAO8D,SAAW3yC,KAAK2oB,IAAI6iB,EAAOtT,EAAGsT,EAAO1hB,IAClE2oB,WAAYzyC,KAAK2oB,IAAI,EAAGkmB,EAAO4D,WAAazyC,KAAK2oB,IAAI6iB,EAAOnpC,EAAGmpC,EAAOruC,IACtEu1C,YAAa1yC,KAAK2oB,IAAI,EAAGkmB,EAAO6D,YAAc1yC,KAAK2oB,IAAI6iB,EAAOnpC,EAAGmpC,EAAO1hB,MAIhF,CAEA,SAASgyC,GAAQ4oB,EAAKz5D,EAAG4P,EAAG+gC,GAC1B,MAAMypB,EAAc,OAANp6D,EACRq6D,EAAc,OAANzqD,EAERgQ,EAAS65C,KADEW,GAASC,IACSb,GAAaC,EAAK9oB,GAErD,OAAO/wB,IACHw6C,GAAS1mD,GAAW1T,EAAG4f,EAAOJ,KAAMI,EAAON,UAC3C+6C,GAAS3mD,GAAW9D,EAAGgQ,EAAOP,IAAKO,EAAOL,QAChD,CAWA,SAAS+6C,GAAkB99C,EAAK+H,GAC9B/H,EAAI+H,KAAKA,EAAKvkB,EAAGukB,EAAK3U,EAAG2U,EAAKr+B,EAAGq+B,EAAKrkC,EACxC,CAEA,SAASq6E,GAAYh2C,EAAMi2C,GAAsB,IAAdC,EAAUjrF,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,MAC3C,MAAMwwB,EAAIukB,EAAKvkB,IAAMy6D,EAAQz6D,GAAKw6D,EAAS,EACrC5qD,EAAI2U,EAAK3U,IAAM6qD,EAAQ7qD,GAAK4qD,EAAS,EACrCt0E,GAAKq+B,EAAKvkB,EAAIukB,EAAKr+B,IAAMu0E,EAAQz6D,EAAIy6D,EAAQv0E,EAAIs0E,EAAS,GAAKx6D,EAC/D9f,GAAKqkC,EAAK3U,EAAI2U,EAAKrkC,IAAMu6E,EAAQ7qD,EAAI6qD,EAAQv6E,EAAIs6E,EAAS,GAAK5qD,EACrE,MAAO,CACL5P,EAAGukB,EAAKvkB,EAAIA,EACZ4P,EAAG2U,EAAK3U,EAAIA,EACZ1pB,EAAGq+B,EAAKr+B,EAAIA,EACZhG,EAAGqkC,EAAKrkC,EAAIA,EACZ0jC,OAAQW,EAAKX,OAEjB,iDH4He,cAAyB81B,GAEtC/c,UAAY,MAEZA,gBAAkB,CAChB8N,YAAa,SACb7uB,YAAa,OACbsa,WAAY,GACZC,iBAAkB,EAClBC,qBAAiB/jD,EACjBqiF,aAAc,EACdjwC,YAAa,EACb/E,OAAQ,EACR+nB,QAAS,EACT/0B,WAAOrgC,EACP04D,UAAU,GAGZpO,qBAAuB,CACrBhhB,gBAAiB,mBAGnBghB,mBAAqB,CACnBve,aAAa,EACbE,WAAarqC,GAAkB,eAATA,GAGxBuzD,cACA0B,SACA0tB,YACA3uB,YACAC,YACAotB,YACArsB,WAEAjzD,WAAAA,CAAYsiD,GACV0P,QAEAjxD,KAAKqG,aAAU/K,EACf0E,KAAKywD,mBAAgBn1D,EACrB0E,KAAKkyD,gBAAa52D,EAClB0E,KAAKmyD,cAAW72D,EAChB0E,KAAKkxD,iBAAc51D,EACnB0E,KAAKmxD,iBAAc71D,EACnB0E,KAAKu+E,YAAc,EACnBv+E,KAAK6/E,YAAc,EAEft+B,GACF5oD,OAAOqI,OAAOhB,KAAMuhD,EAExB,CAEAuY,OAAAA,CAAQ6pB,EAAgBC,EAAgBhqB,GACtC,MAAM/rB,EAAQ7tC,KAAKy6D,SAAS,CAAC,IAAK,KAAMb,IAClC,MAACj+B,EAAK,SAAEE,GAAYT,GAAkByS,EAAO,CAAC5kB,EAAG06D,EAAQ9qD,EAAG+qD,KAC5D,WAAC1xB,EAAA,SAAYC,EAAA,YAAUjB,EAAW,YAAEC,EAAW,cAAEV,GAAiBzwD,KAAKy6D,SAAS,CACpF,aACA,WACA,cACA,cACA,iBACCb,GACGiqB,GAAW7jF,KAAKqG,QAAQqqD,QAAU1wD,KAAKqG,QAAQqnC,aAAe,EAC9D0lB,EAAiBj8B,EAAes5B,EAAe0B,EAAWD,GAC1D4xB,EAAiB3nD,GAAcR,EAAOu2B,EAAYC,IAAaD,IAAeC,EAC9E4xB,EAAgB3wB,GAAkB35B,IAAOqqD,EACzCE,EAAernD,GAAWd,EAAUq1B,EAAc2yB,EAAS1yB,EAAc0yB,GAE/E,OAAQE,GAAiBC,CAC3B,CAEAzpB,cAAAA,CAAeX,GACb,MAAM,EAAC3wC,EAAC,EAAE4P,EAAC,WAAEq5B,EAAA,SAAYC,EAAA,YAAUjB,EAAA,YAAaC,GAAenxD,KAAKy6D,SAAS,CAC3E,IACA,IACA,aACA,WACA,cACA,eACCb,IACG,OAACjxB,EAAA,QAAQ+nB,GAAW1wD,KAAKqG,QACzB49E,GAAa/xB,EAAaC,GAAY,EACtC+xB,GAAchzB,EAAcC,EAAcT,EAAU/nB,GAAU,EACpE,MAAO,CACL1f,EAAGA,EAAIjrB,KAAKgjC,IAAIijD,GAAaC,EAC7BrrD,EAAGA,EAAI76B,KAAK+hC,IAAIkkD,GAAaC,EAEjC,CAEAthB,eAAAA,CAAgBhJ,GACd,OAAO55D,KAAKu6D,eAAeX,EAC7B,CAEAvZ,IAAAA,CAAK5a,GACH,MAAM,QAACp/B,EAAO,cAAEoqD,GAAiBzwD,KAC3B2oC,GAAUtiC,EAAQsiC,QAAU,GAAK,EACjC+nB,GAAWrqD,EAAQqqD,SAAW,GAAK,EACnCsD,EAAW3tD,EAAQ2tD,SAIzB,GAHAh0D,KAAKu+E,YAAuC,UAAxBl4E,EAAQqtD,YAA2B,IAAO,EAC9D1zD,KAAK6/E,YAAcpvB,EAAgBh3B,GAAMz7B,KAAKmT,MAAMs/C,EAAgBh3B,IAAO,EAErD,IAAlBg3B,GAAuBzwD,KAAKkxD,YAAc,GAAKlxD,KAAKmxD,YAAc,EACpE,OAGF1rB,EAAI4F,OAEJ,MAAM44C,GAAajkF,KAAKkyD,WAAalyD,KAAKmyD,UAAY,EACtD1sB,EAAIsH,UAAU/uC,KAAKgjC,IAAIijD,GAAat7C,EAAQ3qC,KAAK+hC,IAAIkkD,GAAat7C,GAClE,MACMw7C,EAAex7C,GADT,EAAI3qC,KAAK+hC,IAAI/hC,KAAKqT,IAAImoB,GAAIi3B,GAAiB,KAGvDhrB,EAAI6J,UAAYjpC,EAAQu+B,gBACxBa,EAAI4J,YAAchpC,EAAQw+B,YA/L9B,SACEY,EACAiT,EACA/P,EACA+nB,EACAsD,GAEA,MAAM,YAAC6rB,EAAW,WAAE3tB,EAAA,cAAYzB,GAAiB/X,EACjD,IAAIyZ,EAAWzZ,EAAQyZ,SACvB,GAAI0tB,EAAa,CACfvB,GAAQ74C,EAAKiT,EAAS/P,EAAQ+nB,EAASyB,EAAU6B,GACjD,IAAK,IAAI94D,EAAI,EAAGA,EAAI2kF,IAAe3kF,EACjCuqC,EAAIgI,OAED9S,MAAM81B,KACT0B,EAAWD,GAAczB,EAAgBh3B,IAAOA,KAGpD6kD,GAAQ74C,EAAKiT,EAAS/P,EAAQ+nB,EAASyB,EAAU6B,GACjDvuB,EAAIgI,MAEN,CA4KI22C,CAAQ3+C,EAAKzlC,KAAMmkF,EAAczzB,EAASsD,GAC1Cka,GAAWzoC,EAAKzlC,KAAMmkF,EAAczzB,EAASsD,GAE7CvuB,EAAI+F,SACN,cGjPa,cAAyBm3B,GAEtC/c,UAAY,MAKZA,gBAAkB,CAChB+J,cAAe,QACfjiB,YAAa,EACbiwC,aAAc,EACdvtB,cAAe,OACfzjB,gBAAYrxC,GAMdsqD,qBAAuB,CACrBhhB,gBAAiB,kBACjBC,YAAa,eAGf5lC,WAAAA,CAAYsiD,GACV0P,QAEAjxD,KAAKqG,aAAU/K,EACf0E,KAAK4vD,gBAAat0D,EAClB0E,KAAK2oD,UAAOrtD,EACZ0E,KAAK2pC,WAAQruC,EACb0E,KAAKmsC,YAAS7wC,EACd0E,KAAKowD,mBAAgB90D,EAEjBimD,GACF5oD,OAAOqI,OAAOhB,KAAMuhD,EAExB,CAEAlB,IAAAA,CAAK5a,GACH,MAAM,cAAC2qB,EAAe/pD,SAAS,YAACw+B,EAAA,gBAAaD,IAAoB5kC,MAC3D,MAAC8/E,EAAK,MAAEsD,GAASP,GAAc7iF,MAC/BqkF,GApESx3C,EAoEeu2C,EAAMv2C,QAnExB2D,SAAW3D,EAAO8D,UAAY9D,EAAO4D,YAAc5D,EAAO6D,YAmExBH,GAAqBgzC,GApEvE,IAAmB12C,EAsEfpH,EAAI4F,OAEA+3C,EAAMj0E,IAAM2wE,EAAM3wE,GAAKi0E,EAAMj6E,IAAM22E,EAAM32E,IAC3Cs8B,EAAIwH,YACJo3C,EAAY5+C,EAAK+9C,GAAYJ,EAAOhzB,EAAe0vB,IACnDr6C,EAAIqD,OACJu7C,EAAY5+C,EAAK+9C,GAAY1D,GAAQ1vB,EAAegzB,IACpD39C,EAAI6J,UAAYzK,EAChBY,EAAIgI,KAAK,YAGXhI,EAAIwH,YACJo3C,EAAY5+C,EAAK+9C,GAAY1D,EAAO1vB,IACpC3qB,EAAI6J,UAAY1K,EAChBa,EAAIgI,OAEJhI,EAAI+F,SACN,CAEAsuB,OAAAA,CAAQwqB,EAAQC,EAAQ3qB,GACtB,OAAOE,GAAQ95D,KAAMskF,EAAQC,EAAQ3qB,EACvC,CAEA4qB,QAAAA,CAASF,EAAQ1qB,GACf,OAAOE,GAAQ95D,KAAMskF,EAAQ,KAAM1qB,EACrC,CAEA6qB,QAAAA,CAASF,EAAQ3qB,GACf,OAAOE,GAAQ95D,KAAM,KAAMukF,EAAQ3qB,EACrC,CAEAW,cAAAA,CAAeX,GACb,MAAM,EAAC3wC,EAAA,EAAG4P,EAAA,KAAG8vB,EAAI,WAAEiH,GAAuC5vD,KAAKy6D,SAAS,CAAC,IAAK,IAAK,OAAQ,cAAeb,GAC1G,MAAO,CACL3wC,EAAG2mC,GAAc3mC,EAAI0/B,GAAQ,EAAI1/B,EACjC4P,EAAG+2B,EAAa/2B,GAAKA,EAAI8vB,GAAQ,EAErC,CAEA4Q,QAAAA,CAASz6B,GACP,MAAgB,MAATA,EAAe9+B,KAAK2pC,MAAQ,EAAI3pC,KAAKmsC,OAAS,CACvD,+BD7Ma,cAA2Bw2B,GAExC/c,UAAY,QAEZz3C,OACAqnC,KACAyL,KAKA2E,gBAAkB,CAChBlY,YAAa,EACb80C,UAAW,EACX7uB,iBAAkB,EAClB+wB,YAAa,EACb/3C,WAAY,SACZE,OAAQ,EACRD,SAAU,GAMZgZ,qBAAuB,CACrBhhB,gBAAiB,kBACjBC,YAAa,eAGf5lC,WAAAA,CAAYsiD,GACV0P,QAEAjxD,KAAKqG,aAAU/K,EACf0E,KAAKmO,YAAS7S,EACd0E,KAAKw1C,UAAOl6C,EACZ0E,KAAKihD,UAAO3lD,EAERimD,GACF5oD,OAAOqI,OAAOhB,KAAMuhD,EAExB,CAEAuY,OAAAA,CAAQwqB,EAAgBC,EAAgB3qB,GACtC,MAAMvzD,EAAUrG,KAAKqG,SACf,EAAC4iB,EAAA,EAAG4P,GAAK74B,KAAKy6D,SAAS,CAAC,IAAK,KAAMb,GACzC,OAAS57D,KAAKu2B,IAAI+vD,EAASr7D,EAAG,GAAKjrB,KAAKu2B,IAAIgwD,EAAS1rD,EAAG,GAAM76B,KAAKu2B,IAAIluB,EAAQm8E,UAAYn8E,EAAQwmC,OAAQ,EAC7G,CAEA23C,QAAAA,CAASF,EAAgB1qB,GACvB,OAAO2oB,GAAQviF,KAAMskF,EAAQ,IAAK1qB,EACpC,CAEA6qB,QAAAA,CAASF,EAAgB3qB,GACvB,OAAO2oB,GAAQviF,KAAMukF,EAAQ,IAAK3qB,EACpC,CAEAW,cAAAA,CAAeX,GACb,MAAM,EAAC3wC,EAAA,EAAG4P,GAAK74B,KAAKy6D,SAAS,CAAC,IAAK,KAAMb,GACzC,MAAO,CAAC3wC,IAAG4P,IACb,CAEAj1B,IAAAA,CAAKyC,GAEH,IAAIwmC,GADJxmC,EAAUA,GAAWrG,KAAKqG,SAAW,CAAC,GACjBwmC,QAAU,EAC/BA,EAAS7uC,KAAK2oB,IAAIkmB,EAAQA,GAAUxmC,EAAQq+E,aAAe,GAE3D,OAAgC,GAAxB73C,GADYA,GAAUxmC,EAAQqnC,aAAe,GAEvD,CAEA2S,IAAAA,CAAK5a,EAA+BqI,GAClC,MAAMznC,EAAUrG,KAAKqG,QAEjBrG,KAAKw1C,MAAQnvC,EAAQwmC,OAAS,KAAQe,GAAe5tC,KAAM8tC,EAAM9tC,KAAK4D,KAAKyC,GAAW,KAI1Fo/B,EAAI4J,YAAchpC,EAAQw+B,YAC1BY,EAAIwD,UAAY5iC,EAAQqnC,YACxBjI,EAAI6J,UAAYjpC,EAAQu+B,gBACxBwH,GAAU3G,EAAKp/B,EAASrG,KAAKipB,EAAGjpB,KAAK64B,GACvC,CAEA0gC,QAAAA,GACE,MAAMlzD,EAAUrG,KAAKqG,SAAW,CAAC,EAEjC,OAAOA,EAAQwmC,OAASxmC,EAAQm8E,SAClC,KE5FF,MAAMmC,GAAgB,CACpB,oBACA,oBACA,oBACA,oBACA,oBACA,qBACA,sBAIIC,GAAoCD,GAAc5pF,KAAI26B,GAASA,EAAMn1B,QAAQ,OAAQ,SAASA,QAAQ,IAAK,YAEjH,SAASskF,GAAe3pF,GACtB,OAAOypF,GAAczpF,EAAIypF,GAActpF,OACzC,CAEA,SAASypF,GAAmB5pF,GAC1B,OAAO0pF,GAAkB1pF,EAAI0pF,GAAkBvpF,OACjD,CAqBA,SAAS0pF,GAAa1hD,GACpB,IAAInoC,EAAI,EAER,MAAO,CAAC+rD,EAAuBjvB,KAC7B,MAAMle,EAAaupB,EAAM2kB,eAAehwB,GAAcle,WAElDA,aAAsBu2C,GACxBn1D,EAnBN,SAAiC+rD,EAAuB/rD,GAGtD,OAFA+rD,EAAQriB,gBAAkBqiB,EAAQ3oD,KAAKvD,KAAI,IAAM8pF,GAAe3pF,OAEzDA,CACT,CAeU8pF,CAAwB/9B,EAAS/rD,GAC5B4e,aAAsBg6C,GAC/B54D,EAfN,SAAkC+rD,EAAuB/rD,GAGvD,OAFA+rD,EAAQriB,gBAAkBqiB,EAAQ3oD,KAAKvD,KAAI,IAAM+pF,GAAmB5pF,OAE7DA,CACT,CAWU+pF,CAAyBh+B,EAAS/rD,GAC7B4e,IACT5e,EA9BN,SAAgC+rD,EAAuB/rD,GAIrD,OAHA+rD,EAAQpiB,YAAcggD,GAAe3pF,GACrC+rD,EAAQriB,gBAAkBkgD,GAAmB5pF,KAEpCA,CACX,CAyBUgqF,CAAuBj+B,EAAS/rD,IAG1C,CAEA,SAASiqF,GACProF,GAEA,IAAIurB,EAEJ,IAAKA,KAAKvrB,EACR,GAAIA,EAAYurB,GAAGwc,aAAe/nC,EAAYurB,GAAGuc,gBAC/C,OAAO,EAIX,OAAO,CACT,CAYA,IAAAwgD,GAAe,CACbn8E,GAAI,SAEJ6B,SAAU,CACR24D,SAAS,EACT4hB,eAAe,GAGjB7mB,YAAAA,CAAan7B,EAAciiD,EAAOj/E,GAChC,IAAKA,EAAQo9D,QACX,OAGF,MACEnlE,MAAM,SAACwmC,GACPz+B,QAASk/E,GACPliD,EAAM3+B,QACJ,SAACugC,GAAYsgD,EAEbC,EACJL,GAA0BrgD,KA7B9B7nC,EA8B6BsoF,KA5BPtoF,EAAW4nC,aAAe5nC,EAAW2nC,kBA6BtDK,GAAYkgD,GAA0BlgD,IAzBX,oBAAzBn6B,GAAS+5B,aAAkE,oBAA7B/5B,GAAS85B,gBAPhE,IACE3nC,EAkCE,IAAKoJ,EAAQg/E,eAAiBG,EAC5B,OAGF,MAAMC,EAAYV,GAAa1hD,GAE/ByB,EAAS9pC,QAAQyqF,EACnB,GC8BF,SAASC,GAAsBz+B,GAC7B,GAAIA,EAAQ4Q,WAAY,CACtB,MAAMv5D,EAAO2oD,EAAQjB,aACdiB,EAAQ4Q,kBACR5Q,EAAQjB,MACfrtD,OAAOmI,eAAemmD,EAAS,OAAQ,CACrC52C,cAAc,EACd5N,YAAY,EACZC,UAAU,EACV3B,MAAOzC,IAGb,CAEA,SAASqnF,GAAmBtiD,GAC1BA,EAAM/kC,KAAKwmC,SAAS9pC,SAASisD,IAC3By+B,GAAsBz+B,EAAA,GAE1B,CAuBA,IAAA2+B,GAAe,CACb38E,GAAI,aAEJ6B,SAAU,CACR+6E,UAAW,UACXpiB,SAAS,GAGXqiB,qBAAsBA,CAACziD,EAAO7wB,EAAMnM,KAClC,IAAKA,EAAQo9D,QAGX,YADAkiB,GAAmBtiD,GAKrB,MAAM04B,EAAiB14B,EAAMsG,MAE7BtG,EAAM/kC,KAAKwmC,SAAS9pC,SAAQ,CAACisD,EAASjvB,KACpC,MAAM,MAACguB,EAAA,UAAOpgB,GAAaqhB,EACrB3oB,EAAO+E,EAAM2kB,eAAehwB,GAC5B15B,EAAO0nD,GAASiB,EAAQ3oD,KAE9B,GAAsD,MAAlD0S,GAAQ,CAAC40B,EAAWvC,EAAMh9B,QAAQu/B,YAEpC,OAGF,IAAKtH,EAAKxkB,WAAWwsC,mBAEnB,OAGF,MAAMy/B,EAAQ1iD,EAAMmD,OAAOlI,EAAK+oB,SAChC,GAAmB,WAAf0+B,EAAMxsF,MAAoC,SAAfwsF,EAAMxsF,KAEnC,OAGF,GAAI8pC,EAAMh9B,QAAQ+/B,QAEhB,OAGF,IAAI,MAAChK,EAAK,MAAEsC,GAjElB,SAAmDJ,EAAMC,GACvD,MAAME,EAAaF,EAAOljC,OAE1B,IACIqjC,EADAtC,EAAQ,EAGZ,MAAM,OAACwC,GAAUN,GACX,IAACjtB,EAAG,IAAEsV,EAAG,WAAEoY,EAAU,WAAEC,GAAcJ,EAAOK,gBAWlD,OATIF,IACF3C,EAAQM,GAAYQ,GAAaqB,EAAQK,EAAOE,KAAMztB,GAAK4rB,GAAI,EAAGwB,EAAa,IAG/EC,EADEM,EACMtC,GAAYQ,GAAaqB,EAAQK,EAAOE,KAAMnY,GAAKqW,GAAK,EAAGZ,EAAOqC,GAAcrC,EAEhFqC,EAAarC,EAGhB,CAACA,QAAOsC,QACjB,CA8C2BsnD,CAA0C1nD,EAAMhgC,GAErE,GAAIogC,IADcr4B,EAAQiM,WAAa,EAAIypD,GAIzC,YADA2pB,GAAsBz+B,GAuBxB,IAAIg/B,EACJ,OApBIjvD,EAAcgvB,KAIhBiB,EAAQjB,MAAQ1nD,SACT2oD,EAAQ3oD,KACf3F,OAAOmI,eAAemmD,EAAS,OAAQ,CACrC52C,cAAc,EACd5N,YAAY,EACZ8L,IAAK,WACH,OAAOvO,KAAK63D,UACd,EACAl1D,IAAK,SAAS4kB,GACZvnB,KAAKgmD,MAAQz+B,CACf,KAMIlhB,EAAQw/E,WAChB,IAAK,OACHI,EA5QR,SAAwB3nF,EAAM89B,EAAOsC,EAAOq9B,EAAgB11D,GAS1D,MAAM6/E,EAAU7/E,EAAQ6/E,SAAWnqB,EAEnC,GAAImqB,GAAWxnD,EACb,OAAOpgC,EAAKlF,MAAMgjC,EAAOA,EAAQsC,GAGnC,MAAMunD,EAAY,GAEZE,GAAeznD,EAAQ,IAAMwnD,EAAU,GAC7C,IAAIE,EAAe,EACnB,MAAMC,EAAWjqD,EAAQsC,EAAQ,EAEjC,IACIxjC,EAAGorF,EAAcC,EAASz4C,EAAM04C,EADhCpmF,EAAIg8B,EAKR,IAFA6pD,EAAUG,KAAkB9nF,EAAK8B,GAE5BlF,EAAI,EAAGA,EAAIgrF,EAAU,EAAGhrF,IAAK,CAChC,IAEI64B,EAFAktD,EAAO,EACPwF,EAAO,EAIX,MAAMC,EAAgB1oF,KAAKmT,OAAOjW,EAAI,GAAKirF,GAAe,EAAI/pD,EACxDuqD,EAAc3oF,KAAKqT,IAAIrT,KAAKmT,OAAOjW,EAAI,GAAKirF,GAAe,EAAGznD,GAAStC,EACvEwqD,EAAiBD,EAAcD,EAErC,IAAK3yD,EAAI2yD,EAAe3yD,EAAI4yD,EAAa5yD,IACvCktD,GAAQ3iF,EAAKy1B,GAAG9K,EAChBw9D,GAAQnoF,EAAKy1B,GAAG8E,EAGlBooD,GAAQ2F,EACRH,GAAQG,EAGR,MAAMC,EAAY7oF,KAAKmT,MAAMjW,EAAIirF,GAAe,EAAI/pD,EAC9C0qD,EAAU9oF,KAAKqT,IAAIrT,KAAKmT,OAAOjW,EAAI,GAAKirF,GAAe,EAAGznD,GAAStC,GAClEnT,EAAG89D,EAASluD,EAAGmuD,GAAW1oF,EAAK8B,GAStC,IAFAmmF,EAAUz4C,GAAQ,EAEb/Z,EAAI8yD,EAAW9yD,EAAI+yD,EAAS/yD,IAC/B+Z,EAAO,GAAM9vC,KAAKq8B,KACf0sD,EAAU9F,IAAS3iF,EAAKy1B,GAAG8E,EAAImuD,IAC/BD,EAAUzoF,EAAKy1B,GAAG9K,IAAMw9D,EAAOO,IAG9Bl5C,EAAOy4C,IACTA,EAAUz4C,EACVw4C,EAAehoF,EAAKy1B,GACpByyD,EAAQzyD,GAIZkyD,EAAUG,KAAkBE,EAC5BlmF,EAAIomF,CACN,CAKA,OAFAP,EAAUG,KAAkB9nF,EAAK+nF,GAE1BJ,CACT,CA+LoBgB,CAAe3oF,EAAM89B,EAAOsC,EAAOq9B,EAAgB11D,GAC/D,MACF,IAAK,UACH4/E,EAhMR,SAA0B3nF,EAAM89B,EAAOsC,EAAOq9B,GAC5C,IAEI7gE,EAAG2yC,EAAO5kB,EAAG4P,EAAGkoD,EAAOmG,EAAUC,EAAUC,EAAYv0B,EAAMF,EAF7DsuB,EAAO,EACPC,EAAS,EAEb,MAAM+E,EAAY,GACZI,EAAWjqD,EAAQsC,EAAQ,EAE3B2oD,EAAO/oF,EAAK89B,GAAOnT,EAEnBq+D,EADOhpF,EAAK+nF,GAAUp9D,EACVo+D,EAElB,IAAKnsF,EAAIkhC,EAAOlhC,EAAIkhC,EAAQsC,IAASxjC,EAAG,CACtC2yC,EAAQvvC,EAAKpD,GACb+tB,GAAK4kB,EAAM5kB,EAAIo+D,GAAQC,EAAKvrB,EAC5BljC,EAAIgV,EAAMhV,EACV,MAAMwoD,EAAa,EAAJp4D,EAEf,GAAIo4D,IAAWN,EAETloD,EAAIg6B,GACNA,EAAOh6B,EACPquD,EAAWhsF,GACF29B,EAAI85B,IACbA,EAAO95B,EACPsuD,EAAWjsF,GAIb+lF,GAAQC,EAASD,EAAOpzC,EAAM5kB,KAAOi4D,MAChC,CAEL,MAAMv/E,EAAYzG,EAAI,EAEtB,IAAK87B,EAAckwD,KAAclwD,EAAcmwD,GAAW,CAKxD,MAAMI,EAAqBvpF,KAAKqT,IAAI61E,EAAUC,GACxCK,EAAqBxpF,KAAK2oB,IAAIugE,EAAUC,GAE1CI,IAAuBH,GAAcG,IAAuB5lF,GAC9DskF,EAAUxnF,KAAK,IACVH,EAAKipF,GACRt+D,EAAGg4D,IAGHuG,IAAuBJ,GAAcI,IAAuB7lF,GAC9DskF,EAAUxnF,KAAK,IACVH,EAAKkpF,GACRv+D,EAAGg4D,IAOL/lF,EAAI,GAAKyG,IAAcylF,GAEzBnB,EAAUxnF,KAAKH,EAAKqD,IAItBskF,EAAUxnF,KAAKovC,GACfkzC,EAAQM,EACRH,EAAS,EACTruB,EAAOF,EAAO95B,EACdquD,EAAWC,EAAWC,EAAalsF,EAEvC,CAEA,OAAO+qF,CACT,CAwHoBwB,CAAiBnpF,EAAM89B,EAAOsC,EAAOq9B,GACjD,MACF,QACE,MAAM,IAAIn5D,MAAM,qCAAqCyD,EAAQw/E,cAG/D5+B,EAAQ4Q,WAAaouB,CAAA,GACrB,EAGJnK,OAAAA,CAAQz4C,GACNsiD,GAAmBtiD,EACrB,GC3OK,SAASqkD,GAAW5sD,EAAUrrB,EAAO0tB,EAAMyK,GAChD,GAAIA,EACF,OAEF,IAAIxL,EAAQ3sB,EAAMqrB,GACdzgB,EAAM8iB,EAAKrC,GAMf,MAJiB,UAAbA,IACFsB,EAAQF,GAAgBE,GACxB/hB,EAAM6hB,GAAgB7hB,IAEjB,CAACygB,WAAUsB,QAAO/hB,MAC3B,CAqBO,SAASstE,GAAgBvrD,EAAO/hB,EAAKkkB,GAC1C,KAAMlkB,EAAM+hB,EAAO/hB,IAAO,CACxB,MAAMwzB,EAAQtP,EAAOlkB,GACrB,IAAKsgB,MAAMkT,EAAM5kB,KAAO0R,MAAMkT,EAAMhV,GAClC,KAEJ,CACA,OAAOxe,CACT,CAEA,SAASutE,GAASxnF,EAAGC,EAAG3D,EAAMpE,GAC5B,OAAI8H,GAAKC,EACA/H,EAAG8H,EAAE1D,GAAO2D,EAAE3D,IAEhB0D,EAAIA,EAAE1D,GAAQ2D,EAAIA,EAAE3D,GAAQ,CACrC,CCnFO,SAASmrF,GAAoBC,EAAU15E,GAC5C,IAAImwB,EAAS,GACTqjB,GAAQ,EAUZ,OARInoD,EAAQquF,IACVlmC,GAAQ,EAERrjB,EAASupD,GAETvpD,EDwCG,SAA6BupD,EAAU15E,GAC5C,MAAM,EAAC6a,EAAI,KAAI,EAAE4P,EAAI,MAAQivD,GAAY,CAAC,EACpCC,EAAa35E,EAAKmwB,OAClBA,EAAS,GAaf,OAZAnwB,EAAK4vC,SAAShjD,SAAQgtF,IAAkB,IAAjB,MAAC5rD,EAAK,IAAE/hB,GAAI2tE,EACjC3tE,EAAMstE,GAAgBvrD,EAAO/hB,EAAK0tE,GAClC,MAAMt4E,EAAQs4E,EAAW3rD,GACnBe,EAAO4qD,EAAW1tE,GACd,OAANwe,GACF0F,EAAO9/B,KAAK,CAACwqB,EAAGxZ,EAAMwZ,EAAG4P,MACzB0F,EAAO9/B,KAAK,CAACwqB,EAAGkU,EAAKlU,EAAG4P,OACT,OAAN5P,IACTsV,EAAO9/B,KAAK,CAACwqB,IAAG4P,EAAGppB,EAAMopB,IACzB0F,EAAO9/B,KAAK,CAACwqB,IAAG4P,EAAGsE,EAAKtE,QAGrB0F,CACT,CCzDa0pD,CAAoBH,EAAU15E,GAGlCmwB,EAAOljC,OAAS,IAAIwmF,GAAY,CACrCtjD,SACAl4B,QAAS,CAACuxC,QAAS,GACnBgK,QACA0W,UAAW1W,IACR,IACP,CAEO,SAASsmC,GAAiB7pF,GAC/B,OAAOA,IAA0B,IAAhBA,EAAOovC,IAC1B,CC5BO,SAAS06C,GAAe7vD,EAAShxB,EAAO8gF,GAE7C,IAAI36C,EADWnV,EAAQhxB,GACLmmC,KAClB,MAAM46C,EAAU,CAAC/gF,GACjB,IAAIpD,EAEJ,IAAKkkF,EACH,OAAO36C,EAGT,MAAgB,IAATA,IAA6C,IAA3B46C,EAAQzmF,QAAQ6rC,IAAc,CACrD,IAAKxW,EAASwW,GACZ,OAAOA,EAIT,GADAvpC,EAASo0B,EAAQmV,IACZvpC,EACH,OAAO,EAGT,GAAIA,EAAOgkC,QACT,OAAOuF,EAGT46C,EAAQ5pF,KAAKgvC,GACbA,EAAOvpC,EAAOupC,IAChB,CAEA,OAAO,CACT,CAOO,SAAS66C,GAAYl6E,EAAM9G,EAAOo3B,GAEvC,MAAM+O,EAwER,SAAyBr/B,GACvB,MAAM/H,EAAU+H,EAAK/H,QACfkiF,EAAaliF,EAAQonC,KAC3B,IAAIA,EAAOtW,EAAeoxD,GAAcA,EAAWrkF,OAAQqkF,QAE9CjtF,IAATmyC,IACFA,IAASpnC,EAAQu+B,iBAGnB,IAAa,IAAT6I,GAA2B,OAATA,EACpB,OAAO,EAGT,IAAa,IAATA,EACF,MAAO,SAET,OAAOA,CACT,CAzFe+6C,CAAgBp6E,GAE7B,GAAIpU,EAASyzC,GACX,OAAO9S,MAAM8S,EAAK1sC,QAAiB0sC,EAGrC,IAAIvpC,EAASozB,WAAWmW,GAExB,OAAIxW,EAAS/yB,IAAWlG,KAAKmT,MAAMjN,KAAYA,EAOjD,SAA2BukF,EAASnhF,EAAOpD,EAAQw6B,GACjC,MAAZ+pD,GAA+B,MAAZA,IACrBvkF,EAASoD,EAAQpD,GAGnB,GAAIA,IAAWoD,GAASpD,EAAS,GAAKA,GAAUw6B,EAC9C,OAAO,EAGT,OAAOx6B,CACT,CAhBWwkF,CAAkBj7C,EAAK,GAAInmC,EAAOpD,EAAQw6B,GAG5C,CAAC,SAAU,QAAS,MAAO,QAAS,SAAS98B,QAAQ6rC,IAAS,GAAKA,CAC5E,CCHA,SAASk7C,GAAepqD,EAAQqqD,EAAaC,GAC3C,MAAMC,EAAY,GAClB,IAAK,IAAI/0D,EAAI,EAAGA,EAAI80D,EAAWxtF,OAAQ04B,IAAK,CAC1C,MAAM3lB,EAAOy6E,EAAW90D,IAClB,MAACtkB,EAAK,KAAE0tB,EAAI,MAAE0Q,GAASk7C,GAAU36E,EAAMw6E,EAAa,KAE1D,MAAK/6C,GAAUp+B,GAAS0tB,GAGxB,GAAI1tB,EAGFq5E,EAAUpoE,QAAQmtB,QAGlB,GADAtP,EAAO9/B,KAAKovC,IACP1Q,EAEH,KAGN,CACAoB,EAAO9/B,QAAQqqF,EACjB,CAQA,SAASC,GAAU36E,EAAMw6E,EAAa9tD,GACpC,MAAM+S,EAAQz/B,EAAK6nB,YAAY2yD,EAAa9tD,GAC5C,IAAK+S,EACH,MAAO,CAAC,EAGV,MAAMm7C,EAAan7C,EAAM/S,GACnBkjB,EAAW5vC,EAAK4vC,SAChB+pC,EAAa35E,EAAKmwB,OACxB,IAAI9uB,GAAQ,EACR0tB,GAAO,EACX,IAAK,IAAIjiC,EAAI,EAAGA,EAAI8iD,EAAS3iD,OAAQH,IAAK,CACxC,MAAMoiD,EAAUU,EAAS9iD,GACnB+tF,EAAalB,EAAWzqC,EAAQlhB,OAAOtB,GACvCouD,EAAYnB,EAAWzqC,EAAQjjC,KAAKygB,GAC1C,GAAI6B,GAAWqsD,EAAYC,EAAYC,GAAY,CACjDz5E,EAAQu5E,IAAeC,EACvB9rD,EAAO6rD,IAAeE,EACtB,MAEJ,CACA,MAAO,CAACz5E,QAAO0tB,OAAM0Q,QACvB,CC1GO,MAAMs7C,GACXlqF,WAAAA,CAAYggB,GACVjf,KAAKipB,EAAIhK,EAAKgK,EACdjpB,KAAK64B,EAAI5Z,EAAK4Z,EACd74B,KAAK6sC,OAAS5tB,EAAK4tB,MACrB,CAEA6zC,WAAAA,CAAYj7C,EAAKoD,EAAQ5pB,GACvB,MAAM,EAACgK,EAAA,EAAG4P,EAAA,OAAGgU,GAAU7sC,KAGvB,OAFA6oC,EAASA,GAAU,CAACzM,MAAO,EAAG/hB,IAAKof,IACnCgM,EAAI0H,IAAIlkB,EAAG4P,EAAGgU,EAAQhE,EAAOxuB,IAAKwuB,EAAOzM,OAAO,IACxCnd,EAAK4pB,MACf,CAEA5S,WAAAA,CAAY4X,GACV,MAAM,EAAC5kB,EAAA,EAAG4P,EAAA,OAAGgU,GAAU7sC,KACjB27B,EAAQkS,EAAMlS,MACpB,MAAO,CACL1S,EAAGA,EAAIjrB,KAAKgjC,IAAIrF,GAASkR,EACzBhU,EAAGA,EAAI76B,KAAK+hC,IAAIpE,GAASkR,EACzBlR,QAEJ,ECbK,SAASyW,GAAW/zC,GACzB,MAAM,MAACglC,EAAK,KAAEoK,EAAA,KAAMr/B,GAAQ/P,EAE5B,GAAI44B,EAASwW,GACX,OAwBJ,SAAwBpK,EAAO/7B,GAC7B,MAAMg3B,EAAO+E,EAAM2kB,eAAe1gD,GAC5B4gC,EAAU5J,GAAQ+E,EAAMmuB,iBAAiBlqD,GAC/C,OAAO4gC,EAAU5J,EAAK2oB,QAAU,IAClC,CA5BWmiC,CAAe/lD,EAAOoK,GAG/B,GAAa,UAATA,EACF,OFNG,SAAyBpvC,GAC9B,MAAM,MAACkoC,EAAK,MAAEj/B,EAAA,KAAO8G,GAAQ/P,EACvBkgC,EAAS,GACTyf,EAAW5vC,EAAK4vC,SAChBqrC,EAAej7E,EAAKmwB,OACpBsqD,EAiBR,SAAuBtiD,EAAOj/B,GAC5B,MAAMgiF,EAAQ,GACR5iB,EAAQngC,EAAMke,wBAAwB,QAE5C,IAAK,IAAIvpD,EAAI,EAAGA,EAAIwrE,EAAMrrE,OAAQH,IAAK,CACrC,MAAMojC,EAAOooC,EAAMxrE,GACnB,GAAIojC,EAAKh3B,QAAUA,EACjB,MAEGg3B,EAAKmsB,QACR6+B,EAAM5oE,QAAQ4d,EAAK2oB,QAEvB,CACA,OAAOqiC,CACT,CA/BqBC,CAAchjD,EAAOj/B,GACxCuhF,EAAWpqF,KAAKopF,GAAoB,CAAC5+D,EAAG,KAAM4P,EAAG0N,EAAMiC,QAASp6B,IAEhE,IAAK,IAAIlT,EAAI,EAAGA,EAAI8iD,EAAS3iD,OAAQH,IAAK,CACxC,MAAMoiD,EAAUU,EAAS9iD,GACzB,IAAK,IAAI64B,EAAIupB,EAAQlhB,MAAOrI,GAAKupB,EAAQjjC,IAAK0Z,IAC5C40D,GAAepqD,EAAQ8qD,EAAat1D,GAAI80D,EAE5C,CACA,OAAO,IAAIhH,GAAY,CAACtjD,SAAQl4B,QAAS,CAAC,GAC5C,CETWmjF,CAAgBnrF,GAGzB,GAAa,UAATovC,EACF,OAAO,EAGT,MAAMq6C,EAmBR,SAAyBzpF,GACvB,MAAMkoC,EAAQloC,EAAOkoC,OAAS,CAAC,EAE/B,GAAIA,EAAMiyB,yBACR,OAsBJ,SAAiCn6D,GAC/B,MAAM,MAACkoC,EAAA,KAAOkH,GAAQpvC,EAChBgI,EAAUkgC,EAAMlgC,QAChBhL,EAASkrC,EAAMqjB,YAAYvuD,OAC3B+gC,EAAQ/1B,EAAQoxB,QAAU8O,EAAM5f,IAAM4f,EAAMl1B,IAC5CtQ,EHuBD,SAAyB0sC,EAAMlH,EAAOyoB,GAC3C,IAAIjuD,EAYJ,OATEA,EADW,UAAT0sC,EACMuhB,EACU,QAATvhB,EACDlH,EAAMlgC,QAAQoxB,QAAU8O,EAAMl1B,IAAMk1B,EAAM5f,IACzC3sB,EAASyzC,GAEVA,EAAK1sC,MAELwlC,EAAM+kC,eAETvqE,CACT,CGrCgB0oF,CAAgBh8C,EAAMlH,EAAOnK,GACrCl4B,EAAS,GAEf,GAAImC,EAAQ2iC,KAAKgrB,SAAU,CACzB,MAAM4B,EAASrvB,EAAMiyB,yBAAyB,EAAGp8B,GACjD,OAAO,IAAI+sD,GAAU,CACnBlgE,EAAG2sC,EAAO3sC,EACV4P,EAAG+8B,EAAO/8B,EACVgU,OAAQtG,EAAMsuB,8BAA8B9zD,KAIhD,IAAK,IAAI7F,EAAI,EAAGA,EAAIG,IAAUH,EAC5BgJ,EAAOzF,KAAK8nC,EAAMiyB,yBAAyBt9D,EAAG6F,IAEhD,OAAOmD,CACT,CA3CWwlF,CAAwBrrF,GAEjC,OAIF,SAA+BA,GAC7B,MAAM,MAACkoC,EAAQ,QAAIkH,GAAQpvC,EACrBstC,EHqBD,SAAyB8B,EAAMlH,GACpC,IAAIoF,EAAQ,KAWZ,MAVa,UAAT8B,EACF9B,EAAQpF,EAAMiC,OACI,QAATiF,EACT9B,EAAQpF,EAAM+B,IACLtuC,EAASyzC,GAElB9B,EAAQpF,EAAMrH,iBAAiBuO,EAAK1sC,OAC3BwlC,EAAM6uB,eACfzpB,EAAQpF,EAAM6uB,gBAETzpB,CACT,CGlCgBg+C,CAAgBl8C,EAAMlH,GAEpC,GAAItP,EAAS0U,GAAQ,CACnB,MAAMikB,EAAarpB,EAAM8uB,eAEzB,MAAO,CACLpsC,EAAG2mC,EAAajkB,EAAQ,KACxB9S,EAAG+2B,EAAa,KAAOjkB,GAI3B,OAAO,IACT,CAlBSi+C,CAAsBvrF,EAC/B,CA1BmBwrF,CAAgBxrF,GAEjC,OAAIypF,aAAoBqB,GACfrB,EAGFD,GAAoBC,EAAU15E,EACvC,CC9BO,SAAS07E,GAAUrkD,EAAKpnC,EAAQyvC,GACrC,MAAM5pC,EAASkuC,GAAW/zC,IACpB,KAAC+P,EAAI,MAAEm4B,EAAA,KAAOzH,GAAQzgC,EACtB0rF,EAAW37E,EAAK/H,QAChBkiF,EAAawB,EAASt8C,KACtB/X,EAAQq0D,EAASnlD,iBACjB,MAAColD,EAAQt0D,EAAK,MAAE4zD,EAAQ5zD,GAAS6yD,GAAc,CAAC,EAClDrkF,GAAUkK,EAAKmwB,OAAOljC,SACxB2yC,GAASvI,EAAKqI,GAMlB,SAAgBrI,EAAK8b,GACnB,MAAM,KAACnzC,EAAA,OAAMlK,EAAA,MAAQ8lF,EAAA,MAAOV,EAAA,KAAOx7C,EAAA,MAAMvH,GAASgb,EAC5CzmB,EAAW1sB,EAAKwzC,MAAQ,QAAUL,EAAIziB,KAE5C2G,EAAI4F,OAEa,MAAbvQ,GAAoBwuD,IAAUU,IAChCC,GAAaxkD,EAAKvhC,EAAQ4pC,EAAKxF,KAC/BmF,GAAKhI,EAAK,CAACr3B,OAAMlK,SAAQwxB,MAAOs0D,EAAOzjD,QAAOzL,aAC9C2K,EAAI+F,UACJ/F,EAAI4F,OACJ4+C,GAAaxkD,EAAKvhC,EAAQ4pC,EAAKtF,SAEjCiF,GAAKhI,EAAK,CAACr3B,OAAMlK,SAAQwxB,MAAO4zD,EAAO/iD,QAAOzL,aAE9C2K,EAAI+F,SACN,CArBI0+C,CAAOzkD,EAAK,CAACr3B,OAAMlK,SAAQ8lF,QAAOV,QAAOx7C,OAAMvH,QAAOzH,SACtDmP,GAAWxI,GAEf,CAoBA,SAASwkD,GAAaxkD,EAAKvhC,EAAQimF,GACjC,MAAM,SAACnsC,EAAA,OAAUzf,GAAUr6B,EAC3B,IAAIuL,GAAQ,EACR26E,GAAW,EAEf3kD,EAAIwH,YACJ,IAAK,MAAMqQ,KAAWU,EAAU,CAC9B,MAAM,MAAC5hB,EAAA,IAAO/hB,GAAOijC,EACf3H,EAAapX,EAAOnC,GACpBg8B,EAAY75B,EAAOopD,GAAgBvrD,EAAO/hB,EAAKkkB,IACjD9uB,GACFg2B,EAAI4H,OAAOsI,EAAW1sB,EAAG0sB,EAAW9c,GACpCppB,GAAQ,IAERg2B,EAAI6H,OAAOqI,EAAW1sB,EAAGkhE,GACzB1kD,EAAI6H,OAAOqI,EAAW1sB,EAAG0sB,EAAW9c,IAEtCuxD,IAAalmF,EAAOw8E,YAAYj7C,EAAK6X,EAAS,CAACmQ,KAAM28B,IACjDA,EACF3kD,EAAI2H,YAEJ3H,EAAI6H,OAAO8qB,EAAUnvC,EAAGkhE,EAE5B,CAEA1kD,EAAI6H,OAAOppC,EAAOuL,QAAQwZ,EAAGkhE,GAC7B1kD,EAAI2H,YACJ3H,EAAIqD,MACN,CAEA,SAAS2E,GAAKhI,EAAK8b,GACjB,MAAM,KAACnzC,EAAI,OAAElK,EAAM,SAAE42B,EAAQ,MAAEpF,EAAK,MAAE6Q,GAASgb,EACzCvD,ENlED,SAAmB5vC,EAAMlK,EAAQ42B,GACtC,MAAMkjB,EAAW5vC,EAAK4vC,SAChBzf,EAASnwB,EAAKmwB,OACd8rD,EAAUnmF,EAAOq6B,OACjBvF,EAAQ,GAEd,IAAK,MAAMskB,KAAWU,EAAU,CAC9B,IAAI,MAAC5hB,EAAA,IAAO/hB,GAAOijC,EACnBjjC,EAAMstE,GAAgBvrD,EAAO/hB,EAAKkkB,GAElC,MAAMsK,EAAS6+C,GAAW5sD,EAAUyD,EAAOnC,GAAQmC,EAAOlkB,GAAMijC,EAAQ1V,MAExE,IAAK1jC,EAAO85C,SAAU,CAGpBhlB,EAAMv6B,KAAK,CACTJ,OAAQi/C,EACRp5C,OAAQ2kC,EACRzM,MAAOmC,EAAOnC,GACd/hB,IAAKkkB,EAAOlkB,KAEd,SAIF,MAAMiwE,EAAiBvsC,GAAe75C,EAAQ2kC,GAE9C,IAAK,MAAM0hD,KAAOD,EAAgB,CAChC,MAAME,EAAY9C,GAAW5sD,EAAUuvD,EAAQE,EAAInuD,OAAQiuD,EAAQE,EAAIlwE,KAAMkwE,EAAI3iD,MAC3E6iD,EAAcptC,GAAcC,EAAS/e,EAAQisD,GAEnD,IAAK,MAAME,KAAcD,EACvBzxD,EAAMv6B,KAAK,CACTJ,OAAQqsF,EACRxmF,OAAQqmF,EACRnuD,MAAO,CACL,CAACtB,GAAW8sD,GAAS/+C,EAAQ2hD,EAAW,QAASxsF,KAAK2oB,MAExDtM,IAAK,CACH,CAACygB,GAAW8sD,GAAS/+C,EAAQ2hD,EAAW,MAAOxsF,KAAKqT,OAI5D,CACF,CACA,OAAO2nB,CACT,CMoBmB+oD,CAAU3zE,EAAMlK,EAAQ42B,GAEzC,IAAK,MAAOz8B,OAAQssF,EAAKzmF,OAAQqmF,EAAG,MAAEnuD,EAAK,IAAE/hB,KAAQ2jC,EAAU,CAC7D,MAAO3Y,OAAO,gBAACT,EAAkBlP,GAAS,CAAC,GAAKi1D,EAC1CC,GAAsB,IAAX1mF,EAEjBuhC,EAAI4F,OACJ5F,EAAI6J,UAAY1K,EAEhBimD,GAAWplD,EAAKc,EAAOqkD,GAAYlD,GAAW5sD,EAAUsB,EAAO/hB,IAE/DorB,EAAIwH,YAEJ,MAAMm9C,IAAah8E,EAAKsyE,YAAYj7C,EAAKklD,GAEzC,IAAI/iD,EACJ,GAAIgjD,EAAU,CACRR,EACF3kD,EAAI2H,YAEJ09C,GAAmBrlD,EAAKvhC,EAAQmW,EAAKygB,GAGvC,MAAMiwD,IAAe7mF,EAAOw8E,YAAYj7C,EAAK8kD,EAAK,CAAC98B,KAAM28B,EAAU3yD,SAAS,IAC5EmQ,EAAOwiD,GAAYW,EACdnjD,GACHkjD,GAAmBrlD,EAAKvhC,EAAQk4B,EAAOtB,GAI3C2K,EAAI2H,YACJ3H,EAAIgI,KAAK7F,EAAO,UAAY,WAE5BnC,EAAI+F,SACN,CACF,CAEA,SAASq/C,GAAWplD,EAAKc,EAAOsC,GAC9B,MAAM,IAACP,EAAA,OAAKE,GAAUjC,EAAMlD,MAAMkoB,WAC5B,SAACzwB,EAAA,MAAUsB,EAAA,IAAO/hB,GAAOwuB,GAAU,CAAC,EACzB,MAAb/N,IACF2K,EAAIwH,YACJxH,EAAI+H,KAAKpR,EAAOkM,EAAKjuB,EAAM+hB,EAAOoM,EAASF,GAC3C7C,EAAIqD,OAER,CAEA,SAASgiD,GAAmBrlD,EAAKvhC,EAAQ2pC,EAAO/S,GAC9C,MAAMkwD,EAAoB9mF,EAAO+xB,YAAY4X,EAAO/S,GAChDkwD,GACFvlD,EAAI6H,OAAO09C,EAAkB/hE,EAAG+hE,EAAkBnyD,EAEtD,CC7GA,IAAAvxB,GAAe,CACb2B,GAAI,SAEJgiF,mBAAAA,CAAoB5nD,EAAOiiD,EAAOj/E,GAChC,MAAMq4B,GAAS2E,EAAM/kC,KAAKwmC,UAAY,IAAIzpC,OACpCi9B,EAAU,GAChB,IAAIgG,EAAMpjC,EAAGkT,EAAM/P,EAEnB,IAAKnD,EAAI,EAAGA,EAAIwjC,IAASxjC,EACvBojC,EAAO+E,EAAM2kB,eAAe9sD,GAC5BkT,EAAOkwB,EAAK2oB,QACZ5oD,EAAS,KAEL+P,GAAQA,EAAK/H,SAAW+H,aAAgByzE,KAC1CxjF,EAAS,CACP6pC,QAAS7E,EAAMmuB,iBAAiBt2D,GAChCoM,MAAOpM,EACPuyC,KAAM66C,GAAYl6E,EAAMlT,EAAGwjC,GAC3B2E,QACAvE,KAAMR,EAAKxkB,WAAWzT,QAAQu/B,UAC9BW,MAAOjI,EAAKimB,OACZn2C,SAIJkwB,EAAK4sD,QAAU7sF,EACfi6B,EAAQ75B,KAAKJ,GAGf,IAAKnD,EAAI,EAAGA,EAAIwjC,IAASxjC,EACvBmD,EAASi6B,EAAQp9B,GACZmD,IAA0B,IAAhBA,EAAOovC,OAItBpvC,EAAOovC,KAAO06C,GAAe7vD,EAASp9B,EAAGmL,EAAQ+hF,WAErD,EAEA+C,UAAAA,CAAW9nD,EAAOiiD,EAAOj/E,GACvB,MAAMg6C,EAA4B,eAArBh6C,EAAQ+kF,SACf5nC,EAAWngB,EAAMq2B,+BACjB5rB,EAAOzK,EAAMkoB,UACnB,IAAK,IAAIrwD,EAAIsoD,EAASnoD,OAAS,EAAGH,GAAK,IAAKA,EAAG,CAC7C,MAAMmD,EAASmlD,EAAStoD,GAAGgwF,QACtB7sF,IAILA,EAAO+P,KAAKiqD,oBAAoBvqB,EAAMzvC,EAAOygC,MACzCuhB,GAAQhiD,EAAOovC,MACjBq8C,GAAUzmD,EAAMoC,IAAKpnC,EAAQyvC,GAEjC,CACF,EAEAu9C,kBAAAA,CAAmBhoD,EAAOiiD,EAAOj/E,GAC/B,GAAyB,uBAArBA,EAAQ+kF,SACV,OAGF,MAAM5nC,EAAWngB,EAAMq2B,+BACvB,IAAK,IAAIx+D,EAAIsoD,EAASnoD,OAAS,EAAGH,GAAK,IAAKA,EAAG,CAC7C,MAAMmD,EAASmlD,EAAStoD,GAAGgwF,QAEvBhD,GAAiB7pF,IACnByrF,GAAUzmD,EAAMoC,IAAKpnC,EAAQglC,EAAMkoB,UAEvC,CACF,EAEA+/B,iBAAAA,CAAkBjoD,EAAO7wB,EAAMnM,GAC7B,MAAMhI,EAASmU,EAAK8rB,KAAK4sD,QAEpBhD,GAAiB7pF,IAAgC,sBAArBgI,EAAQ+kF,UAIzCtB,GAAUzmD,EAAMoC,IAAKpnC,EAAQglC,EAAMkoB,UACrC,EAEAzgD,SAAU,CACRs9E,WAAW,EACXgD,SAAU,sBCvEd,MAAMG,GAAaA,CAACC,EAAWzc,KAC7B,IAAI,UAAC0c,EAAY1c,EAAA,SAAU2c,EAAW3c,GAAYyc,EAOlD,OALIA,EAAUG,gBACZF,EAAYztF,KAAKqT,IAAIo6E,EAAW1c,GAChC2c,EAAWF,EAAUI,iBAAmB5tF,KAAKqT,IAAIq6E,EAAU3c,IAGtD,CACL2c,WACAD,YACAI,WAAY7tF,KAAK2oB,IAAIooD,EAAU0c,GAChC,EAKI,MAAMK,WAAenpB,GAK1B1jE,WAAAA,CAAYyF,GACVusD,QAEAjxD,KAAK+rF,QAAS,EAGd/rF,KAAKgsF,eAAiB,GAKtBhsF,KAAKisF,aAAe,KAGpBjsF,KAAKksF,cAAe,EAEpBlsF,KAAKqjC,MAAQ3+B,EAAO2+B,MACpBrjC,KAAKqG,QAAU3B,EAAO2B,QACtBrG,KAAKylC,IAAM/gC,EAAO+gC,IAClBzlC,KAAKmsF,iBAAc7wF,EACnB0E,KAAKosF,iBAAc9wF,EACnB0E,KAAKqsF,gBAAa/wF,EAClB0E,KAAKs6C,eAAYh/C,EACjB0E,KAAKqwC,cAAW/0C,EAChB0E,KAAKsoC,SAAMhtC,EACX0E,KAAKwoC,YAASltC,EACd0E,KAAKyoC,UAAOntC,EACZ0E,KAAKuoC,WAAQjtC,EACb0E,KAAKmsC,YAAS7wC,EACd0E,KAAK2pC,WAAQruC,EACb0E,KAAKslE,cAAWhqE,EAChB0E,KAAKyB,cAAWnG,EAChB0E,KAAK21B,YAASr6B,EACd0E,KAAK87D,cAAWxgE,CAClB,CAEA4mD,MAAAA,CAAO7R,EAAUiK,EAAWD,GAC1Br6C,KAAKqwC,SAAWA,EAChBrwC,KAAKs6C,UAAYA,EACjBt6C,KAAKslE,SAAWjrB,EAEhBr6C,KAAKmnE,gBACLnnE,KAAKssF,cACLtsF,KAAKqoE,KACP,CAEAlB,aAAAA,GACMnnE,KAAKq1D,gBACPr1D,KAAK2pC,MAAQ3pC,KAAKqwC,SAClBrwC,KAAKyoC,KAAOzoC,KAAKslE,SAAS78B,KAC1BzoC,KAAKuoC,MAAQvoC,KAAK2pC,QAElB3pC,KAAKmsC,OAASnsC,KAAKs6C,UACnBt6C,KAAKsoC,IAAMtoC,KAAKslE,SAASh9B,IACzBtoC,KAAKwoC,OAASxoC,KAAKmsC,OAEvB,CAEAmgD,WAAAA,GACE,MAAMd,EAAYxrF,KAAKqG,QAAQsjD,QAAU,CAAC,EAC1C,IAAIwiC,EAAchmE,EAAKqlE,EAAU56B,eAAgB,CAAC5wD,KAAKqjC,OAAQrjC,OAAS,GAEpEwrF,EAAUpqF,SACZ+qF,EAAcA,EAAY/qF,QAAQm4B,GAASiyD,EAAUpqF,OAAOm4B,EAAMv5B,KAAKqjC,MAAM/kC,SAG3EktF,EAAUh9B,OACZ29B,EAAcA,EAAY39B,MAAK,CAACpuD,EAAGC,IAAMmrF,EAAUh9B,KAAKpuD,EAAGC,EAAGL,KAAKqjC,MAAM/kC,SAGvE0B,KAAKqG,QAAQoxB,SACf00D,EAAY10D,UAGdz3B,KAAKmsF,YAAcA,CACrB,CAEA9jB,GAAAA,GACE,MAAM,QAAChiE,EAAO,IAAEo/B,GAAOzlC,KAMvB,IAAKqG,EAAQqiC,QAEX,YADA1oC,KAAK2pC,MAAQ3pC,KAAKmsC,OAAS,GAI7B,MAAMq/C,EAAYnlF,EAAQsjD,OACpB4iC,EAAYn7C,GAAOo6C,EAAUrmD,MAC7B4pC,EAAWwd,EAAU3oF,KACrBgmE,EAAc5pE,KAAKwsF,uBACnB,SAACd,EAAQ,WAAEG,GAAcN,GAAWC,EAAWzc,GAErD,IAAIplC,EAAOwC,EAEX1G,EAAIN,KAAOonD,EAAUxhD,OAEjB/qC,KAAKq1D,gBACP1rB,EAAQ3pC,KAAKqwC,SACblE,EAASnsC,KAAKysF,SAAS7iB,EAAamF,EAAU2c,EAAUG,GAAc,KAEtE1/C,EAASnsC,KAAKs6C,UACd3Q,EAAQ3pC,KAAK0sF,SAAS9iB,EAAa2iB,EAAWb,EAAUG,GAAc,IAGxE7rF,KAAK2pC,MAAQ3rC,KAAKqT,IAAIs4B,EAAOtjC,EAAQgqC,UAAYrwC,KAAKqwC,UACtDrwC,KAAKmsC,OAASnuC,KAAKqT,IAAI86B,EAAQ9lC,EAAQi0C,WAAat6C,KAAKs6C,UAC3D,CAKAmyC,QAAAA,CAAS7iB,EAAamF,EAAU2c,EAAUG,GACxC,MAAM,IAACpmD,EAAG,SAAE4K,EAAUhqC,SAAUsjD,QAAQ,QAACthB,KAAaroC,KAChD2sF,EAAW3sF,KAAKgsF,eAAiB,GAEjCK,EAAarsF,KAAKqsF,WAAa,CAAC,GAChC/mD,EAAaumD,EAAaxjD,EAChC,IAAIukD,EAAchjB,EAElBnkC,EAAIuK,UAAY,OAChBvK,EAAIwK,aAAe,SAEnB,IAAI48C,GAAO,EACPvkD,GAAOhD,EAgBX,OAfAtlC,KAAKmsF,YAAYnxF,SAAQ,CAAC+1D,EAAY71D,KACpC,MAAMqhD,EAAYmvC,EAAY3c,EAAW,EAAKtpC,EAAIwF,YAAY8lB,EAAWlnB,MAAMF,OAErE,IAANzuC,GAAWmxF,EAAWA,EAAWhxF,OAAS,GAAKkhD,EAAY,EAAIlU,EAAUgI,KAC3Eu8C,GAAetnD,EACf+mD,EAAWA,EAAWhxF,QAAUH,EAAI,EAAI,EAAI,IAAM,EAClDotC,GAAOhD,EACPunD,KAGFF,EAASzxF,GAAK,CAACutC,KAAM,EAAGH,MAAKukD,MAAKljD,MAAO4S,EAAWpQ,OAAQ0/C,GAE5DQ,EAAWA,EAAWhxF,OAAS,IAAMkhD,EAAYlU,CAAA,IAG5CukD,CACT,CAEAF,QAAAA,CAAS9iB,EAAa2iB,EAAWb,EAAUoB,GACzC,MAAM,IAACrnD,EAAG,UAAE6U,EAAWj0C,SAAUsjD,QAAQ,QAACthB,KAAaroC,KACjD2sF,EAAW3sF,KAAKgsF,eAAiB,GACjCI,EAAcpsF,KAAKosF,YAAc,GACjCW,EAAczyC,EAAYsvB,EAEhC,IAAIojB,EAAa3kD,EACb4kD,EAAkB,EAClBC,EAAmB,EAEnBzkD,EAAO,EACP0kD,EAAM,EAyBV,OAvBAntF,KAAKmsF,YAAYnxF,SAAQ,CAAC+1D,EAAY71D,KACpC,MAAM,UAACqhD,EAAS,WAAEsvC,GA8VxB,SAA2BH,EAAUa,EAAW9mD,EAAKsrB,EAAY+7B,GAC/D,MAAMvwC,EAKR,SAA4BwU,EAAY26B,EAAUa,EAAW9mD,GAC3D,IAAI2nD,EAAiBr8B,EAAWlnB,KAC5BujD,GAA4C,kBAAnBA,IAC3BA,EAAiBA,EAAevsC,QAAO,CAACzgD,EAAGC,IAAMD,EAAE/E,OAASgF,EAAEhF,OAAS+E,EAAIC,KAE7E,OAAOqrF,EAAYa,EAAU3oF,KAAO,EAAK6hC,EAAIwF,YAAYmiD,GAAgBzjD,KAC3E,CAXoB0jD,CAAmBt8B,EAAY26B,EAAUa,EAAW9mD,GAChEomD,EAYR,SAA6BiB,EAAa/7B,EAAYu8B,GACpD,IAAIzB,EAAaiB,EACc,kBAApB/7B,EAAWlnB,OACpBgiD,EAAa0B,GAA0Bx8B,EAAYu8B,IAErD,OAAOzB,CACT,CAlBqB2B,CAAoBV,EAAa/7B,EAAYw7B,EAAUjnD,YAC1E,MAAO,CAACiX,YAAWsvC,aACrB,CAlWsC4B,CAAkB/B,EAAUa,EAAW9mD,EAAKsrB,EAAY+7B,GAGpF5xF,EAAI,GAAKgyF,EAAmBrB,EAAa,EAAIxjD,EAAU0kD,IACzDC,GAAcC,EAAkB5kD,EAChC+jD,EAAY3tF,KAAK,CAACkrC,MAAOsjD,EAAiB9gD,OAAQ+gD,IAClDzkD,GAAQwkD,EAAkB5kD,EAC1B8kD,IACAF,EAAkBC,EAAmB,GAIvCP,EAASzxF,GAAK,CAACutC,OAAMH,IAAK4kD,EAAkBC,MAAKxjD,MAAO4S,EAAWpQ,OAAQ0/C,GAG3EoB,EAAkBjvF,KAAK2oB,IAAIsmE,EAAiB1wC,GAC5C2wC,GAAoBrB,EAAaxjD,CAAA,IAGnC2kD,GAAcC,EACdb,EAAY3tF,KAAK,CAACkrC,MAAOsjD,EAAiB9gD,OAAQ+gD,IAE3CF,CACT,CAEAU,cAAAA,GACE,IAAK1tF,KAAKqG,QAAQqiC,QAChB,OAEF,MAAMkhC,EAAc5pE,KAAKwsF,uBAClBR,eAAgBW,EAAUtmF,SAAS,MAAC83B,EAAOwrB,QAAQ,QAACthB,GAAQ,IAAE6T,IAAQl8C,KACvE2tF,EAAY1xC,GAAcC,EAAKl8C,KAAKyoC,KAAMzoC,KAAK2pC,OACrD,GAAI3pC,KAAKq1D,eAAgB,CACvB,IAAIw3B,EAAM,EACNpkD,EAAOrK,GAAeD,EAAOn+B,KAAKyoC,KAAOJ,EAASroC,KAAKuoC,MAAQvoC,KAAKqsF,WAAWQ,IACnF,IAAK,MAAMe,KAAUjB,EACfE,IAAQe,EAAOf,MACjBA,EAAMe,EAAOf,IACbpkD,EAAOrK,GAAeD,EAAOn+B,KAAKyoC,KAAOJ,EAASroC,KAAKuoC,MAAQvoC,KAAKqsF,WAAWQ,KAEjFe,EAAOtlD,KAAOtoC,KAAKsoC,IAAMshC,EAAcvhC,EACvCulD,EAAOnlD,KAAOklD,EAAUrxC,WAAWqxC,EAAU1kE,EAAEwf,GAAOmlD,EAAOjkD,OAC7DlB,GAAQmlD,EAAOjkD,MAAQtB,MAEpB,CACL,IAAI8kD,EAAM,EACN7kD,EAAMlK,GAAeD,EAAOn+B,KAAKsoC,IAAMshC,EAAcvhC,EAASroC,KAAKwoC,OAASxoC,KAAKosF,YAAYe,GAAKhhD,QACtG,IAAK,MAAMyhD,KAAUjB,EACfiB,EAAOT,MAAQA,IACjBA,EAAMS,EAAOT,IACb7kD,EAAMlK,GAAeD,EAAOn+B,KAAKsoC,IAAMshC,EAAcvhC,EAASroC,KAAKwoC,OAASxoC,KAAKosF,YAAYe,GAAKhhD,SAEpGyhD,EAAOtlD,IAAMA,EACbslD,EAAOnlD,MAAQzoC,KAAKyoC,KAAOJ,EAC3BulD,EAAOnlD,KAAOklD,EAAUrxC,WAAWqxC,EAAU1kE,EAAE2kE,EAAOnlD,MAAOmlD,EAAOjkD,OACpErB,GAAOslD,EAAOzhD,OAAS9D,EAG7B,CAEAgtB,YAAAA,GACE,MAAiC,QAA1Br1D,KAAKqG,QAAQ5E,UAAgD,WAA1BzB,KAAKqG,QAAQ5E,QACzD,CAEA4+C,IAAAA,GACE,GAAIrgD,KAAKqG,QAAQqiC,QAAS,CACxB,MAAMjD,EAAMzlC,KAAKylC,IACjBuI,GAASvI,EAAKzlC,MAEdA,KAAK6tF,QAEL5/C,GAAWxI,GAEf,CAKAooD,KAAAA,GACE,MAAOxnF,QAAS4Y,EAAA,YAAMmtE,EAAA,WAAaC,EAAA,IAAY5mD,GAAOzlC,MAChD,MAACm+B,EAAOwrB,OAAQ6hC,GAAavsE,EAC7B6uE,EAAehjF,GAAS4qB,MACxBi4D,EAAY1xC,GAAch9B,EAAKi9B,IAAKl8C,KAAKyoC,KAAMzoC,KAAK2pC,OACpD4iD,EAAYn7C,GAAOo6C,EAAUrmD,OAC7B,QAACkD,GAAWmjD,EACZzc,EAAWwd,EAAU3oF,KACrBmqF,EAAehf,EAAW,EAChC,IAAIif,EAEJhuF,KAAKsuE,YAGL7oC,EAAIuK,UAAY29C,EAAU39C,UAAU,QACpCvK,EAAIwK,aAAe,SACnBxK,EAAIwD,UAAY,GAChBxD,EAAIN,KAAOonD,EAAUxhD,OAErB,MAAM,SAAC2gD,EAAA,UAAUD,EAAA,WAAWI,GAAcN,GAAWC,EAAWzc,GAyE1D1Z,EAAer1D,KAAKq1D,eACpBuU,EAAc5pE,KAAKwsF,sBAEvBwB,EADE34B,EACO,CACPpsC,EAAGmV,GAAeD,EAAOn+B,KAAKyoC,KAAOJ,EAASroC,KAAKuoC,MAAQ8jD,EAAW,IACtExzD,EAAG74B,KAAKsoC,IAAMD,EAAUuhC,EACxBx7D,KAAM,GAGC,CACP6a,EAAGjpB,KAAKyoC,KAAOJ,EACfxP,EAAGuF,GAAeD,EAAOn+B,KAAKsoC,IAAMshC,EAAcvhC,EAASroC,KAAKwoC,OAAS4jD,EAAY,GAAGjgD,QACxF/9B,KAAM,GAIVsuC,GAAsB18C,KAAKylC,IAAKxmB,EAAKgvE,eAErC,MAAM3oD,EAAaumD,EAAaxjD,EAChCroC,KAAKmsF,YAAYnxF,SAAQ,CAAC+1D,EAAY71D,KACpCuqC,EAAI4J,YAAc0hB,EAAWF,UAC7BprB,EAAI6J,UAAYyhB,EAAWF,UAE3B,MAAM7lB,EAAYvF,EAAIwF,YAAY8lB,EAAWlnB,MAAMF,MAC7CqG,EAAY29C,EAAU39C,UAAU+gB,EAAW/gB,YAAc+gB,EAAW/gB,UAAYw7C,EAAUx7C,YAC1FrG,EAAQ+hD,EAAWqC,EAAe/iD,EACxC,IAAI/hB,EAAI+kE,EAAO/kE,EACX4P,EAAIm1D,EAAOn1D,EAEf80D,EAAUvxC,SAASp8C,KAAK2pC,OAEpB0rB,EACEn6D,EAAI,GAAK+tB,EAAI0gB,EAAQtB,EAAUroC,KAAKuoC,QACtC1P,EAAIm1D,EAAOn1D,GAAKyM,EAChB0oD,EAAO5/E,OACP6a,EAAI+kE,EAAO/kE,EAAImV,GAAeD,EAAOn+B,KAAKyoC,KAAOJ,EAASroC,KAAKuoC,MAAQ8jD,EAAW2B,EAAO5/E,QAElFlT,EAAI,GAAK29B,EAAIyM,EAAatlC,KAAKwoC,SACxCvf,EAAI+kE,EAAO/kE,EAAIA,EAAImjE,EAAY4B,EAAO5/E,MAAMu7B,MAAQtB,EACpD2lD,EAAO5/E,OACPyqB,EAAIm1D,EAAOn1D,EAAIuF,GAAeD,EAAOn+B,KAAKsoC,IAAMshC,EAAcvhC,EAASroC,KAAKwoC,OAAS4jD,EAAY4B,EAAO5/E,MAAM+9B,SAYhH,GA1HoB,SAASljB,EAAG4P,EAAGk4B,GACnC,GAAIp2B,MAAM+wD,IAAaA,GAAY,GAAK/wD,MAAM8wD,IAAcA,EAAY,EACtE,OAIFhmD,EAAI4F,OAEJ,MAAMpC,EAAY9R,EAAe45B,EAAW9nB,UAAW,GAUvD,GATAxD,EAAI6J,UAAYnY,EAAe45B,EAAWzhB,UAAWw+C,GACrDroD,EAAI06C,QAAUhpD,EAAe45B,EAAWovB,QAAS,QACjD16C,EAAIwoC,eAAiB92C,EAAe45B,EAAWkd,eAAgB,GAC/DxoC,EAAIs6C,SAAW5oD,EAAe45B,EAAWgvB,SAAU,SACnDt6C,EAAIwD,UAAYA,EAChBxD,EAAI4J,YAAclY,EAAe45B,EAAW1hB,YAAay+C,GAEzDroD,EAAIuoC,YAAY72C,EAAe45B,EAAWm9B,SAAU,KAEhD1C,EAAUG,cAAe,CAG3B,MAAMwC,EAAc,CAClBthD,OAAQ4+C,EAAYztF,KAAKowF,MAAQ,EACjCzhD,WAAYokB,EAAWpkB,WACvBC,SAAUmkB,EAAWnkB,SACrBc,YAAazE,GAETsqB,EAAUo6B,EAAUtxC,MAAMpzB,EAAGyiE,EAAW,GAI9Cr/C,GAAgB5G,EAAK0oD,EAAa56B,EAHlB16B,EAAIk1D,EAGgCvC,EAAUI,iBAAmBF,OAC5E,CAGL,MAAM2C,EAAUx1D,EAAI76B,KAAK2oB,KAAKooD,EAAW0c,GAAa,EAAG,GACnD6C,EAAWX,EAAUrxC,WAAWrzB,EAAGyiE,GACnC/N,EAAezsC,GAAc6f,EAAW4sB,cAE9Cl4C,EAAIwH,YAEAt0C,OAAOsqC,OAAO06C,GAAcx2E,MAAKsf,GAAW,IAANA,IACxC8pB,GAAmB9K,EAAK,CACtBxc,EAAGqlE,EACHz1D,EAAGw1D,EACHl/E,EAAGu8E,EACHviF,EAAGsiF,EACH5+C,OAAQ8wC,IAGVl4C,EAAI+H,KAAK8gD,EAAUD,EAAS3C,EAAUD,GAGxChmD,EAAIgI,OACc,IAAdxE,GACFxD,EAAIkI,SAIRlI,EAAI+F,SACN,CAuDE+iD,CAFcZ,EAAU1kE,EAAEA,GAEL4P,EAAGk4B,GAExB9nC,E1DxVgBulE,EAACrwD,EAAoCsK,EAAcF,EAAe2T,IAE/E/d,KADO+d,EAAM,OAAS,SACJ3T,EAAkB,WAAVpK,GAAsBsK,EAAOF,GAAS,EAAIE,E0DsVnE+lD,CAAOx+C,EAAW/mB,EAAIyiE,EAAWqC,EAAc14B,EAAepsC,EAAI0gB,EAAQ3pC,KAAKuoC,MAAOtpB,EAAKi9B,KAvDhF,SAASjzB,EAAG4P,EAAGk4B,GAC9BphB,GAAWlK,EAAKsrB,EAAWlnB,KAAM5gB,EAAG4P,EAAKgzD,EAAa,EAAIU,EAAW,CACnE19C,cAAekiB,EAAWtG,OAC1Bza,UAAW29C,EAAU39C,UAAU+gB,EAAW/gB,YAE9C,CAqDEM,CAASq9C,EAAU1kE,EAAEA,GAAI4P,EAAGk4B,GAExBsE,EACF24B,EAAO/kE,GAAK0gB,EAAQtB,OACf,GAA+B,kBAApB0oB,EAAWlnB,KAAmB,CAC9C,MAAMyjD,EAAiBf,EAAUjnD,WACjC0oD,EAAOn1D,GAAK00D,GAA0Bx8B,EAAYu8B,GAAkBjlD,OAEpE2lD,EAAOn1D,GAAKyM,KAIhB0X,GAAqBh9C,KAAKylC,IAAKxmB,EAAKgvE,cACtC,CAKA3f,SAAAA,GACE,MAAMrvD,EAAOjf,KAAKqG,QACZqjE,EAAYzqD,EAAK2qB,MACjB6kD,EAAYr9C,GAAOs4B,EAAUvkC,MAC7BupD,EAAev9C,GAAUu4B,EAAUrhC,SAEzC,IAAKqhC,EAAUhhC,QACb,OAGF,MAAMilD,EAAY1xC,GAAch9B,EAAKi9B,IAAKl8C,KAAKyoC,KAAMzoC,KAAK2pC,OACpDlE,EAAMzlC,KAAKylC,IACXhkC,EAAWioE,EAAUjoE,SACrBssF,EAAeU,EAAU7qF,KAAO,EAChC+qF,EAA6BD,EAAapmD,IAAMylD,EACtD,IAAIl1D,EAIA4P,EAAOzoC,KAAKyoC,KACZ4H,EAAWrwC,KAAK2pC,MAEpB,GAAI3pC,KAAKq1D,eAEPhlB,EAAWryC,KAAK2oB,OAAO3mB,KAAKqsF,YAC5BxzD,EAAI74B,KAAKsoC,IAAMqmD,EACflmD,EAAOrK,GAAenf,EAAKkf,MAAOsK,EAAMzoC,KAAKuoC,MAAQ8H,OAChD,CAEL,MAAMiK,EAAYt6C,KAAKosF,YAAYvrC,QAAO,CAACC,EAAKl9C,IAAS5F,KAAK2oB,IAAIm6B,EAAKl9C,EAAKuoC,SAAS,GACrFtT,EAAI81D,EAA6BvwD,GAAenf,EAAKkf,MAAOn+B,KAAKsoC,IAAKtoC,KAAKwoC,OAAS8R,EAAYr7B,EAAK0qC,OAAOthB,QAAUroC,KAAKwsF,uBAK7H,MAAMvjE,EAAImV,GAAe38B,EAAUgnC,EAAMA,EAAO4H,GAGhD5K,EAAIuK,UAAY29C,EAAU39C,UAAU9R,GAAmBz8B,IACvDgkC,EAAIwK,aAAe,SACnBxK,EAAI4J,YAAcq6B,EAAUh0C,MAC5B+P,EAAI6J,UAAYo6B,EAAUh0C,MAC1B+P,EAAIN,KAAOspD,EAAU1jD,OAErB4E,GAAWlK,EAAKikC,EAAU7/B,KAAM5gB,EAAG4P,EAAG41D,EACxC,CAKAjC,mBAAAA,GACE,MAAM9iB,EAAY1pE,KAAKqG,QAAQujC,MACzB6kD,EAAYr9C,GAAOs4B,EAAUvkC,MAC7BupD,EAAev9C,GAAUu4B,EAAUrhC,SACzC,OAAOqhC,EAAUhhC,QAAU+lD,EAAUnpD,WAAaopD,EAAaviD,OAAS,CAC1E,CAKAyiD,gBAAAA,CAAiB3lE,EAAG4P,GAClB,IAAI39B,EAAG2zF,EAAQC,EAEf,GAAInyD,GAAW1T,EAAGjpB,KAAKyoC,KAAMzoC,KAAKuoC,QAC7B5L,GAAW9D,EAAG74B,KAAKsoC,IAAKtoC,KAAKwoC,QAGhC,IADAsmD,EAAK9uF,KAAKgsF,eACL9wF,EAAI,EAAGA,EAAI4zF,EAAGzzF,SAAUH,EAG3B,GAFA2zF,EAASC,EAAG5zF,GAERyhC,GAAW1T,EAAG4lE,EAAOpmD,KAAMomD,EAAOpmD,KAAOomD,EAAOllD,QAC/ChN,GAAW9D,EAAGg2D,EAAOvmD,IAAKumD,EAAOvmD,IAAMumD,EAAO1iD,QAEjD,OAAOnsC,KAAKmsF,YAAYjxF,GAK9B,OAAO,IACT,CAMA6zF,WAAAA,CAAY5iF,GACV,MAAM8S,EAAOjf,KAAKqG,QAClB,IAoDJ,SAAoB9M,EAAM0lB,GACxB,IAAc,cAAT1lB,GAAiC,aAATA,KAAyB0lB,EAAKinB,SAAWjnB,EAAK+vE,SACzE,OAAO,EAET,GAAI/vE,EAAKknB,UAAqB,UAAT5sC,GAA6B,YAATA,GACvC,OAAO,EAET,OAAO,CACT,CA5DS01F,CAAW9iF,EAAE5S,KAAM0lB,GACtB,OAIF,MAAMiwE,EAAclvF,KAAK4uF,iBAAiBziF,EAAE8c,EAAG9c,EAAE0sB,GAEjD,GAAe,cAAX1sB,EAAE5S,MAAmC,aAAX4S,EAAE5S,KAAqB,CACnD,MAAM40C,EAAWnuC,KAAKisF,aAChBkD,GApfW9uF,EAofqB6uF,EApfT,QAAf9uF,EAofc+tC,IApfe,OAAN9tC,GAAcD,EAAE43B,eAAiB33B,EAAE23B,cAAgB53B,EAAEkH,QAAUjH,EAAEiH,OAqflG6mC,IAAaghD,GACfhpE,EAAKlH,EAAK+vE,QAAS,CAAC7iF,EAAGgiC,EAAUnuC,MAAOA,MAG1CA,KAAKisF,aAAeiD,EAEhBA,IAAgBC,GAClBhpE,EAAKlH,EAAKinB,QAAS,CAAC/5B,EAAG+iF,EAAalvF,MAAOA,KAE/C,MAAWkvF,GACT/oE,EAAKlH,EAAKknB,QAAS,CAACh6B,EAAG+iF,EAAalvF,MAAOA,MA/f9BovF,IAAChvF,EAAGC,CAigBrB,EAyBF,SAASktF,GAA0Bx8B,EAAYu8B,GAE7C,OAAOA,GADav8B,EAAWlnB,KAAOknB,EAAWlnB,KAAKxuC,OAAS,EAEjE,CAYA,IAAAg0F,GAAe,CACbpmF,GAAI,SAMJqmF,SAAUxD,GAEV1vD,KAAAA,CAAMiH,EAAOiiD,EAAOj/E,GAClB,MAAMsqD,EAASttB,EAAMstB,OAAS,IAAIm7B,GAAO,CAACrmD,IAAKpC,EAAMoC,IAAKp/B,UAASg9B,UACnEi4B,GAAQ7Y,UAAUpf,EAAOstB,EAAQtqD,GACjCi1D,GAAQkC,OAAOn6B,EAAOstB,EACxB,EAEA1P,IAAAA,CAAK5d,GACHi4B,GAAQqC,UAAUt6B,EAAOA,EAAMstB,eACxBttB,EAAMstB,MACf,EAKAqW,YAAAA,CAAa3jC,EAAOiiD,EAAOj/E,GACzB,MAAMsqD,EAASttB,EAAMstB,OACrB2K,GAAQ7Y,UAAUpf,EAAOstB,EAAQtqD,GACjCsqD,EAAOtqD,QAAUA,CACnB,EAIAkiE,WAAAA,CAAYllC,GACV,MAAMstB,EAASttB,EAAMstB,OACrBA,EAAO27B,cACP37B,EAAO+8B,gBACT,EAGA6B,UAAAA,CAAWlsD,EAAO7wB,GACXA,EAAKqqE,QACRx5C,EAAMstB,OAAOo+B,YAAYv8E,EAAKiB,MAElC,EAEA3I,SAAU,CACR49B,SAAS,EACTjnC,SAAU,MACV08B,MAAO,SACP29B,UAAU,EACVrkC,SAAS,EACT9B,OAAQ,IAGRwQ,OAAAA,CAAQh6B,EAAG4kD,EAAYJ,GACrB,MAAMrpD,EAAQypD,EAAW/4B,aACnBw3D,EAAK7+B,EAAOttB,MACdmsD,EAAGh+B,iBAAiBlqD,IACtBkoF,EAAGrnD,KAAK7gC,GACRypD,EAAWtG,QAAS,IAEpB+kC,EAAGxnD,KAAK1gC,GACRypD,EAAWtG,QAAS,EAExB,EAEAvkB,QAAS,KACT8oD,QAAS,KAETrlC,OAAQ,CACNj0B,MAAQ+P,GAAQA,EAAIpC,MAAMh9B,QAAQqvB,MAClCg2D,SAAU,GACVrjD,QAAS,GAYTuoB,cAAAA,CAAevtB,GACb,MAAMyB,EAAWzB,EAAM/kC,KAAKwmC,UACrB6kB,QAAQ,cAACgiC,EAAA,WAAeh/C,EAAU,UAAEqD,EAAA,MAAWta,EAAA,gBAAO+5D,EAAe,aAAE9R,IAAiBt6C,EAAMstB,OAAOtqD,QAE5G,OAAOg9B,EAAMogB,yBAAyB1oD,KAAKujC,IACzC,MAAM+G,EAAQ/G,EAAKxkB,WAAW6hC,SAASgwC,EAAgB,OAAIrwF,GACrDoyC,EAAcyD,GAAU9L,EAAMqI,aAEpC,MAAO,CACL7D,KAAM/E,EAASxG,EAAKh3B,OAAO2jD,MAC3B3b,UAAWjK,EAAMT,gBACjBisB,UAAWn7B,EACX+0B,QAASnsB,EAAK4J,QACdi4C,QAAS96C,EAAM6Z,eACfgvC,SAAU7oD,EAAM8Z,WAChB8uB,eAAgB5oC,EAAM+Z,iBACtB2gC,SAAU16C,EAAMga,gBAChBpW,WAAYyE,EAAY/D,MAAQ+D,EAAYvB,QAAU,EACtDkD,YAAahK,EAAMR,YACnB8H,WAAYA,GAActH,EAAMsH,WAChCC,SAAUvH,EAAMuH,SAChBoD,UAAWA,GAAa3K,EAAM2K,UAC9B2tC,aAAc8R,IAAoB9R,GAAgBt4C,EAAMs4C,cAGxD3lD,aAAcsG,EAAKh3B,MACpB,GACAtH,KACL,GAGF4pC,MAAO,CACLlU,MAAQ+P,GAAQA,EAAIpC,MAAMh9B,QAAQqvB,MAClCgT,SAAS,EACTjnC,SAAU,SACVooC,KAAM,KAIV/sC,YAAa,CACXuqC,YAAcnqC,IAAUA,EAAKoqC,WAAW,MACxCqiB,OAAQ,CACNtiB,YAAcnqC,IAAU,CAAC,iBAAkB,SAAU,QAAQ+mC,SAAS/mC,MCtsBrE,MAAMwyF,WAAc/sB,GAIzB1jE,WAAAA,CAAYyF,GACVusD,QAEAjxD,KAAKqjC,MAAQ3+B,EAAO2+B,MACpBrjC,KAAKqG,QAAU3B,EAAO2B,QACtBrG,KAAKylC,IAAM/gC,EAAO+gC,IAClBzlC,KAAK2vF,cAAWr0F,EAChB0E,KAAKsoC,SAAMhtC,EACX0E,KAAKwoC,YAASltC,EACd0E,KAAKyoC,UAAOntC,EACZ0E,KAAKuoC,WAAQjtC,EACb0E,KAAK2pC,WAAQruC,EACb0E,KAAKmsC,YAAS7wC,EACd0E,KAAKyB,cAAWnG,EAChB0E,KAAK21B,YAASr6B,EACd0E,KAAK87D,cAAWxgE,CAClB,CAEA4mD,MAAAA,CAAO7R,EAAUiK,GACf,MAAMr7B,EAAOjf,KAAKqG,QAKlB,GAHArG,KAAKyoC,KAAO,EACZzoC,KAAKsoC,IAAM,GAENrpB,EAAKypB,QAER,YADA1oC,KAAK2pC,MAAQ3pC,KAAKmsC,OAASnsC,KAAKuoC,MAAQvoC,KAAKwoC,OAAS,GAIxDxoC,KAAK2pC,MAAQ3pC,KAAKuoC,MAAQ8H,EAC1BrwC,KAAKmsC,OAASnsC,KAAKwoC,OAAS8R,EAE5B,MAAM8yB,EAAY3zE,EAAQwlB,EAAK4qB,MAAQ5qB,EAAK4qB,KAAKxuC,OAAS,EAC1D2E,KAAK2vF,SAAWx+C,GAAUlyB,EAAKopB,SAC/B,MAAMunD,EAAWxiB,EAAYh8B,GAAOnyB,EAAKkmB,MAAMG,WAAatlC,KAAK2vF,SAASxjD,OAEtEnsC,KAAKq1D,eACPr1D,KAAKmsC,OAASyjD,EAEd5vF,KAAK2pC,MAAQimD,CAEjB,CAEAv6B,YAAAA,GACE,MAAM/6C,EAAMta,KAAKqG,QAAQ5E,SACzB,MAAe,QAAR6Y,GAAyB,WAARA,CAC1B,CAEAu1E,SAAAA,CAAUlnD,GACR,MAAM,IAACL,EAAA,KAAKG,EAAA,OAAMD,EAAA,MAAQD,EAAA,QAAOliC,GAAWrG,KACtCm+B,EAAQ93B,EAAQ83B,MACtB,IACIkS,EAAUk+B,EAAQC,EADlB5hC,EAAW,EAmBf,OAhBI5sC,KAAKq1D,gBACPkZ,EAASnwC,GAAeD,EAAOsK,EAAMF,GACrCimC,EAASlmC,EAAMK,EACf0H,EAAW9H,EAAQE,IAEM,SAArBpiC,EAAQ5E,UACV8sE,EAAS9lC,EAAOE,EAChB6lC,EAASpwC,GAAeD,EAAOqK,EAAQF,GACvCsE,GAAiB,GAANpT,KAEX+0C,EAAShmC,EAAQI,EACjB6lC,EAASpwC,GAAeD,EAAOmK,EAAKE,GACpCoE,EAAgB,GAALpT,IAEb6W,EAAW7H,EAASF,GAEf,CAACimC,SAAQC,SAAQn+B,WAAUzD,WACpC,CAEAyT,IAAAA,GACE,MAAM5a,EAAMzlC,KAAKylC,IACXxmB,EAAOjf,KAAKqG,QAElB,IAAK4Y,EAAKypB,QACR,OAGF,MAAMonD,EAAW1+C,GAAOnyB,EAAKkmB,MAEvBwD,EADamnD,EAASxqD,WACA,EAAItlC,KAAK2vF,SAASrnD,KACxC,OAACimC,EAAA,OAAQC,EAAA,SAAQn+B,EAAA,SAAUzD,GAAY5sC,KAAK6vF,UAAUlnD,GAE5DgH,GAAWlK,EAAKxmB,EAAK4qB,KAAM,EAAG,EAAGimD,EAAU,CACzCp6D,MAAOzW,EAAKyW,MACZ2a,WACAzD,WACAoD,UAAW9R,GAAmBjf,EAAKkf,OACnC8R,aAAc,SACdF,YAAa,CAACw+B,EAAQC,IAE1B,EAeF,IAAAuhB,GAAe,CACb9mF,GAAI,QAMJqmF,SAAUI,GAEVtzD,KAAAA,CAAMiH,EAAOiiD,EAAOj/E,IArBtB,SAAqBg9B,EAAOqmC,GAC1B,MAAM9/B,EAAQ,IAAI8lD,GAAM,CACtBjqD,IAAKpC,EAAMoC,IACXp/B,QAASqjE,EACTrmC,UAGFi4B,GAAQ7Y,UAAUpf,EAAOuG,EAAO8/B,GAChCpO,GAAQkC,OAAOn6B,EAAOuG,GACtBvG,EAAM2sD,WAAapmD,CACrB,CAYIqmD,CAAY5sD,EAAOh9B,EACrB,EAEA46C,IAAAA,CAAK5d,GACH,MAAM2sD,EAAa3sD,EAAM2sD,WACzB10B,GAAQqC,UAAUt6B,EAAO2sD,UAClB3sD,EAAM2sD,UACf,EAEAhpB,YAAAA,CAAa3jC,EAAOiiD,EAAOj/E,GACzB,MAAMujC,EAAQvG,EAAM2sD,WACpB10B,GAAQ7Y,UAAUpf,EAAOuG,EAAOvjC,GAChCujC,EAAMvjC,QAAUA,CAClB,EAEAyE,SAAU,CACRqzB,MAAO,SACPuK,SAAS,EACTvD,KAAM,CACJxP,OAAQ,QAEVmmC,UAAU,EACVzzB,QAAS,GACT5mC,SAAU,MACVooC,KAAM,GACNlU,OAAQ,KAGV45C,cAAe,CACb75C,MAAO,SAGT54B,YAAa,CACXuqC,aAAa,EACbE,YAAY,IChKhB,MAAMxsC,GAAM,IAAIm1F,QAEhB,IAAAC,GAAe,CACblnF,GAAI,WAEJmzB,KAAAA,CAAMiH,EAAOiiD,EAAOj/E,GAClB,MAAMujC,EAAQ,IAAI8lD,GAAM,CACtBjqD,IAAKpC,EAAMoC,IACXp/B,UACAg9B,UAGFi4B,GAAQ7Y,UAAUpf,EAAOuG,EAAOvjC,GAChCi1D,GAAQkC,OAAOn6B,EAAOuG,GACtB7uC,GAAI4H,IAAI0gC,EAAOuG,EACjB,EAEAqX,IAAAA,CAAK5d,GACHi4B,GAAQqC,UAAUt6B,EAAOtoC,GAAIwT,IAAI80B,IACjCtoC,GAAI8T,OAAOw0B,EACb,EAEA2jC,YAAAA,CAAa3jC,EAAOiiD,EAAOj/E,GACzB,MAAMujC,EAAQ7uC,GAAIwT,IAAI80B,GACtBi4B,GAAQ7Y,UAAUpf,EAAOuG,EAAOvjC,GAChCujC,EAAMvjC,QAAUA,CAClB,EAEAyE,SAAU,CACRqzB,MAAO,SACPuK,SAAS,EACTvD,KAAM,CACJxP,OAAQ,UAEVmmC,UAAU,EACVzzB,QAAS,EACT5mC,SAAU,MACVooC,KAAM,GACNlU,OAAQ,MAGV45C,cAAe,CACb75C,MAAO,SAGT54B,YAAa,CACXuqC,aAAa,EACbE,YAAY,IClChB,MAAM6oD,GAAc,CAIlBC,OAAAA,CAAQzyD,GACN,IAAKA,EAAMviC,OACT,OAAO,EAGT,IAAIH,EAAGO,EACH60F,EAAO,IAAIzyD,IACXhF,EAAI,EACJ6F,EAAQ,EAEZ,IAAKxjC,EAAI,EAAGO,EAAMmiC,EAAMviC,OAAQH,EAAIO,IAAOP,EAAG,CAC5C,MAAMmM,EAAKu2B,EAAM1iC,GAAGw9C,QACpB,GAAIrxC,GAAMA,EAAGw7D,WAAY,CACvB,MAAMvoD,EAAMjT,EAAGu7D,kBACf0tB,EAAKt8C,IAAI15B,EAAI2O,GACb4P,GAAKve,EAAIue,IACP6F,EAEN,CAGA,GAAc,IAAVA,GAA6B,IAAd4xD,EAAK1sF,KACtB,OAAO,EAKT,MAAO,CACLqlB,EAHe,IAAIqnE,GAAMzvC,QAAO,CAACzgD,EAAGC,IAAMD,EAAIC,IAAKiwF,EAAK1sF,KAIxDi1B,EAAGA,EAAI6F,EAEX,EAKAs8B,OAAAA,CAAQp9B,EAAO2yD,GACb,IAAK3yD,EAAMviC,OACT,OAAO,EAGT,IAGIH,EAAGO,EAAK+0F,EAHRvnE,EAAIsnE,EAActnE,EAClB4P,EAAI03D,EAAc13D,EAClByhC,EAAc72D,OAAOm2B,kBAGzB,IAAK1+B,EAAI,EAAGO,EAAMmiC,EAAMviC,OAAQH,EAAIO,IAAOP,EAAG,CAC5C,MAAMmM,EAAKu2B,EAAM1iC,GAAGw9C,QACpB,GAAIrxC,GAAMA,EAAGw7D,WAAY,CACvB,MACMt7C,EAAIuU,GAAsBy0D,EADjBlpF,EAAGkzD,kBAGdhzC,EAAI+yC,IACNA,EAAc/yC,EACdipE,EAAiBnpF,GAGvB,CAEA,GAAImpF,EAAgB,CAClB,MAAMC,EAAKD,EAAe5tB,kBAC1B35C,EAAIwnE,EAAGxnE,EACP4P,EAAI43D,EAAG53D,EAGT,MAAO,CACL5P,IACA4P,IAEJ,GAIF,SAAS63D,GAAa/nC,EAAMgoC,GAU1B,OATIA,IACEl3F,EAAQk3F,GAEVj3F,MAAMd,UAAU6F,KAAKjG,MAAMmwD,EAAMgoC,GAEjChoC,EAAKlqD,KAAKkyF,IAIPhoC,CACT,CAQA,SAASioC,GAAc13F,GACrB,OAAoB,kBAARA,GAAoBA,aAAewI,SAAWxI,EAAI0I,QAAQ,OAAS,EACtE1I,EAAI+J,MAAM,MAEZ/J,CACT,CASA,SAAS23F,GAAkBxtD,EAAO9J,GAChC,MAAM,QAACmf,EAAO,aAAE1gB,EAAA,MAAc1wB,GAASiyB,EACjCzf,EAAaupB,EAAM2kB,eAAehwB,GAAcle,YAChD,MAACmxC,EAAA,MAAOlqD,GAAS+Y,EAAWkxC,iBAAiB1jD,GAEnD,MAAO,CACL+7B,QACA4nB,QACA98C,OAAQ2L,EAAWkwC,UAAU1iD,GAC7BqkD,IAAKtoB,EAAM/kC,KAAKwmC,SAAS9M,GAAc15B,KAAKgJ,GAC5CwpF,eAAgB/vF,EAChBkmD,QAASntC,EAAWotC,aACpBwE,UAAWpkD,EACX0wB,eACA0gB,UAEJ,CAKA,SAASq4C,GAAeC,EAAS3qF,GAC/B,MAAMo/B,EAAMurD,EAAQ3tD,MAAMoC,KACpB,KAACppB,EAAI,OAAE40E,EAAA,MAAQrnD,GAASonD,GACxB,SAACtF,EAAA,UAAUD,GAAaplF,EACxB6qF,EAAW9/C,GAAO/qC,EAAQ6qF,UAC1BzC,EAAYr9C,GAAO/qC,EAAQooF,WAC3B0C,EAAa//C,GAAO/qC,EAAQ8qF,YAC5BC,EAAiBxnD,EAAMvuC,OACvBg2F,EAAkBJ,EAAO51F,OACzBi2F,EAAoBj1E,EAAKhhB,OAEzBgtC,EAAU8I,GAAU9qC,EAAQgiC,SAClC,IAAI8D,EAAS9D,EAAQ8D,OACjBxC,EAAQ,EAGR4nD,EAAqBl1E,EAAKwkC,QAAO,CAACniB,EAAO8yD,IAAa9yD,EAAQ8yD,EAASC,OAAOp2F,OAASm2F,EAAS5hD,MAAMv0C,OAASm2F,EAASE,MAAMr2F,QAAQ,GAQ1I,GAPAk2F,GAAsBP,EAAQW,WAAWt2F,OAAS21F,EAAQY,UAAUv2F,OAEhE+1F,IACFjlD,GAAUilD,EAAiB3C,EAAUnpD,YACnC8rD,EAAiB,GAAK/qF,EAAQwrF,aAC/BxrF,EAAQyrF,mBAEPP,EAAoB,CAGtBplD,GAAUmlD,GADajrF,EAAQ0rF,cAAgB/zF,KAAK2oB,IAAI8kE,EAAWyF,EAAS5rD,YAAc4rD,EAAS5rD,aAEjGisD,EAAqBD,GAAqBJ,EAAS5rD,YACnDisD,EAAqB,GAAKlrF,EAAQ2rF,YAElCX,IACFllD,GAAU9lC,EAAQ4rF,gBACjBZ,EAAkBF,EAAW7rD,YAC5B+rD,EAAkB,GAAKhrF,EAAQ6rF,eAInC,IAAIC,EAAe,EACnB,MAAMC,EAAe,SAAShkF,GAC5Bu7B,EAAQ3rC,KAAK2oB,IAAIgjB,EAAOlE,EAAIwF,YAAY78B,GAAMu7B,MAAQwoD,EACxD,EA+BA,OA7BA1sD,EAAI4F,OAEJ5F,EAAIN,KAAOspD,EAAU1jD,OACrBxT,EAAKy5D,EAAQpnD,MAAOwoD,GAGpB3sD,EAAIN,KAAO+rD,EAASnmD,OACpBxT,EAAKy5D,EAAQW,WAAW3rF,OAAOgrF,EAAQY,WAAYQ,GAGnDD,EAAe9rF,EAAQ0rF,cAAiBrG,EAAW,EAAIrlF,EAAQ+1D,WAAc,EAC7E7kC,EAAKlb,GAAOm1E,IACVj6D,EAAKi6D,EAASC,OAAQW,GACtB76D,EAAKi6D,EAAS5hD,MAAOwiD,GACrB76D,EAAKi6D,EAASE,MAAOU,EAAA,IAIvBD,EAAe,EAGf1sD,EAAIN,KAAOgsD,EAAWpmD,OACtBxT,EAAKy5D,EAAQC,OAAQmB,GAErB3sD,EAAI+F,UAGJ7B,GAAStB,EAAQsB,MAEV,CAACA,QAAOwC,SACjB,CAyBA,SAASkmD,GAAgBhvD,EAAOh9B,EAASzC,EAAM0uF,GAC7C,MAAM,EAACrpE,EAAA,MAAG0gB,GAAS/lC,GACZ+lC,MAAO4oD,EAAYhnC,WAAW,KAAC9iB,EAAI,MAAEF,IAAUlF,EACtD,IAAImvD,EAAS,SAcb,MAZe,WAAXF,EACFE,EAASvpE,IAAMwf,EAAOF,GAAS,EAAI,OAAS,QACnCtf,GAAK0gB,EAAQ,EACtB6oD,EAAS,OACAvpE,GAAKspE,EAAa5oD,EAAQ,IACnC6oD,EAAS,SAtBb,SAA6BA,EAAQnvD,EAAOh9B,EAASzC,GACnD,MAAM,EAACqlB,EAAA,MAAG0gB,GAAS/lC,EACb6uF,EAAQpsF,EAAQqsF,UAAYrsF,EAAQssF,aAC1C,MAAe,SAAXH,GAAqBvpE,EAAI0gB,EAAQ8oD,EAAQpvD,EAAMsG,OAIpC,UAAX6oD,GAAsBvpE,EAAI0gB,EAAQ8oD,EAAQ,QAA9C,CAGF,CAeMG,CAAoBJ,EAAQnvD,EAAOh9B,EAASzC,KAC9C4uF,EAAS,UAGJA,CACT,CAKA,SAASK,GAAmBxvD,EAAOh9B,EAASzC,GAC1C,MAAM0uF,EAAS1uF,EAAK0uF,QAAUjsF,EAAQisF,QA/CxC,SAAyBjvD,EAAOz/B,GAC9B,MAAM,EAACi1B,EAAA,OAAGsT,GAAUvoC,EAEpB,OAAIi1B,EAAIsT,EAAS,EACR,MACEtT,EAAKwK,EAAM8I,OAASA,EAAS,EAC/B,SAEF,QACT,CAsCkD2mD,CAAgBzvD,EAAOz/B,GAEvE,MAAO,CACL4uF,OAAQ5uF,EAAK4uF,QAAUnsF,EAAQmsF,QAAUH,GAAgBhvD,EAAOh9B,EAASzC,EAAM0uF,GAC/EA,SAEJ,CA4BA,SAASS,GAAmB1sF,EAASzC,EAAMovF,EAAW3vD,GACpD,MAAM,UAACqvD,EAAS,aAAEC,EAAA,aAAcnmD,GAAgBnmC,GAC1C,OAACmsF,EAAA,OAAQF,GAAUU,EACnBC,EAAiBP,EAAYC,GAC7B,QAACniD,EAAO,SAAEG,EAAQ,WAAEF,EAAA,YAAYC,GAAeQ,GAAc1E,GAEnE,IAAIvjB,EAhCN,SAAgBrlB,EAAM4uF,GACpB,IAAI,EAACvpE,EAAA,MAAG0gB,GAAS/lC,EAMjB,MALe,UAAX4uF,EACFvpE,GAAK0gB,EACe,WAAX6oD,IACTvpE,GAAM0gB,EAAQ,GAET1gB,CACT,CAwBUiqE,CAAOtvF,EAAM4uF,GACrB,MAAM35D,EAvBR,SAAgBj1B,EAAM0uF,EAAQW,GAE5B,IAAI,EAACp6D,EAAA,OAAGsT,GAAUvoC,EAQlB,MAPe,QAAX0uF,EACFz5D,GAAKo6D,EAELp6D,GADoB,WAAXy5D,EACJnmD,EAAS8mD,EAER9mD,EAAS,EAEVtT,CACT,CAYYs6D,CAAOvvF,EAAM0uF,EAAQW,GAc/B,MAZe,WAAXX,EACa,SAAXE,EACFvpE,GAAKgqE,EACe,UAAXT,IACTvpE,GAAKgqE,GAEa,SAAXT,EACTvpE,GAAKjrB,KAAK2oB,IAAI6pB,EAASC,GAAciiD,EACjB,UAAXF,IACTvpE,GAAKjrB,KAAK2oB,IAAIgqB,EAAUD,GAAegiD,GAGlC,CACLzpE,EAAGyT,GAAYzT,EAAG,EAAGoa,EAAMsG,MAAQ/lC,EAAK+lC,OACxC9Q,EAAG6D,GAAY7D,EAAG,EAAGwK,EAAM8I,OAASvoC,EAAKuoC,QAE7C,CAEA,SAASinD,GAAYpC,EAAS7yD,EAAO93B,GACnC,MAAMgiC,EAAU8I,GAAU9qC,EAAQgiC,SAElC,MAAiB,WAAVlK,EACH6yD,EAAQ/nE,EAAI+nE,EAAQrnD,MAAQ,EAClB,UAAVxL,EACE6yD,EAAQ/nE,EAAI+nE,EAAQrnD,MAAQtB,EAAQE,MACpCyoD,EAAQ/nE,EAAIof,EAAQI,IAC5B,CAKA,SAAS4qD,GAAwBltE,GAC/B,OAAOuqE,GAAa,GAAIE,GAAczqE,GACxC,CAUA,SAASmtE,GAAkBp1F,EAAW/B,GACpC,MAAMyqC,EAAWzqC,GAAWA,EAAQ8qD,SAAW9qD,EAAQ8qD,QAAQ+pC,SAAW70F,EAAQ8qD,QAAQ+pC,QAAQ9yF,UAClG,OAAO0oC,EAAW1oC,EAAU0oC,SAASA,GAAY1oC,CACnD,CAEA,MAAMq1F,GAAmB,CAEvBC,YAAalwF,EACbsmC,KAAAA,CAAM6pD,GACJ,GAAIA,EAAap4F,OAAS,EAAG,CAC3B,MAAMk+B,EAAOk6D,EAAa,GACpB9pC,EAASpwB,EAAK8J,MAAM/kC,KAAKqrD,OACzB+pC,EAAa/pC,EAASA,EAAOtuD,OAAS,EAE5C,GAAI2E,MAAQA,KAAKqG,SAAiC,YAAtBrG,KAAKqG,QAAQy/B,KACvC,OAAOvM,EAAK0tB,QAAQgE,OAAS,GACxB,GAAI1xB,EAAK0xB,MACd,OAAO1xB,EAAK0xB,MACP,GAAIyoC,EAAa,GAAKn6D,EAAKmyB,UAAYgoC,EAC5C,OAAO/pC,EAAOpwB,EAAKmyB,WAIvB,MAAO,EACT,EACAioC,WAAYrwF,EAGZquF,WAAYruF,EAGZswF,YAAatwF,EACb2nD,KAAAA,CAAM4oC,GACJ,GAAI7zF,MAAQA,KAAKqG,SAAiC,YAAtBrG,KAAKqG,QAAQy/B,KACvC,OAAO+tD,EAAY5oC,MAAQ,KAAO4oC,EAAY/C,gBAAkB+C,EAAY/C,eAG9E,IAAI7lC,EAAQ4oC,EAAY5sC,QAAQgE,OAAS,GAErCA,IACFA,GAAS,MAEX,MAAMlqD,EAAQ8yF,EAAY/C,eAI1B,OAHK95D,EAAcj2B,KACjBkqD,GAASlqD,GAEJkqD,CACT,EACA6oC,UAAAA,CAAWD,GACT,MACMxtF,EADOwtF,EAAYxwD,MAAM2kB,eAAe6rC,EAAY77D,cACrCle,WAAW6hC,SAASk4C,EAAYnoC,WACrD,MAAO,CACL7mB,YAAax+B,EAAQw+B,YACrBD,gBAAiBv+B,EAAQu+B,gBACzB8I,YAAarnC,EAAQqnC,YACrByR,WAAY94C,EAAQ84C,WACpBC,iBAAkB/4C,EAAQ+4C,iBAC1Bu+B,aAAc,EAElB,EACAoW,cAAAA,GACE,OAAO/zF,KAAKqG,QAAQ2tF,SACtB,EACAC,eAAAA,CAAgBJ,GACd,MACMxtF,EADOwtF,EAAYxwD,MAAM2kB,eAAe6rC,EAAY77D,cACrCle,WAAW6hC,SAASk4C,EAAYnoC,WACrD,MAAO,CACL/e,WAAYtmC,EAAQsmC,WACpBC,SAAUvmC,EAAQumC,SAEtB,EACAsnD,WAAY5wF,EAGZsuF,UAAWtuF,EAGX6wF,aAAc7wF,EACd2tF,OAAQ3tF,EACR8wF,YAAa9wF,GAYf,SAAS+wF,GAA2Bn2F,EAAWhB,EAAMuoC,EAAKssC,GACxD,MAAMxyE,EAASrB,EAAUhB,GAAM/D,KAAKssC,EAAKssC,GAEzC,MAAsB,qBAAXxyE,EACFg0F,GAAiBr2F,GAAM/D,KAAKssC,EAAKssC,GAGnCxyE,CACT,CAEO,MAAM+0F,WAAgB3xB,GAK3B/c,mBAAO,KAAcwqC,GAAd,GAEPnxF,WAAAA,CAAYyF,GACVusD,QAEAjxD,KAAKu0F,QAAU,EACfv0F,KAAKsgD,QAAU,GACftgD,KAAKw0F,oBAAiBl5F,EACtB0E,KAAKy0F,WAAQn5F,EACb0E,KAAK00F,uBAAoBp5F,EACzB0E,KAAK20F,cAAgB,GACrB30F,KAAK+iD,iBAAcznD,EACnB0E,KAAKumD,cAAWjrD,EAChB0E,KAAKqjC,MAAQ3+B,EAAO2+B,MACpBrjC,KAAKqG,QAAU3B,EAAO2B,QACtBrG,KAAK40F,gBAAat5F,EAClB0E,KAAK4pC,WAAQtuC,EACb0E,KAAK2xF,gBAAar2F,EAClB0E,KAAKqc,UAAO/gB,EACZ0E,KAAK4xF,eAAYt2F,EACjB0E,KAAKixF,YAAS31F,EACd0E,KAAKwyF,YAASl3F,EACd0E,KAAKsyF,YAASh3F,EACd0E,KAAKipB,OAAI3tB,EACT0E,KAAK64B,OAAIv9B,EACT0E,KAAKmsC,YAAS7wC,EACd0E,KAAK2pC,WAAQruC,EACb0E,KAAK60F,YAASv5F,EACd0E,KAAK80F,YAASx5F,EAGd0E,KAAK+0F,iBAAcz5F,EACnB0E,KAAKg1F,sBAAmB15F,EACxB0E,KAAKi1F,qBAAkB35F,CACzB,CAEAqrD,UAAAA,CAAWtgD,GACTrG,KAAKqG,QAAUA,EACfrG,KAAK00F,uBAAoBp5F,EACzB0E,KAAKumD,cAAWjrD,CAClB,CAKA8wD,kBAAAA,GACE,MAAM3G,EAASzlD,KAAK00F,kBAEpB,GAAIjvC,EACF,OAAOA,EAGT,MAAMpiB,EAAQrjC,KAAKqjC,MACbh9B,EAAUrG,KAAKqG,QAAQutC,WAAW5zC,KAAKgsC,cACvC/sB,EAAO5Y,EAAQo9D,SAAWpgC,EAAMh9B,QAAQs+B,WAAat+B,EAAQ4hC,WAC7DA,EAAa,IAAIsa,GAAWviD,KAAKqjC,MAAOpkB,GAK9C,OAJIA,EAAKgzB,aACPjyC,KAAK00F,kBAAoB/7F,OAAOwzD,OAAOlkB,IAGlCA,CACT,CAKA+D,UAAAA,GACE,OAAOhsC,KAAKumD,WACZvmD,KAAKumD,UAtLqB5R,EAsLW30C,KAAKqjC,MAAM2I,aAtLdglD,EAsL4BhxF,KAtLnByzF,EAsLyBzzF,KAAK20F,cArLpEjjD,GAAciD,EAAQ,CAC3Bq8C,UACAyC,eACAl6F,KAAM,cAJV,IAA8Bo7C,EAAQq8C,EAASyC,CAuL7C,CAEAyB,QAAAA,CAAS/4F,EAASkK,GAChB,MAAM,UAACnI,GAAamI,EAEdmtF,EAAca,GAA2Bn2F,EAAW,cAAe8B,KAAM7D,GACzEytC,EAAQyqD,GAA2Bn2F,EAAW,QAAS8B,KAAM7D,GAC7Dw3F,EAAaU,GAA2Bn2F,EAAW,aAAc8B,KAAM7D,GAE7E,IAAIyzC,EAAQ,GAKZ,OAJAA,EAAQ8gD,GAAa9gD,EAAOghD,GAAc4C,IAC1C5jD,EAAQ8gD,GAAa9gD,EAAOghD,GAAchnD,IAC1CgG,EAAQ8gD,GAAa9gD,EAAOghD,GAAc+C,IAEnC/jD,CACT,CAEAulD,aAAAA,CAAc1B,EAAcptF,GAC1B,OAAOgtF,GACLgB,GAA2BhuF,EAAQnI,UAAW,aAAc8B,KAAMyzF,GAEtE,CAEA2B,OAAAA,CAAQ3B,EAAcptF,GACpB,MAAM,UAACnI,GAAamI,EACdgvF,EAAY,GAgBlB,OAdA99D,EAAKk8D,GAAet3F,IAClB,MAAMq1F,EAAW,CACfC,OAAQ,GACR7hD,MAAO,GACP8hD,MAAO,IAEH4D,EAAShC,GAAkBp1F,EAAW/B,GAC5Cu0F,GAAac,EAASC,OAAQb,GAAcyD,GAA2BiB,EAAQ,cAAet1F,KAAM7D,KACpGu0F,GAAac,EAAS5hD,MAAOykD,GAA2BiB,EAAQ,QAASt1F,KAAM7D,IAC/Eu0F,GAAac,EAASE,MAAOd,GAAcyD,GAA2BiB,EAAQ,aAAct1F,KAAM7D,KAElGk5F,EAAU52F,KAAK+yF,EAAA,IAGV6D,CACT,CAEAE,YAAAA,CAAa9B,EAAcptF,GACzB,OAAOgtF,GACLgB,GAA2BhuF,EAAQnI,UAAW,YAAa8B,KAAMyzF,GAErE,CAGA+B,SAAAA,CAAU/B,EAAcptF,GACtB,MAAM,UAACnI,GAAamI,EAEd8tF,EAAeE,GAA2Bn2F,EAAW,eAAgB8B,KAAMyzF,GAC3ExC,EAASoD,GAA2Bn2F,EAAW,SAAU8B,KAAMyzF,GAC/DW,EAAcC,GAA2Bn2F,EAAW,cAAe8B,KAAMyzF,GAE/E,IAAI7jD,EAAQ,GAKZ,OAJAA,EAAQ8gD,GAAa9gD,EAAOghD,GAAcuD,IAC1CvkD,EAAQ8gD,GAAa9gD,EAAOghD,GAAcK,IAC1CrhD,EAAQ8gD,GAAa9gD,EAAOghD,GAAcwD,IAEnCxkD,CACT,CAKA6lD,YAAAA,CAAapvF,GACX,MAAMyhC,EAAS9nC,KAAKsgD,QACdhiD,EAAO0B,KAAKqjC,MAAM/kC,KAClBy2F,EAAc,GACdC,EAAmB,GACnBC,EAAkB,GACxB,IACI/5F,EAAGO,EADHg4F,EAAe,GAGnB,IAAKv4F,EAAI,EAAGO,EAAMqsC,EAAOzsC,OAAQH,EAAIO,IAAOP,EAC1Cu4F,EAAah1F,KAAKoyF,GAAkB7wF,KAAKqjC,MAAOyE,EAAO5sC,KAyBzD,OArBImL,EAAQjF,SACVqyF,EAAeA,EAAaryF,QAAO,CAACs3C,EAASpxC,EAAOuzB,IAAUx0B,EAAQjF,OAAOs3C,EAASpxC,EAAOuzB,EAAOv8B,MAIlG+H,EAAQqvF,WACVjC,EAAeA,EAAajlC,MAAK,CAACpuD,EAAGC,IAAMgG,EAAQqvF,SAASt1F,EAAGC,EAAG/B,MAIpEi5B,EAAKk8D,GAAet3F,IAClB,MAAMm5F,EAAShC,GAAkBjtF,EAAQnI,UAAW/B,GACpD44F,EAAYt2F,KAAK41F,GAA2BiB,EAAQ,aAAct1F,KAAM7D,IACxE64F,EAAiBv2F,KAAK41F,GAA2BiB,EAAQ,kBAAmBt1F,KAAM7D,IAClF84F,EAAgBx2F,KAAK41F,GAA2BiB,EAAQ,iBAAkBt1F,KAAM7D,GAAA,IAGlF6D,KAAK+0F,YAAcA,EACnB/0F,KAAKg1F,iBAAmBA,EACxBh1F,KAAKi1F,gBAAkBA,EACvBj1F,KAAK40F,WAAanB,EACXA,CACT,CAEAvxC,MAAAA,CAAOtiB,EAASi9C,GACd,MAAMx2E,EAAUrG,KAAKqG,QAAQutC,WAAW5zC,KAAKgsC,cACvClE,EAAS9nC,KAAKsgD,QACpB,IAAIzY,EACA4rD,EAAe,GAEnB,GAAK3rD,EAAOzsC,OAML,CACL,MAAMoG,EAAW2uF,GAAY/pF,EAAQ5E,UAAUtI,KAAK6G,KAAM8nC,EAAQ9nC,KAAKw0F,gBACvEf,EAAezzF,KAAKy1F,aAAapvF,GAEjCrG,KAAK4pC,MAAQ5pC,KAAKk1F,SAASzB,EAAcptF,GACzCrG,KAAK2xF,WAAa3xF,KAAKm1F,cAAc1B,EAAcptF,GACnDrG,KAAKqc,KAAOrc,KAAKo1F,QAAQ3B,EAAcptF,GACvCrG,KAAK4xF,UAAY5xF,KAAKu1F,aAAa9B,EAAcptF,GACjDrG,KAAKixF,OAASjxF,KAAKw1F,UAAU/B,EAAcptF,GAE3C,MAAMzC,EAAO5D,KAAKy0F,MAAQ1D,GAAe/wF,KAAMqG,GACzCsvF,EAAkBh9F,OAAOqI,OAAO,CAAC,EAAGS,EAAUmC,GAC9CovF,EAAYH,GAAmB7yF,KAAKqjC,MAAOh9B,EAASsvF,GACpDC,EAAkB7C,GAAmB1sF,EAASsvF,EAAiB3C,EAAWhzF,KAAKqjC,OAErFrjC,KAAKwyF,OAASQ,EAAUR,OACxBxyF,KAAKsyF,OAASU,EAAUV,OAExBzqD,EAAa,CACX0sD,QAAS,EACTtrE,EAAG2sE,EAAgB3sE,EACnB4P,EAAG+8D,EAAgB/8D,EACnB8Q,MAAO/lC,EAAK+lC,MACZwC,OAAQvoC,EAAKuoC,OACb0oD,OAAQpzF,EAASwnB,EACjB6rE,OAAQrzF,EAASo3B,QA9BE,IAAjB74B,KAAKu0F,UACP1sD,EAAa,CACX0sD,QAAS,IAgCfv0F,KAAK20F,cAAgBlB,EACrBzzF,KAAKumD,cAAWjrD,EAEZusC,GACF7nC,KAAKosD,qBAAqBlK,OAAOliD,KAAM6nC,GAGrCjI,GAAWv5B,EAAQwvF,UACrBxvF,EAAQwvF,SAAS18F,KAAK6G,KAAM,CAACqjC,MAAOrjC,KAAKqjC,MAAO2tD,QAAShxF,KAAM68E,UAEnE,CAEAiZ,SAAAA,CAAUC,EAActwD,EAAK7hC,EAAMyC,GACjC,MAAM2vF,EAAgBh2F,KAAKi2F,iBAAiBF,EAAcnyF,EAAMyC,GAEhEo/B,EAAI6H,OAAO0oD,EAAc1pB,GAAI0pB,EAAczpB,IAC3C9mC,EAAI6H,OAAO0oD,EAAcxpB,GAAIwpB,EAAcvpB,IAC3ChnC,EAAI6H,OAAO0oD,EAAcE,GAAIF,EAAcG,GAC7C,CAEAF,gBAAAA,CAAiBF,EAAcnyF,EAAMyC,GACnC,MAAM,OAACmsF,EAAM,OAAEF,GAAUtyF,MACnB,UAAC0yF,EAAA,aAAWlmD,GAAgBnmC,GAC5B,QAACmqC,EAAO,SAAEG,EAAQ,WAAEF,EAAA,YAAYC,GAAeQ,GAAc1E,IAC5DvjB,EAAGmtE,EAAKv9D,EAAGw9D,GAAON,GACnB,MAACpsD,EAAA,OAAOwC,GAAUvoC,EACxB,IAAI0oE,EAAIE,EAAI0pB,EAAI3pB,EAAIE,EAAI0pB,EAgDxB,MA9Ce,WAAX7D,GACF7lB,EAAK4pB,EAAOlqD,EAAS,EAEN,SAAXqmD,GACFlmB,EAAK8pB,EACL5pB,EAAKF,EAAKomB,EAGVnmB,EAAKE,EAAKimB,EACVyD,EAAK1pB,EAAKimB,IAEVpmB,EAAK8pB,EAAMzsD,EACX6iC,EAAKF,EAAKomB,EAGVnmB,EAAKE,EAAKimB,EACVyD,EAAK1pB,EAAKimB,GAGZwD,EAAK5pB,IAGHE,EADa,SAAXgmB,EACG4D,EAAMp4F,KAAK2oB,IAAI6pB,EAASC,GAAeiiD,EACxB,UAAXF,EACJ4D,EAAMzsD,EAAQ3rC,KAAK2oB,IAAIgqB,EAAUD,GAAegiD,EAEhD1yF,KAAK60F,OAGG,QAAXvC,GACF/lB,EAAK8pB,EACL5pB,EAAKF,EAAKmmB,EAGVpmB,EAAKE,EAAKkmB,EACVwD,EAAK1pB,EAAKkmB,IAEVnmB,EAAK8pB,EAAMlqD,EACXsgC,EAAKF,EAAKmmB,EAGVpmB,EAAKE,EAAKkmB,EACVwD,EAAK1pB,EAAKkmB,GAEZyD,EAAK5pB,GAEA,CAACD,KAAIE,KAAI0pB,KAAI3pB,KAAIE,KAAI0pB,KAC9B,CAEA7nB,SAAAA,CAAUh3B,EAAI7R,EAAKp/B,GACjB,MAAMujC,EAAQ5pC,KAAK4pC,MACbvuC,EAASuuC,EAAMvuC,OACrB,IAAIozF,EAAWoD,EAAc32F,EAE7B,GAAIG,EAAQ,CACV,MAAMsyF,EAAY1xC,GAAc51C,EAAQ61C,IAAKl8C,KAAKipB,EAAGjpB,KAAK2pC,OAa1D,IAXA2N,EAAGruB,EAAImqE,GAAYpzF,KAAMqG,EAAQ8+D,WAAY9+D,GAE7Co/B,EAAIuK,UAAY29C,EAAU39C,UAAU3pC,EAAQ8+D,YAC5C1/B,EAAIwK,aAAe,SAEnBw+C,EAAYr9C,GAAO/qC,EAAQooF,WAC3BoD,EAAexrF,EAAQwrF,aAEvBpsD,EAAI6J,UAAYjpC,EAAQiwF,WACxB7wD,EAAIN,KAAOspD,EAAU1jD,OAEhB7vC,EAAI,EAAGA,EAAIG,IAAUH,EACxBuqC,EAAI6K,SAAS1G,EAAM1uC,GAAIyyF,EAAU1kE,EAAEquB,EAAGruB,GAAIquB,EAAGze,EAAI41D,EAAUnpD,WAAa,GACxEgS,EAAGze,GAAK41D,EAAUnpD,WAAausD,EAE3B32F,EAAI,IAAMG,IACZi8C,EAAGze,GAAKxyB,EAAQyrF,kBAAoBD,GAI5C,CAKA0E,aAAAA,CAAc9wD,EAAK6R,EAAIp8C,EAAGyyF,EAAWtnF,GACnC,MAAMytF,EAAa9zF,KAAK+0F,YAAY75F,GAC9B+4F,EAAkBj0F,KAAKg1F,iBAAiB95F,IACxC,UAACuwF,EAAA,SAAWC,GAAYrlF,EACxB6qF,EAAW9/C,GAAO/qC,EAAQ6qF,UAC1BsF,EAASpD,GAAYpzF,KAAM,OAAQqG,GACnCowF,EAAY9I,EAAU1kE,EAAEutE,GACxBE,EAAUjL,EAAYyF,EAAS5rD,YAAc4rD,EAAS5rD,WAAammD,GAAa,EAAI,EACpFkL,EAASr/C,EAAGze,EAAI69D,EAEtB,GAAIrwF,EAAQslF,cAAe,CACzB,MAAMwC,EAAc,CAClBthD,OAAQ7uC,KAAKqT,IAAIq6E,EAAUD,GAAa,EACxC9+C,WAAYsnD,EAAgBtnD,WAC5BC,SAAUqnD,EAAgBrnD,SAC1Bc,YAAa,GAIT6lB,EAAUo6B,EAAUrxC,WAAWm6C,EAAW/K,GAAYA,EAAW,EACjEl4B,EAAUmjC,EAASlL,EAAY,EAGrChmD,EAAI4J,YAAchpC,EAAQuwF,mBAC1BnxD,EAAI6J,UAAYjpC,EAAQuwF,mBACxBxqD,GAAU3G,EAAK0oD,EAAa56B,EAASC,GAGrC/tB,EAAI4J,YAAcykD,EAAWjvD,YAC7BY,EAAI6J,UAAYwkD,EAAWlvD,gBAC3BwH,GAAU3G,EAAK0oD,EAAa56B,EAASC,OAChC,CAEL/tB,EAAIwD,UAAYjvC,EAAS85F,EAAWpmD,aAAe1vC,KAAK2oB,OAAOhuB,OAAOsqC,OAAO6wD,EAAWpmD,cAAiBomD,EAAWpmD,aAAe,EACnIjI,EAAI4J,YAAcykD,EAAWjvD,YAC7BY,EAAIuoC,YAAY8lB,EAAW30C,YAAc,IACzC1Z,EAAIwoC,eAAiB6lB,EAAW10C,kBAAoB,EAGpD,MAAMy3C,EAASlJ,EAAUrxC,WAAWm6C,EAAW/K,GACzCoL,EAASnJ,EAAUrxC,WAAWqxC,EAAUtxC,MAAMo6C,EAAW,GAAI/K,EAAW,GACxE/N,EAAezsC,GAAc4iD,EAAWnW,cAE1ChlF,OAAOsqC,OAAO06C,GAAcx2E,MAAKsf,GAAW,IAANA,KACxCgf,EAAIwH,YACJxH,EAAI6J,UAAYjpC,EAAQuwF,mBACxBrmD,GAAmB9K,EAAK,CACtBxc,EAAG4tE,EACHh+D,EAAG89D,EACHxnF,EAAGu8E,EACHviF,EAAGsiF,EACH5+C,OAAQ8wC,IAEVl4C,EAAIgI,OACJhI,EAAIkI,SAGJlI,EAAI6J,UAAYwkD,EAAWlvD,gBAC3Ba,EAAIwH,YACJsD,GAAmB9K,EAAK,CACtBxc,EAAG6tE,EACHj+D,EAAG89D,EAAS,EACZxnF,EAAGu8E,EAAW,EACdviF,EAAGsiF,EAAY,EACf5+C,OAAQ8wC,IAEVl4C,EAAIgI,SAGJhI,EAAI6J,UAAYjpC,EAAQuwF,mBACxBnxD,EAAIiK,SAASmnD,EAAQF,EAAQjL,EAAUD,GACvChmD,EAAIsxD,WAAWF,EAAQF,EAAQjL,EAAUD,GAEzChmD,EAAI6J,UAAYwkD,EAAWlvD,gBAC3Ba,EAAIiK,SAASonD,EAAQH,EAAS,EAAGjL,EAAW,EAAGD,EAAY,IAK/DhmD,EAAI6J,UAAYtvC,KAAKi1F,gBAAgB/5F,EACvC,CAEA87F,QAAAA,CAAS1/C,EAAI7R,EAAKp/B,GAChB,MAAM,KAACgW,GAAQrc,MACT,YAACgyF,EAAA,UAAaiF,EAAA,cAAWlF,EAAA,UAAetG,EAAA,SAAWC,EAAA,WAAUtvB,GAAc/1D,EAC3E6qF,EAAW9/C,GAAO/qC,EAAQ6qF,UAChC,IAAIgG,EAAiBhG,EAAS5rD,WAC1B6xD,EAAe,EAEnB,MAAMxJ,EAAY1xC,GAAc51C,EAAQ61C,IAAKl8C,KAAKipB,EAAGjpB,KAAK2pC,OAEpDytD,EAAiB,SAAShpF,GAC9Bq3B,EAAI6K,SAASliC,EAAMu/E,EAAU1kE,EAAEquB,EAAGruB,EAAIkuE,GAAe7/C,EAAGze,EAAIq+D,EAAiB,GAC7E5/C,EAAGze,GAAKq+D,EAAiBlF,CAC3B,EAEMqF,EAA0B1J,EAAU39C,UAAUinD,GACpD,IAAIzF,EAAU8F,EAAW1nD,EAAO10C,EAAG64B,EAAG8D,EAAMyT,EAiB5C,IAfA7F,EAAIuK,UAAYinD,EAChBxxD,EAAIwK,aAAe,SACnBxK,EAAIN,KAAO+rD,EAASnmD,OAEpBuM,EAAGruB,EAAImqE,GAAYpzF,KAAMq3F,EAAyBhxF,GAGlDo/B,EAAI6J,UAAYjpC,EAAQ2tF,UACxBz8D,EAAKv3B,KAAK2xF,WAAYyF,GAEtBD,EAAepF,GAA6C,UAA5BsF,EACd,WAAdJ,EAA0BvL,EAAW,EAAItvB,EAAesvB,EAAW,EAAItvB,EACvE,EAGClhE,EAAI,EAAG28B,EAAOxb,EAAKhhB,OAAQH,EAAI28B,IAAQ38B,EAAG,CAc7C,IAbAs2F,EAAWn1E,EAAKnhB,GAChBo8F,EAAYt3F,KAAKi1F,gBAAgB/5F,GAEjCuqC,EAAI6J,UAAYgoD,EAChB//D,EAAKi6D,EAASC,OAAQ2F,GAEtBxnD,EAAQ4hD,EAAS5hD,MAEbmiD,GAAiBniD,EAAMv0C,SACzB2E,KAAKu2F,cAAc9wD,EAAK6R,EAAIp8C,EAAGyyF,EAAWtnF,GAC1C6wF,EAAiBl5F,KAAK2oB,IAAIuqE,EAAS5rD,WAAYmmD,IAG5C13D,EAAI,EAAGuX,EAAOsE,EAAMv0C,OAAQ04B,EAAIuX,IAAQvX,EAC3CqjE,EAAexnD,EAAM7b,IAErBmjE,EAAiBhG,EAAS5rD,WAG5B/N,EAAKi6D,EAASE,MAAO0F,EACvB,CAGAD,EAAe,EACfD,EAAiBhG,EAAS5rD,WAG1B/N,EAAKv3B,KAAK4xF,UAAWwF,GACrB9/C,EAAGze,GAAKm5D,CACV,CAEAuF,UAAAA,CAAWjgD,EAAI7R,EAAKp/B,GAClB,MAAM4qF,EAASjxF,KAAKixF,OACd51F,EAAS41F,EAAO51F,OACtB,IAAI81F,EAAYj2F,EAEhB,GAAIG,EAAQ,CACV,MAAMsyF,EAAY1xC,GAAc51C,EAAQ61C,IAAKl8C,KAAKipB,EAAGjpB,KAAK2pC,OAa1D,IAXA2N,EAAGruB,EAAImqE,GAAYpzF,KAAMqG,EAAQmxF,YAAanxF,GAC9CixC,EAAGze,GAAKxyB,EAAQ4rF,gBAEhBxsD,EAAIuK,UAAY29C,EAAU39C,UAAU3pC,EAAQmxF,aAC5C/xD,EAAIwK,aAAe,SAEnBkhD,EAAa//C,GAAO/qC,EAAQ8qF,YAE5B1rD,EAAI6J,UAAYjpC,EAAQoxF,YACxBhyD,EAAIN,KAAOgsD,EAAWpmD,OAEjB7vC,EAAI,EAAGA,EAAIG,IAAUH,EACxBuqC,EAAI6K,SAAS2gD,EAAO/1F,GAAIyyF,EAAU1kE,EAAEquB,EAAGruB,GAAIquB,EAAGze,EAAIs4D,EAAW7rD,WAAa,GAC1EgS,EAAGze,GAAKs4D,EAAW7rD,WAAaj/B,EAAQ6rF,cAG9C,CAEAtkB,cAAAA,CAAet2B,EAAI7R,EAAKiyD,EAAarxF,GACnC,MAAM,OAACmsF,EAAM,OAAEF,GAAUtyF,MACnB,EAACipB,EAAA,EAAG4P,GAAKye,GACT,MAAC3N,EAAA,OAAOwC,GAAUurD,GAClB,QAAClnD,EAAA,SAASG,EAAA,WAAUF,EAAA,YAAYC,GAAeQ,GAAc7qC,EAAQmmC,cAE3E/G,EAAI6J,UAAYjpC,EAAQu+B,gBACxBa,EAAI4J,YAAchpC,EAAQw+B,YAC1BY,EAAIwD,UAAY5iC,EAAQqnC,YAExBjI,EAAIwH,YACJxH,EAAI4H,OAAOpkB,EAAIunB,EAAS3X,GACT,QAAXy5D,GACFtyF,KAAK81F,UAAUx+C,EAAI7R,EAAKiyD,EAAarxF,GAEvCo/B,EAAI6H,OAAOrkB,EAAI0gB,EAAQgH,EAAU9X,GACjC4M,EAAIkyD,iBAAiB1uE,EAAI0gB,EAAO9Q,EAAG5P,EAAI0gB,EAAO9Q,EAAI8X,GACnC,WAAX2hD,GAAkC,UAAXE,GACzBxyF,KAAK81F,UAAUx+C,EAAI7R,EAAKiyD,EAAarxF,GAEvCo/B,EAAI6H,OAAOrkB,EAAI0gB,EAAO9Q,EAAIsT,EAASuE,GACnCjL,EAAIkyD,iBAAiB1uE,EAAI0gB,EAAO9Q,EAAIsT,EAAQljB,EAAI0gB,EAAQ+G,EAAa7X,EAAIsT,GAC1D,WAAXmmD,GACFtyF,KAAK81F,UAAUx+C,EAAI7R,EAAKiyD,EAAarxF,GAEvCo/B,EAAI6H,OAAOrkB,EAAIwnB,EAAY5X,EAAIsT,GAC/B1G,EAAIkyD,iBAAiB1uE,EAAG4P,EAAIsT,EAAQljB,EAAG4P,EAAIsT,EAASsE,GACrC,WAAX6hD,GAAkC,SAAXE,GACzBxyF,KAAK81F,UAAUx+C,EAAI7R,EAAKiyD,EAAarxF,GAEvCo/B,EAAI6H,OAAOrkB,EAAG4P,EAAI2X,GAClB/K,EAAIkyD,iBAAiB1uE,EAAG4P,EAAG5P,EAAIunB,EAAS3X,GACxC4M,EAAI2H,YAEJ3H,EAAIgI,OAEApnC,EAAQqnC,YAAc,GACxBjI,EAAIkI,QAER,CAMAiqD,sBAAAA,CAAuBvxF,GACrB,MAAMg9B,EAAQrjC,KAAKqjC,MACbuc,EAAQ5/C,KAAK+iD,YACb80C,EAAQj4C,GAASA,EAAM32B,EACvB6uE,EAAQl4C,GAASA,EAAM/mB,EAC7B,GAAIg/D,GAASC,EAAO,CAClB,MAAMr2F,EAAW2uF,GAAY/pF,EAAQ5E,UAAUtI,KAAK6G,KAAMA,KAAKsgD,QAAStgD,KAAKw0F,gBAC7E,IAAK/yF,EACH,OAEF,MAAMmC,EAAO5D,KAAKy0F,MAAQ1D,GAAe/wF,KAAMqG,GACzCsvF,EAAkBh9F,OAAOqI,OAAO,CAAC,EAAGS,EAAUzB,KAAKy0F,OACnDzB,EAAYH,GAAmBxvD,EAAOh9B,EAASsvF,GAC/C9nD,EAAQklD,GAAmB1sF,EAASsvF,EAAiB3C,EAAW3vD,GAClEw0D,EAAM71C,MAAQnU,EAAM5kB,GAAK6uE,EAAM91C,MAAQnU,EAAMhV,IAC/C74B,KAAKwyF,OAASQ,EAAUR,OACxBxyF,KAAKsyF,OAASU,EAAUV,OACxBtyF,KAAK2pC,MAAQ/lC,EAAK+lC,MAClB3pC,KAAKmsC,OAASvoC,EAAKuoC,OACnBnsC,KAAK60F,OAASpzF,EAASwnB,EACvBjpB,KAAK80F,OAASrzF,EAASo3B,EACvB74B,KAAKosD,qBAAqBlK,OAAOliD,KAAM6tC,IAG7C,CAMAkqD,WAAAA,GACE,QAAS/3F,KAAKu0F,OAChB,CAEAl0C,IAAAA,CAAK5a,GACH,MAAMp/B,EAAUrG,KAAKqG,QAAQutC,WAAW5zC,KAAKgsC,cAC7C,IAAIuoD,EAAUv0F,KAAKu0F,QAEnB,IAAKA,EACH,OAGFv0F,KAAK43F,uBAAuBvxF,GAE5B,MAAMqxF,EAAc,CAClB/tD,MAAO3pC,KAAK2pC,MACZwC,OAAQnsC,KAAKmsC,QAETmL,EAAK,CACTruB,EAAGjpB,KAAKipB,EACR4P,EAAG74B,KAAK64B,GAIV07D,EAAUv2F,KAAKq8B,IAAIk6D,GAAW,KAAO,EAAIA,EAEzC,MAAMlsD,EAAU8I,GAAU9qC,EAAQgiC,SAG5B2vD,EAAoBh4F,KAAK4pC,MAAMvuC,QAAU2E,KAAK2xF,WAAWt2F,QAAU2E,KAAKqc,KAAKhhB,QAAU2E,KAAK4xF,UAAUv2F,QAAU2E,KAAKixF,OAAO51F,OAE9HgL,EAAQo9D,SAAWu0B,IACrBvyD,EAAI4F,OACJ5F,EAAIwyD,YAAc1D,EAGlBv0F,KAAK4tE,eAAet2B,EAAI7R,EAAKiyD,EAAarxF,GAE1Cq2C,GAAsBjX,EAAKp/B,EAAQ4nF,eAEnC32C,EAAGze,GAAKwP,EAAQC,IAGhBtoC,KAAKsuE,UAAUh3B,EAAI7R,EAAKp/B,GAGxBrG,KAAKg3F,SAAS1/C,EAAI7R,EAAKp/B,GAGvBrG,KAAKu3F,WAAWjgD,EAAI7R,EAAKp/B,GAEzB22C,GAAqBvX,EAAKp/B,EAAQ4nF,eAElCxoD,EAAI+F,UAER,CAMA+wC,iBAAAA,GACE,OAAOv8E,KAAKsgD,SAAW,EACzB,CAOAk8B,iBAAAA,CAAkBC,EAAgB8T,GAChC,MAAM7T,EAAa18E,KAAKsgD,QAClBxY,EAAS20C,EAAe1hF,KAAIm9F,IAA2B,IAA1B,aAAClgE,EAAY,MAAE1wB,GAAM4wF,EACtD,MAAM55D,EAAOt+B,KAAKqjC,MAAM2kB,eAAehwB,GAEvC,IAAKsG,EACH,MAAM,IAAI17B,MAAM,kCAAoCo1B,GAGtD,MAAO,CACLA,eACA0gB,QAASpa,EAAKhgC,KAAKgJ,GACnBA,QACD,IAEGs4B,GAAWlI,EAAeglD,EAAY50C,GACtCqwD,EAAkBn4F,KAAKo4F,iBAAiBtwD,EAAQyoD,IAElD3wD,GAAWu4D,KACbn4F,KAAKsgD,QAAUxY,EACf9nC,KAAKw0F,eAAiBjE,EACtBvwF,KAAKq4F,qBAAsB,EAC3Br4F,KAAKkiD,QAAO,GAEhB,CASA6sC,WAAAA,CAAY5iF,EAAG0wE,GAA4B,IAApBI,IAAAxkF,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,KAAAA,UAAA,GACrB,GAAIokF,GAAU78E,KAAKq4F,oBACjB,OAAO,EAETr4F,KAAKq4F,qBAAsB,EAE3B,MAAMhyF,EAAUrG,KAAKqG,QACfq2E,EAAa18E,KAAKsgD,SAAW,GAC7BxY,EAAS9nC,KAAKo9E,mBAAmBjxE,EAAGuwE,EAAYG,EAAQI,GAKxDkb,EAAkBn4F,KAAKo4F,iBAAiBtwD,EAAQ37B,GAGhDyzB,EAAUi9C,IAAWnlD,EAAeoQ,EAAQ40C,IAAeyb,EAgBjE,OAbIv4D,IACF5/B,KAAKsgD,QAAUxY,GAEXzhC,EAAQo9D,SAAWp9D,EAAQwvF,YAC7B71F,KAAKw0F,eAAiB,CACpBvrE,EAAG9c,EAAE8c,EACL4P,EAAG1sB,EAAE0sB,GAGP74B,KAAKkiD,QAAO,EAAM26B,KAIfj9C,CACT,CAWAw9C,kBAAAA,CAAmBjxE,EAAGuwE,EAAYG,EAAQI,GACxC,MAAM52E,EAAUrG,KAAKqG,QAErB,GAAe,aAAX8F,EAAE5S,KACJ,MAAO,GAGT,IAAK0jF,EAGH,OAAOP,EAAWt7E,QAAOlG,GACvB8E,KAAKqjC,MAAM/kC,KAAKwmC,SAAS5pC,EAAE88B,oBACiD18B,IAA5E0E,KAAKqjC,MAAM2kB,eAAe9sD,EAAE88B,cAAcle,WAAWkwC,UAAU9uD,EAAEoM,SAKrE,MAAMwgC,EAAS9nC,KAAKqjC,MAAMq4C,0BAA0BvvE,EAAG9F,EAAQy/B,KAAMz/B,EAASw2E,GAM9E,OAJIx2E,EAAQoxB,SACVqQ,EAAOrQ,UAGFqQ,CACT,CASAswD,gBAAAA,CAAiBtwD,EAAQ37B,GACvB,MAAM,OAAC0oF,EAAA,OAAQC,EAAA,QAAQzuF,GAAWrG,KAC5ByB,EAAW2uF,GAAY/pF,EAAQ5E,UAAUtI,KAAK6G,KAAM8nC,EAAQ37B,GAClE,OAAoB,IAAb1K,IAAuBozF,IAAWpzF,EAASwnB,GAAK6rE,IAAWrzF,EAASo3B,EAC7E,EAGF,IAAAy/D,GAAe,CACbrvF,GAAI,UACJqmF,SAAUgF,GACVlE,eAEAmI,SAAAA,CAAUl1D,EAAOiiD,EAAOj/E,GAClBA,IACFg9B,EAAM2tD,QAAU,IAAIsD,GAAQ,CAACjxD,QAAOh9B,YAExC,EAEA2gE,YAAAA,CAAa3jC,EAAOiiD,EAAOj/E,GACrBg9B,EAAM2tD,SACR3tD,EAAM2tD,QAAQrqC,WAAWtgD,EAE7B,EAEA8hD,KAAAA,CAAM9kB,EAAOiiD,EAAOj/E,GACdg9B,EAAM2tD,SACR3tD,EAAM2tD,QAAQrqC,WAAWtgD,EAE7B,EAEAmyF,SAAAA,CAAUn1D,GACR,MAAM2tD,EAAU3tD,EAAM2tD,QAEtB,GAAIA,GAAWA,EAAQ+G,cAAe,CACpC,MAAMvlF,EAAO,CACXw+E,WAGF,IAA8E,IAA1E3tD,EAAMulC,cAAc,oBAAqB,IAAIp2D,EAAMogE,YAAY,IACjE,OAGFoe,EAAQ3wC,KAAKhd,EAAMoC,KAEnBpC,EAAMulC,cAAc,mBAAoBp2D,GAE5C,EAEA+8E,UAAAA,CAAWlsD,EAAO7wB,GAChB,GAAI6wB,EAAM2tD,QAAS,CAEjB,MAAMp3B,EAAmBpnD,EAAKqqE,OAC1Bx5C,EAAM2tD,QAAQjC,YAAYv8E,EAAKiB,MAAOmmD,EAAkBpnD,EAAKyqE,eAE/DzqE,EAAKotB,SAAU,GAGrB,EAEA90B,SAAU,CACR24D,SAAS,EACToyB,SAAU,KACVp0F,SAAU,UACVmjC,gBAAiB,kBACjB0xD,WAAY,OACZ7H,UAAW,CACT94D,OAAQ,QAEVk8D,aAAc,EACdC,kBAAmB,EACnB3sB,WAAY,OACZ6uB,UAAW,OACXhC,YAAa,EACbd,SAAU,CAAC,EAEX+F,UAAW,OACXQ,YAAa,OACbvF,cAAe,EACfD,gBAAiB,EACjBd,WAAY,CACVx7D,OAAQ,QAEV6hE,YAAa,OACbnvD,QAAS,EACTsqD,aAAc,EACdD,UAAW,EACXlmD,aAAc,EACdi/C,UAAWA,CAAChmD,EAAKxmB,IAASA,EAAKiyE,SAASttF,KACxC8nF,SAAUA,CAACjmD,EAAKxmB,IAASA,EAAKiyE,SAASttF,KACvCgzF,mBAAoB,OACpB7E,eAAe,EACf31B,WAAY,EACZv3B,YAAa,gBACb6I,YAAa,EACb/I,UAAW,CACT+C,SAAU,IACVC,OAAQ,gBAEVM,WAAY,CACV7F,QAAS,CACP7oC,KAAM,SACNsuC,WAAY,CAAC,IAAK,IAAK,QAAS,SAAU,SAAU,WAEtD0sD,QAAS,CACP5sD,OAAQ,SACRD,SAAU,MAGdxpC,UAAWq1F,IAGbhkB,cAAe,CACb2hB,SAAU,OACVC,WAAY,OACZ1C,UAAW,QAGb3xF,YAAa,CACXuqC,YAAcnqC,GAAkB,WAATA,GAA8B,aAATA,GAAgC,aAATA,EACnEqqC,YAAY,EACZrpC,UAAW,CACTmpC,aAAa,EACbE,YAAY,GAEd5C,UAAW,CACT6C,WAAW,GAEbS,WAAY,CACVT,UAAW,cAKfiuC,uBAAwB,CAAC,+HCvzC3B,SAASgjB,GAAe9uC,EAAQgC,EAAKrkD,EAAOoxF,GAC1C,MAAMjpF,EAAQk6C,EAAO/nD,QAAQ+pD,GAC7B,IAAe,IAAXl8C,EACF,MAbgBkpF,EAAChvC,EAAQgC,EAAKrkD,EAAOoxF,KACpB,kBAAR/sC,GACTrkD,EAAQqiD,EAAOlrD,KAAKktD,GAAO,EAC3B+sC,EAAYh4E,QAAQ,CAACpZ,QAAO2jD,MAAOU,KAC1BhxB,MAAMgxB,KACfrkD,EAAQ,MAEHA,GAMEqxF,CAAYhvC,EAAQgC,EAAKrkD,EAAOoxF,GAGzC,OAAOjpF,IADMk6C,EAAOivC,YAAYjtC,GACRrkD,EAAQmI,CAClC,CAIA,SAASopF,GAAkB93F,GACzB,MAAM4oD,EAAS3pD,KAAK4pD,YAEpB,OAAI7oD,GAAS,GAAKA,EAAQ4oD,EAAOtuD,OACxBsuD,EAAO5oD,GAETA,CACT,CAEe,MAAM+3F,WAAsBzzB,GAEzCzf,UAAY,WAKZA,gBAAkB,OAChBxiB,MAAO,CACLjd,SAAU0yE,MAFI,GAMlB55F,WAAAA,CAAYsiD,GACV0P,MAAM1P,GAGNvhD,KAAK+4F,iBAAcz9F,EACnB0E,KAAKg5F,YAAc,EACnBh5F,KAAKi5F,aAAe,EACtB,CAEAngC,IAAAA,CAAK+a,GACH,MAAMqlB,EAAQl5F,KAAKi5F,aACnB,GAAIC,EAAM79F,OAAQ,CAChB,MAAMsuD,EAAS3pD,KAAK4pD,YACpB,IAAK,MAAM,MAACtiD,EAAA,MAAO2jD,KAAUiuC,EACvBvvC,EAAOriD,KAAW2jD,GACpBtB,EAAOloC,OAAOna,EAAO,GAGzBtH,KAAKi5F,aAAe,GAEtBhoC,MAAM6H,KAAK+a,EACb,CAEA3nE,KAAAA,CAAMy/C,EAAKrkD,GACT,GAAI0vB,EAAc20B,GAChB,OAAO,KAET,MAAMhC,EAAS3pD,KAAK4pD,YAGpB,MAtDemb,EAACz9D,EAAOqf,IAAkB,OAAVrf,EAAiB,KAAOo1B,GAAY1+B,KAAKiU,MAAM3K,GAAQ,EAAGqf,GAsDlFo+C,CAFPz9D,EAAQ5D,SAAS4D,IAAUqiD,EAAOriD,KAAWqkD,EAAMrkD,EAC/CmxF,GAAe9uC,EAAQgC,EAAKx0B,EAAe7vB,EAAOqkD,GAAM3rD,KAAKi5F,cACxCtvC,EAAOtuD,OAAS,EAC3C,CAEAisE,mBAAAA,GACE,MAAM,WAACvoC,EAAA,WAAYC,GAAch/B,KAAKi/B,gBACtC,IAAI,IAAC5tB,EAAG,IAAEsV,GAAO3mB,KAAKqqD,WAAU,GAEJ,UAAxBrqD,KAAKqG,QAAQwiC,SACV9J,IACH1tB,EAAM,GAEH2tB,IACHrY,EAAM3mB,KAAK4pD,YAAYvuD,OAAS,IAIpC2E,KAAKqR,IAAMA,EACXrR,KAAK2mB,IAAMA,CACb,CAEAihD,UAAAA,GACE,MAAMv2D,EAAMrR,KAAKqR,IACXsV,EAAM3mB,KAAK2mB,IACXgiB,EAAS3oC,KAAKqG,QAAQsiC,OACtBvF,EAAQ,GACd,IAAIumB,EAAS3pD,KAAK4pD,YAGlBD,EAAkB,IAATt4C,GAAcsV,IAAQgjC,EAAOtuD,OAAS,EAAKsuD,EAASA,EAAOvwD,MAAMiY,EAAKsV,EAAM,GAErF3mB,KAAKg5F,YAAch7F,KAAK2oB,IAAIgjC,EAAOtuD,QAAUstC,EAAS,EAAI,GAAI,GAC9D3oC,KAAK+4F,YAAc/4F,KAAKqR,KAAOs3B,EAAS,GAAM,GAE9C,IAAK,IAAI5nC,EAAQsQ,EAAKtQ,GAAS4lB,EAAK5lB,IAClCqiC,EAAM3kC,KAAK,CAACsC,UAEd,OAAOqiC,CACT,CAEA8nB,gBAAAA,CAAiBnqD,GACf,OAAO83F,GAAkB1/F,KAAK6G,KAAMe,EACtC,CAKA0hD,SAAAA,GACEwO,MAAMxO,YAEDziD,KAAKq1D,iBAERr1D,KAAKs5D,gBAAkBt5D,KAAKs5D,eAEhC,CAGAp6B,gBAAAA,CAAiBn+B,GAKf,MAJqB,kBAAVA,IACTA,EAAQf,KAAKkM,MAAMnL,IAGJ,OAAVA,EAAiBqpD,IAAMpqD,KAAK+2D,oBAAoBh2D,EAAQf,KAAK+4F,aAAe/4F,KAAKg5F,YAC1F,CAIAnqC,eAAAA,CAAgBvnD,GACd,MAAM87B,EAAQpjC,KAAKojC,MACnB,OAAI97B,EAAQ,GAAKA,EAAQ87B,EAAM/nC,OAAS,EAC/B,KAEF2E,KAAKk/B,iBAAiBkE,EAAM97B,GAAOvG,MAC5C,CAEAk2D,gBAAAA,CAAiBtrB,GACf,OAAO3tC,KAAKiU,MAAMjS,KAAK+4F,YAAc/4F,KAAKqrE,mBAAmB1/B,GAAS3rC,KAAKg5F,YAC7E,CAEA5jC,YAAAA,GACE,OAAOp1D,KAAKwoC,MACd,ECpIF,SAAS2wD,GAAcC,EAAmBC,GACxC,MAAMj2D,EAAQ,IAMR,OAACyF,EAAM,KAAE+jC,EAAA,IAAMv7D,EAAA,IAAKsV,EAAG,UAAE2yE,EAAA,MAAW56D,EAAA,SAAO66D,EAAQ,UAAEC,EAAA,cAAWC,GAAiBL,EACjFM,EAAO9sB,GAAQ,EACf+sB,EAAYJ,EAAW,GACtBloF,IAAKuoF,EAAMjzE,IAAKkzE,GAAQR,EACzBt6D,GAAc/H,EAAc3lB,GAC5B2tB,GAAchI,EAAcrQ,GAC5BmzE,GAAgB9iE,EAAc0H,GAC9Bq7D,GAAcF,EAAOD,IAASJ,EAAY,GAChD,IACIp4C,EAAQ44C,EAASC,EAASC,EAD1BxpC,EAAUp2B,IAASu/D,EAAOD,GAAQD,EAAYD,GAAQA,EAK1D,GAAIhpC,EAdgB,QAcU3xB,IAAeC,EAC3C,MAAO,CAAC,CAACj+B,MAAO64F,GAAO,CAAC74F,MAAO84F,IAGjCK,EAAYl8F,KAAK6lE,KAAKg2B,EAAOnpC,GAAW1yD,KAAKmT,MAAMyoF,EAAOlpC,GACtDwpC,EAAYP,IAEdjpC,EAAUp2B,GAAQ4/D,EAAYxpC,EAAUipC,EAAYD,GAAQA,GAGzD1iE,EAAcsiE,KAEjBl4C,EAASpjD,KAAKu2B,IAAI,GAAI+kE,GACtB5oC,EAAU1yD,KAAK6lE,KAAKnT,EAAUtP,GAAUA,GAG3B,UAAXvY,GACFmxD,EAAUh8F,KAAKmT,MAAMyoF,EAAOlpC,GAAWA,EACvCupC,EAAUj8F,KAAK6lE,KAAKg2B,EAAOnpC,GAAWA,IAEtCspC,EAAUJ,EACVK,EAAUJ,GAGR96D,GAAcC,GAAc4tC,GjEL3B,SAAqB3jD,EAAWmR,GACrC,MAAM+/D,EAAUn8F,KAAKiU,MAAMgX,GAC3B,OAAOkxE,EAAY//D,GAAYnR,GAAQkxE,EAAU//D,GAAYnR,CAC/D,CiEE0CmxE,EAAazzE,EAAMtV,GAAOu7D,EAAMlc,EAAU,MAKhFwpC,EAAYl8F,KAAKiU,MAAMjU,KAAKqT,KAAKsV,EAAMtV,GAAOq/C,EAAS6oC,IACvD7oC,GAAW/pC,EAAMtV,GAAO6oF,EACxBF,EAAU3oF,EACV4oF,EAAUtzE,GACDmzE,GAITE,EAAUj7D,EAAa1tB,EAAM2oF,EAC7BC,EAAUj7D,EAAarY,EAAMszE,EAC7BC,EAAYx7D,EAAQ,EACpBgyB,GAAWupC,EAAUD,GAAWE,IAGhCA,GAAaD,EAAUD,GAAWtpC,EAIhCwpC,EADE//D,GAAa+/D,EAAWl8F,KAAKiU,MAAMioF,GAAYxpC,EAAU,KAC/C1yD,KAAKiU,MAAMioF,GAEXl8F,KAAK6lE,KAAKq2B,IAM1B,MAAMG,EAAgBr8F,KAAK2oB,IACzBwU,GAAeu1B,GACfv1B,GAAe6+D,IAEjB54C,EAASpjD,KAAKu2B,IAAI,GAAIyC,EAAcsiE,GAAae,EAAgBf,GACjEU,EAAUh8F,KAAKiU,MAAM+nF,EAAU54C,GAAUA,EACzC64C,EAAUj8F,KAAKiU,MAAMgoF,EAAU74C,GAAUA,EAEzC,IAAIrtB,EAAI,EAiBR,IAhBIgL,IACE06D,GAAiBO,IAAY3oF,GAC/B+xB,EAAM3kC,KAAK,CAACsC,MAAOsQ,IAEf2oF,EAAU3oF,GACZ0iB,IAGEoG,GAAan8B,KAAKiU,OAAO+nF,EAAUjmE,EAAI28B,GAAWtP,GAAUA,EAAQ/vC,EAAKipF,GAAkBjpF,EAAK0oF,EAAYX,KAC9GrlE,KAEOimE,EAAU3oF,GACnB0iB,KAIGA,EAAImmE,IAAanmE,EAAG,CACzB,MAAMoP,EAAYnlC,KAAKiU,OAAO+nF,EAAUjmE,EAAI28B,GAAWtP,GAAUA,EACjE,GAAIpiB,GAAcmE,EAAYxc,EAC5B,MAEFyc,EAAM3kC,KAAK,CAACsC,MAAOoiC,GACrB,CAaA,OAXInE,GAAcy6D,GAAiBQ,IAAYtzE,EAEzCyc,EAAM/nC,QAAU8+B,GAAaiJ,EAAMA,EAAM/nC,OAAS,GAAG0F,MAAO4lB,EAAK2zE,GAAkB3zE,EAAKozE,EAAYX,IACtGh2D,EAAMA,EAAM/nC,OAAS,GAAG0F,MAAQ4lB,EAEhCyc,EAAM3kC,KAAK,CAACsC,MAAO4lB,IAEXqY,GAAci7D,IAAYtzE,GACpCyc,EAAM3kC,KAAK,CAACsC,MAAOk5F,IAGd72D,CACT,CAEA,SAASk3D,GAAkBv5F,EAAOg5F,EAAUQ,GAA6B,IAA3B,WAAC3qC,EAAU,YAAE9lB,GAAYywD,EACrE,MAAMztD,EAAM/R,GAAU+O,GAChBrV,GAASm7B,EAAa5xD,KAAK+hC,IAAI+M,GAAO9uC,KAAKgjC,IAAI8L,KAAS,KACxDzxC,EAAS,IAAO0+F,GAAc,GAAKh5F,GAAO1F,OAChD,OAAO2C,KAAKqT,IAAI0oF,EAAatlE,EAAOp5B,EACtC,CAEe,MAAMm/F,WAAwBn1B,GAE3CpmE,WAAAA,CAAYsiD,GACV0P,MAAM1P,GAGNvhD,KAAKo8B,WAAQ9gC,EAEb0E,KAAKqa,SAAM/e,EAEX0E,KAAK+4F,iBAAcz9F,EAEnB0E,KAAKy6F,eAAYn/F,EACjB0E,KAAKg5F,YAAc,CACrB,CAEA9sF,KAAAA,CAAMy/C,EAAKrkD,GACT,OAAI0vB,EAAc20B,KAGE,kBAARA,GAAoBA,aAAeloD,UAAYC,UAAUioD,GAF5D,MAMDA,CACV,CAEA+uC,sBAAAA,GACE,MAAM,YAAC9xD,GAAe5oC,KAAKqG,SACrB,WAAC04B,EAAA,WAAYC,GAAch/B,KAAKi/B,gBACtC,IAAI,IAAC5tB,EAAG,IAAEsV,GAAO3mB,KAEjB,MAAM26F,EAASl0E,GAAMpV,EAAM0tB,EAAa1tB,EAAMoV,EACxCm0E,EAASn0E,GAAME,EAAMqY,EAAarY,EAAMF,EAE9C,GAAImiB,EAAa,CACf,MAAMiyD,EAAU3gE,GAAK7oB,GACfypF,EAAU5gE,GAAKvT,GAEjBk0E,EAAU,GAAKC,EAAU,EAC3BF,EAAO,GACEC,EAAU,GAAKC,EAAU,GAClCH,EAAO,GAIX,GAAItpF,IAAQsV,EAAK,CACf,IAAIgiB,EAAiB,IAARhiB,EAAY,EAAI3oB,KAAKq8B,IAAU,IAAN1T,GAEtCi0E,EAAOj0E,EAAMgiB,GAERC,GACH+xD,EAAOtpF,EAAMs3B,GAGjB3oC,KAAKqR,IAAMA,EACXrR,KAAK2mB,IAAMA,CACb,CAEAo0E,YAAAA,GACE,MAAMh4B,EAAW/iE,KAAKqG,QAAQ+8B,MAE9B,IACIm2D,GADA,cAACh2B,EAAA,SAAey3B,GAAYj4B,EAkBhC,OAfIi4B,GACFzB,EAAWv7F,KAAK6lE,KAAK7jE,KAAK2mB,IAAMq0E,GAAYh9F,KAAKmT,MAAMnR,KAAKqR,IAAM2pF,GAAY,EAC1EzB,EAAW,MACbp6E,QAAQC,KAAK,UAAUpf,KAAKiJ,sBAAsB+xF,mCAA0CzB,8BAC5FA,EAAW,OAGbA,EAAWv5F,KAAKi7F,mBAChB13B,EAAgBA,GAAiB,IAG/BA,IACFg2B,EAAWv7F,KAAKqT,IAAIkyD,EAAeg2B,IAG9BA,CACT,CAKA0B,gBAAAA,GACE,OAAOx3F,OAAOm2B,iBAChB,CAEAguC,UAAAA,GACE,MAAM3oD,EAAOjf,KAAKqG,QACZ08D,EAAW9jD,EAAKmkB,MAMtB,IAAIm2D,EAAWv5F,KAAK+6F,eACpBxB,EAAWv7F,KAAK2oB,IAAI,EAAG4yE,GAEvB,MAcMn2D,EAAQ+1D,GAdkB,CAC9BI,WACA1wD,OAAQ5pB,EAAK4pB,OACbx3B,IAAK4N,EAAK5N,IACVsV,IAAK1H,EAAK0H,IACV2yE,UAAWv2B,EAASu2B,UACpB1sB,KAAM7J,EAASi4B,SACft8D,MAAOqkC,EAASrkC,MAChB86D,UAAWx5F,KAAK8uE,aAChBlf,WAAY5vD,KAAKq1D,eACjBvrB,YAAai5B,EAASj5B,aAAe,EACrC2vD,eAA0C,IAA3B12B,EAAS02B,eAERz5F,KAAK4lE,QAAU5lE,MAmBjC,MAdoB,UAAhBif,EAAK4pB,QACPjO,GAAmBwI,EAAOpjC,KAAM,SAG9Bif,EAAKwY,SACP2L,EAAM3L,UAENz3B,KAAKo8B,MAAQp8B,KAAK2mB,IAClB3mB,KAAKqa,IAAMra,KAAKqR,MAEhBrR,KAAKo8B,MAAQp8B,KAAKqR,IAClBrR,KAAKqa,IAAMra,KAAK2mB,KAGXyc,CACT,CAKAqf,SAAAA,GACE,MAAMrf,EAAQpjC,KAAKojC,MACnB,IAAIhH,EAAQp8B,KAAKqR,IACbgJ,EAAMra,KAAK2mB,IAIf,GAFAsqC,MAAMxO,YAEFziD,KAAKqG,QAAQsiC,QAAUvF,EAAM/nC,OAAQ,CACvC,MAAMstC,GAAUtuB,EAAM+hB,GAASp+B,KAAK2oB,IAAIyc,EAAM/nC,OAAS,EAAG,GAAK,EAC/D+gC,GAASuM,EACTtuB,GAAOsuB,EAET3oC,KAAK+4F,YAAc38D,EACnBp8B,KAAKy6F,UAAYpgF,EACjBra,KAAKg5F,YAAc3+E,EAAM+hB,CAC3B,CAEA8uB,gBAAAA,CAAiBnqD,GACf,OAAOyhC,GAAazhC,EAAOf,KAAKqjC,MAAMh9B,QAAQq8B,OAAQ1iC,KAAKqG,QAAQ+8B,MAAMn0B,OAC3E,EClTa,MAAMisF,WAAoBV,GAEvC50C,UAAY,SAKZA,gBAAkB,OAChBxiB,MAAO,CACLjd,SAAU+d,GAAMlB,WAAWE,WAFb,GAOlBokC,mBAAAA,GACE,MAAM,IAACj2D,EAAG,IAAEsV,GAAO3mB,KAAKqqD,WAAU,GAElCrqD,KAAKqR,IAAM4lB,EAAS5lB,GAAOA,EAAM,EACjCrR,KAAK2mB,IAAMsQ,EAAStQ,GAAOA,EAAM,EAGjC3mB,KAAK06F,wBACP,CAMAO,gBAAAA,GACE,MAAMrrC,EAAa5vD,KAAKq1D,eAClBh6D,EAASu0D,EAAa5vD,KAAK2pC,MAAQ3pC,KAAKmsC,OACxCrC,EAAc/O,GAAU/6B,KAAKqG,QAAQ+8B,MAAM0G,aAC3CrV,GAASm7B,EAAa5xD,KAAK+hC,IAAI+J,GAAe9rC,KAAKgjC,IAAI8I,KAAiB,KACxE8gC,EAAW5qE,KAAKirE,wBAAwB,GAC9C,OAAOjtE,KAAK6lE,KAAKxoE,EAAS2C,KAAKqT,IAAI,GAAIu5D,EAAStlC,WAAa7Q,GAC/D,CAGAyK,gBAAAA,CAAiBn+B,GACf,OAAiB,OAAVA,EAAiBqpD,IAAMpqD,KAAK+2D,oBAAoBh2D,EAAQf,KAAK+4F,aAAe/4F,KAAKg5F,YAC1F,CAEA/hC,gBAAAA,CAAiBtrB,GACf,OAAO3rC,KAAK+4F,YAAc/4F,KAAKqrE,mBAAmB1/B,GAAS3rC,KAAKg5F,WAClE,EC1CF,MAAMmC,GAAa10E,GAAKzoB,KAAKmT,MAAM8oB,GAAMxT,IACnC20E,GAAiBA,CAAC30E,EAAGtjB,IAAMnF,KAAKu2B,IAAI,GAAI4mE,GAAW10E,GAAKtjB,GAE9D,SAASk4F,GAAQC,GAEf,OAAkB,IADHA,EAAWt9F,KAAKu2B,IAAI,GAAI4mE,GAAWG,GAEpD,CAEA,SAASC,GAAMlqF,EAAKsV,EAAK60E,GACvB,MAAMC,EAAYz9F,KAAKu2B,IAAI,GAAIinE,GACzBp/D,EAAQp+B,KAAKmT,MAAME,EAAMoqF,GAE/B,OADYz9F,KAAK6lE,KAAKl9C,EAAM80E,GACfr/D,CACf,CAqBA,SAASs/D,GAActC,EAAiBuC,GAAc,IAAZ,IAACtqF,EAAG,IAAEsV,GAAIg1E,EAClDtqF,EAAM6lB,EAAgBkiE,EAAkB/nF,IAAKA,GAC7C,MAAM+xB,EAAQ,GACRw4D,EAAST,GAAW9pF,GAC1B,IAAIwqF,EAvBN,SAAkBxqF,EAAKsV,GAErB,IAAI60E,EAAWL,GADDx0E,EAAMtV,GAEpB,KAAOkqF,GAAMlqF,EAAKsV,EAAK60E,GAAY,IACjCA,IAEF,KAAOD,GAAMlqF,EAAKsV,EAAK60E,GAAY,IACjCA,IAEF,OAAOx9F,KAAKqT,IAAImqF,EAAUL,GAAW9pF,GACvC,CAaYyqF,CAASzqF,EAAKsV,GACpB2yE,EAAYuC,EAAM,EAAI79F,KAAKu2B,IAAI,GAAIv2B,KAAKq8B,IAAIwhE,IAAQ,EACxD,MAAMb,EAAWh9F,KAAKu2B,IAAI,GAAIsnE,GACxBlzC,EAAOizC,EAASC,EAAM79F,KAAKu2B,IAAI,GAAIqnE,GAAU,EAC7Cx/D,EAAQp+B,KAAKiU,OAAOZ,EAAMs3C,GAAQ2wC,GAAaA,EAC/C3wD,EAAS3qC,KAAKmT,OAAOE,EAAMs3C,GAAQqyC,EAAW,IAAMA,EAAW,GACrE,IAAIh3D,EAAchmC,KAAKmT,OAAOirB,EAAQuM,GAAU3qC,KAAKu2B,IAAI,GAAIsnE,IACzD96F,EAAQm2B,EAAgBkiE,EAAkB/nF,IAAKrT,KAAKiU,OAAO02C,EAAOhgB,EAAS3E,EAAchmC,KAAKu2B,IAAI,GAAIsnE,IAAQvC,GAAaA,GAC/H,KAAOv4F,EAAQ4lB,GACbyc,EAAM3kC,KAAK,CAACsC,QAAOwpC,MAAO8wD,GAAQt6F,GAAQijC,gBACtCA,GAAe,GACjBA,EAAcA,EAAc,GAAK,GAAK,GAEtCA,IAEEA,GAAe,KACjB63D,IACA73D,EAAc,EACds1D,EAAYuC,GAAO,EAAI,EAAIvC,GAE7Bv4F,EAAQ/C,KAAKiU,OAAO02C,EAAOhgB,EAAS3E,EAAchmC,KAAKu2B,IAAI,GAAIsnE,IAAQvC,GAAaA,EAEtF,MAAMyC,EAAW7kE,EAAgBkiE,EAAkBzyE,IAAK5lB,GAGxD,OAFAqiC,EAAM3kC,KAAK,CAACsC,MAAOg7F,EAAUxxD,MAAO8wD,GAAQU,GAAW/3D,gBAEhDZ,CACT,CAEe,MAAM44D,WAAyB32B,GAE5Czf,UAAY,cAKZA,gBAAkB,OAChBxiB,MAAO,CACLjd,SAAU+d,GAAMlB,WAAWc,YAC3ByG,MAAO,CACLk5B,SAAS,MAJG,GAUlBxkE,WAAAA,CAAYsiD,GACV0P,MAAM1P,GAGNvhD,KAAKo8B,WAAQ9gC,EAEb0E,KAAKqa,SAAM/e,EAEX0E,KAAK+4F,iBAAcz9F,EACnB0E,KAAKg5F,YAAc,CACrB,CAEA9sF,KAAAA,CAAMy/C,EAAKrkD,GACT,MAAMvG,EAAQy5F,GAAgB5hG,UAAUsT,MAAM1T,MAAMwH,KAAM,CAAC2rD,EAAKrkD,IAChE,GAAc,IAAVvG,EAIJ,OAAOk2B,EAASl2B,IAAUA,EAAQ,EAAIA,EAAQ,KAH5Cf,KAAKi8F,OAAQ,CAIjB,CAEA30B,mBAAAA,GACE,MAAM,IAACj2D,EAAG,IAAEsV,GAAO3mB,KAAKqqD,WAAU,GAElCrqD,KAAKqR,IAAM4lB,EAAS5lB,GAAOrT,KAAK2oB,IAAI,EAAGtV,GAAO,KAC9CrR,KAAK2mB,IAAMsQ,EAAStQ,GAAO3oB,KAAK2oB,IAAI,EAAGA,GAAO,KAE1C3mB,KAAKqG,QAAQuiC,cACf5oC,KAAKi8F,OAAQ,GAKXj8F,KAAKi8F,OAASj8F,KAAKqR,MAAQrR,KAAKomE,gBAAkBnvC,EAASj3B,KAAKkmE,YAClElmE,KAAKqR,IAAMA,IAAQ+pF,GAAep7F,KAAKqR,IAAK,GAAK+pF,GAAep7F,KAAKqR,KAAM,GAAK+pF,GAAep7F,KAAKqR,IAAK,IAG3GrR,KAAK06F,wBACP,CAEAA,sBAAAA,GACE,MAAM,WAAC37D,EAAA,WAAYC,GAAch/B,KAAKi/B,gBACtC,IAAI5tB,EAAMrR,KAAKqR,IACXsV,EAAM3mB,KAAK2mB,IAEf,MAAMg0E,EAASl0E,GAAMpV,EAAM0tB,EAAa1tB,EAAMoV,EACxCm0E,EAASn0E,GAAME,EAAMqY,EAAarY,EAAMF,EAE1CpV,IAAQsV,IACNtV,GAAO,GACTspF,EAAO,GACPC,EAAO,MAEPD,EAAOS,GAAe/pF,GAAM,IAC5BupF,EAAOQ,GAAez0E,EAAK,MAG3BtV,GAAO,GACTspF,EAAOS,GAAez0E,GAAM,IAE1BA,GAAO,GAETi0E,EAAOQ,GAAe/pF,EAAK,IAG7BrR,KAAKqR,IAAMA,EACXrR,KAAK2mB,IAAMA,CACb,CAEAihD,UAAAA,GACE,MAAM3oD,EAAOjf,KAAKqG,QAMZ+8B,EAAQs4D,GAJY,CACxBrqF,IAAKrR,KAAKkmE,SACVv/C,IAAK3mB,KAAKimE,UAEmCjmE,MAkB/C,MAdoB,UAAhBif,EAAK4pB,QACPjO,GAAmBwI,EAAOpjC,KAAM,SAG9Bif,EAAKwY,SACP2L,EAAM3L,UAENz3B,KAAKo8B,MAAQp8B,KAAK2mB,IAClB3mB,KAAKqa,IAAMra,KAAKqR,MAEhBrR,KAAKo8B,MAAQp8B,KAAKqR,IAClBrR,KAAKqa,IAAMra,KAAK2mB,KAGXyc,CACT,CAMA8nB,gBAAAA,CAAiBnqD,GACf,YAAiBzF,IAAVyF,EACH,IACAyhC,GAAazhC,EAAOf,KAAKqjC,MAAMh9B,QAAQq8B,OAAQ1iC,KAAKqG,QAAQ+8B,MAAMn0B,OACxE,CAKAwzC,SAAAA,GACE,MAAMrmB,EAAQp8B,KAAKqR,IAEnB4/C,MAAMxO,YAENziD,KAAK+4F,YAAc9+D,GAAMmC,GACzBp8B,KAAKg5F,YAAc/+D,GAAMj6B,KAAK2mB,KAAOsT,GAAMmC,EAC7C,CAEA8C,gBAAAA,CAAiBn+B,GAIf,YAHczF,IAAVyF,GAAiC,IAAVA,IACzBA,EAAQf,KAAKqR,KAED,OAAVtQ,GAAkB45B,MAAM55B,GACnBqpD,IAEFpqD,KAAK+2D,mBAAmBh2D,IAAUf,KAAKqR,IAC1C,GACC4oB,GAAMl5B,GAASf,KAAK+4F,aAAe/4F,KAAKg5F,YAC/C,CAEA/hC,gBAAAA,CAAiBtrB,GACf,MAAMy/B,EAAUprE,KAAKqrE,mBAAmB1/B,GACxC,OAAO3tC,KAAKu2B,IAAI,GAAIv0B,KAAK+4F,YAAc3tB,EAAUprE,KAAKg5F,YACxD,ECxNF,SAASkD,GAAsBj9E,GAC7B,MAAM8jD,EAAW9jD,EAAKmkB,MAEtB,GAAI2/B,EAASr6B,SAAWzpB,EAAKypB,QAAS,CACpC,MAAML,EAAU8I,GAAU4xB,EAASp4B,iBACnC,OAAOxT,EAAe4rC,EAAS59B,MAAQ49B,EAAS59B,KAAKvhC,KAAMkH,GAASq6B,KAAKvhC,MAAQykC,EAAQ8D,OAE3F,OAAO,CACT,CAUA,SAASgwD,GAAgBxgE,EAAOrhB,EAAK1W,EAAMyN,EAAKsV,GAC9C,OAAIgV,IAAUtqB,GAAOsqB,IAAUhV,EACtB,CACLyV,MAAO9hB,EAAO1W,EAAO,EACrByW,IAAKC,EAAO1W,EAAO,GAEZ+3B,EAAQtqB,GAAOsqB,EAAQhV,EACzB,CACLyV,MAAO9hB,EAAM1W,EACbyW,IAAKC,GAIF,CACL8hB,MAAO9hB,EACPD,IAAKC,EAAM1W,EAEf,CAKA,SAASw4F,GAAmB71D,GA8B1B,MAAMypB,EAAO,CACX70D,EAAGorC,EAAMkC,KAAOlC,EAAMopD,SAASlnD,KAC/B3gB,EAAGye,EAAMgC,MAAQhC,EAAMopD,SAASpnD,MAChCrS,EAAGqQ,EAAM+B,IAAM/B,EAAMopD,SAASrnD,IAC9BjoC,EAAGkmC,EAAMiC,OAASjC,EAAMopD,SAASnnD,QAE7B6zD,EAAS1jG,OAAOqI,OAAO,CAAC,EAAGgvD,GAC3BmZ,EAAa,GACb9gC,EAAU,GACVi0D,EAAa/1D,EAAMg2D,aAAalhG,OAChCmhG,EAAiBj2D,EAAMlgC,QAAQ4tD,YAC/BwoC,EAAkBD,EAAeE,kBAAoBljE,GAAK8iE,EAAa,EAE7E,IAAK,IAAIphG,EAAI,EAAGA,EAAIohG,EAAYphG,IAAK,CACnC,MAAM+jB,EAAOu9E,EAAe5oD,WAAWrN,EAAMo2D,qBAAqBzhG,IAClEmtC,EAAQntC,GAAK+jB,EAAKopB,QAClB,MAAMkwB,EAAgBhyB,EAAMq2D,iBAAiB1hG,EAAGqrC,EAAMs2D,YAAcx0D,EAAQntC,GAAIuhG,GAC1EK,EAAS1rD,GAAOnyB,EAAKkmB,MACrByqD,GA9EgBnqD,EA8EYc,EAAMd,IA9EbN,EA8EkB23D,EA7E/C7xC,EAAQxxD,EAD2BwxD,EA8EoB1kB,EAAMg2D,aAAarhG,IA7EjD+vD,EAAQ,CAACA,GAC3B,CACL97C,EAAG+7B,GAAazF,EAAKN,EAAK4F,OAAQkgB,GAClC9hD,EAAG8hD,EAAM5vD,OAAS8pC,EAAKG,aA2EvB6jC,EAAWjuE,GAAK00F,EAEhB,MAAM9lB,EAAe5tC,GAAgBqK,EAAMkuB,cAAcv5D,GAAKuhG,GACxD9gE,EAAQ39B,KAAKiU,MAAMgpB,GAAU6uC,IAGnCizB,GAAaV,EAAQrsC,EAAM8Z,EAFXqyB,GAAgBxgE,EAAO48B,EAActvC,EAAG2mE,EAASzgF,EAAG,EAAG,KACvDgtF,GAAgBxgE,EAAO48B,EAAc1/B,EAAG+2D,EAASzmF,EAAG,GAAI,KAE1E,CAtFF,IAA0Bs8B,EAAKN,EAAM8lB,EAwFnC1kB,EAAMy2D,eACJhtC,EAAK70D,EAAIkhG,EAAOlhG,EAChBkhG,EAAOv0E,EAAIkoC,EAAKloC,EAChBkoC,EAAK95B,EAAImmE,EAAOnmE,EAChBmmE,EAAOh8F,EAAI2vD,EAAK3vD,GAIlBkmC,EAAM02D,iBA6DR,SAA8B12D,EAAO4iC,EAAY9gC,GAC/C,MAAMzK,EAAQ,GACR0+D,EAAa/1D,EAAMg2D,aAAalhG,OAChC4jB,EAAOsnB,EAAMlgC,SACb,kBAACq2F,EAAiB,QAAEh0D,GAAWzpB,EAAKg1C,YACpCipC,EAAW,CACfC,MAAOjB,GAAsBj9E,GAAQ,EACrCw9E,gBAAiBC,EAAoBljE,GAAK8iE,EAAa,GAEzD,IAAIxuD,EAEJ,IAAK,IAAI5yC,EAAI,EAAGA,EAAIohG,EAAYphG,IAAK,CACnCgiG,EAAS70D,QAAUA,EAAQntC,GAC3BgiG,EAASt5F,KAAOulE,EAAWjuE,GAE3B,MAAMq+B,EAAO6jE,GAAqB72D,EAAOrrC,EAAGgiG,GAC5Ct/D,EAAMn/B,KAAK86B,GACK,SAAZmP,IACFnP,EAAK2O,QAAUm1D,GAAgB9jE,EAAMuU,GACjCvU,EAAK2O,UACP4F,EAAOvU,GAGb,CACA,OAAOqE,CACT,CAtF2B0/D,CAAqB/2D,EAAO4iC,EAAY9gC,EACnE,CAEA,SAAS00D,GAAaV,EAAQrsC,EAAMr0B,EAAO4hE,EAASC,GAClD,MAAMz9D,EAAM/hC,KAAKq8B,IAAIr8B,KAAK+hC,IAAIpE,IACxBqF,EAAMhjC,KAAKq8B,IAAIr8B,KAAKgjC,IAAIrF,IAC9B,IAAI1S,EAAI,EACJ4P,EAAI,EACJ0kE,EAAQnhE,MAAQ4zB,EAAK70D,GACvB8tB,GAAK+mC,EAAK70D,EAAIoiG,EAAQnhE,OAAS2D,EAC/Bs8D,EAAOlhG,EAAI6C,KAAKqT,IAAIgrF,EAAOlhG,EAAG60D,EAAK70D,EAAI8tB,IAC9Bs0E,EAAQljF,IAAM21C,EAAKloC,IAC5BmB,GAAKs0E,EAAQljF,IAAM21C,EAAKloC,GAAKiY,EAC7Bs8D,EAAOv0E,EAAI9pB,KAAK2oB,IAAI01E,EAAOv0E,EAAGkoC,EAAKloC,EAAImB,IAErCu0E,EAAQphE,MAAQ4zB,EAAK95B,GACvB2C,GAAKm3B,EAAK95B,EAAIsnE,EAAQphE,OAAS4E,EAC/Bq7D,EAAOnmE,EAAIl4B,KAAKqT,IAAIgrF,EAAOnmE,EAAG85B,EAAK95B,EAAI2C,IAC9B2kE,EAAQnjF,IAAM21C,EAAK3vD,IAC5Bw4B,GAAK2kE,EAAQnjF,IAAM21C,EAAK3vD,GAAK2gC,EAC7Bq7D,EAAOh8F,EAAIrC,KAAK2oB,IAAI01E,EAAOh8F,EAAG2vD,EAAK3vD,EAAIw4B,GAE3C,CAEA,SAASukE,GAAqB72D,EAAOj/B,EAAO41F,GAC1C,MAAMO,EAAgBl3D,EAAMs2D,aACtB,MAACM,EAAA,gBAAOV,EAAA,QAAiBp0D,EAAO,KAAEzkC,GAAQs5F,EAC1CQ,EAAqBn3D,EAAMq2D,iBAAiBt1F,EAAOm2F,EAAgBN,EAAQ90D,EAASo0D,GACpF9gE,EAAQ39B,KAAKiU,MAAMgpB,GAAUiB,GAAgBwhE,EAAmB/hE,MAAQ7B,MACxEjB,EA8ER,SAAmBA,EAAG1vB,EAAGwyB,GACT,KAAVA,GAA0B,MAAVA,EAClB9C,GAAM1vB,EAAI,GACDwyB,EAAQ,KAAOA,EAAQ,MAChC9C,GAAK1vB,GAEP,OAAO0vB,CACT,CArFY8kE,CAAUD,EAAmB7kE,EAAGj1B,EAAKuF,EAAGwyB,GAC5CqU,EA0DR,SAA8BrU,GAC5B,GAAc,IAAVA,GAAyB,MAAVA,EACjB,MAAO,SACF,GAAIA,EAAQ,IACjB,MAAO,OAGT,MAAO,OACT,CAlEoBiiE,CAAqBjiE,GACjC8M,EAmER,SAA0Bxf,EAAG9Z,EAAGgvB,GAChB,UAAVA,EACFlV,GAAK9Z,EACc,WAAVgvB,IACTlV,GAAM9Z,EAAI,GAEZ,OAAO8Z,CACT,CA1Ee40E,CAAiBH,EAAmBz0E,EAAGrlB,EAAKuL,EAAG6gC,GAC5D,MAAO,CAEL9H,SAAS,EAGTjf,EAAGy0E,EAAmBz0E,EACtB4P,IAGAmX,YAGAvH,OACAH,IAAKzP,EACL0P,MAAOE,EAAO7kC,EAAKuL,EACnBq5B,OAAQ3P,EAAIj1B,EAAKuF,EAErB,CAEA,SAASk0F,GAAgB9jE,EAAMuU,GAC7B,IAAKA,EACH,OAAO,EAET,MAAM,KAACrF,EAAA,IAAMH,EAAA,MAAKC,EAAK,OAAEC,GAAUjP,EAGnC,QAFqBqU,GAAe,CAAC3kB,EAAGwf,EAAM5P,EAAGyP,GAAMwF,IAASF,GAAe,CAAC3kB,EAAGwf,EAAM5P,EAAG2P,GAASsF,IACnGF,GAAe,CAAC3kB,EAAGsf,EAAO1P,EAAGyP,GAAMwF,IAASF,GAAe,CAAC3kB,EAAGsf,EAAO1P,EAAG2P,GAASsF,GAEtF,CAyDA,SAASgwD,GAAkBr4D,EAAKxmB,EAAMsa,GACpC,MAAM,KAACkP,EAAA,IAAMH,EAAA,MAAKC,EAAK,OAAEC,GAAUjP,GAC7B,cAACmR,GAAiBzrB,EAExB,IAAK+X,EAAc0T,GAAgB,CACjC,MAAMizC,EAAezsC,GAAcjyB,EAAK0+D,cAClCt1C,EAAU8I,GAAUlyB,EAAK0rB,iBAC/BlF,EAAI6J,UAAY5E,EAEhB,MAAMqzD,EAAet1D,EAAOJ,EAAQI,KAC9Bu1D,EAAc11D,EAAMD,EAAQC,IAC5B21D,EAAgB11D,EAAQE,EAAOJ,EAAQsB,MACvCu0D,EAAiB11D,EAASF,EAAMD,EAAQ8D,OAE1CxzC,OAAOsqC,OAAO06C,GAAcx2E,MAAKsf,GAAW,IAANA,KACxCgf,EAAIwH,YACJsD,GAAmB9K,EAAK,CACtBxc,EAAG80E,EACHllE,EAAGmlE,EACH7uF,EAAG8uF,EACH90F,EAAG+0F,EACHrxD,OAAQ8wC,IAEVl4C,EAAIgI,QAEJhI,EAAIiK,SAASquD,EAAcC,EAAaC,EAAeC,GAG7D,CA+BA,SAASC,GAAe53D,EAAOsG,EAAQmnB,EAAU0/B,GAC/C,MAAM,IAACjuD,GAAOc,EACd,GAAIytB,EAEFvuB,EAAI0H,IAAI5G,EAAM+tB,QAAS/tB,EAAMguB,QAAS1nB,EAAQ,EAAGpT,QAC5C,CAEL,IAAI8+B,EAAgBhyB,EAAMq2D,iBAAiB,EAAG/vD,GAC9CpH,EAAI4H,OAAOkrB,EAActvC,EAAGsvC,EAAc1/B,GAE1C,IAAK,IAAI39B,EAAI,EAAGA,EAAIw4F,EAAYx4F,IAC9Bq9D,EAAgBhyB,EAAMq2D,iBAAiB1hG,EAAG2xC,GAC1CpH,EAAI6H,OAAOirB,EAActvC,EAAGsvC,EAAc1/B,GAGhD,CAiCe,MAAMulE,WAA0B5D,GAE7C50C,UAAY,eAKZA,gBAAkB,OAChBld,SAAS,EAGT21D,SAAS,EACT58F,SAAU,YAEVsyD,WAAY,CACVrrB,SAAS,EACTO,UAAW,EACXkW,WAAY,GACZC,iBAAkB,GAGpBpW,KAAM,CACJgrB,UAAU,GAGZ9B,WAAY,EAGZ9uB,MAAO,CAELqH,mBAAmB,EAEnBtkB,SAAU+d,GAAMlB,WAAWE,SAG7B+wB,YAAa,CACXvpB,mBAAepvC,EAGfqvC,gBAAiB,EAGjBjC,SAAS,EAGTvD,KAAM,CACJvhC,KAAM,IAIRuiB,SAAS8kC,GACAA,EAIT5iB,QAAS,EAGTq0D,mBAAmB,KAnDL,GAuDlB92C,qBAAuB,CACrB,mBAAoB,cACpB,oBAAqB,QACrB,cAAe,SAGjBA,mBAAqB,CACnBmO,WAAY,CACVvsB,UAAW,SAIfvoC,WAAAA,CAAYsiD,GACV0P,MAAM1P,GAGNvhD,KAAKs0D,aAAUh5D,EAEf0E,KAAKu0D,aAAUj5D,EAEf0E,KAAK68F,iBAAcvhG,EAEnB0E,KAAKu8F,aAAe,GACpBv8F,KAAKi9F,iBAAmB,EAC1B,CAEA91B,aAAAA,GAEE,MAAM9+B,EAAUroC,KAAK2vF,SAAWx+C,GAAU+qD,GAAsBl8F,KAAKqG,SAAW,GAC1E8I,EAAInP,KAAK2pC,MAAQ3pC,KAAKqwC,SAAWhI,EAAQsB,MACzCxgC,EAAInJ,KAAKmsC,OAASnsC,KAAKs6C,UAAYjS,EAAQ8D,OACjDnsC,KAAKs0D,QAAUt2D,KAAKmT,MAAMnR,KAAKyoC,KAAOt5B,EAAI,EAAIk5B,EAAQI,MACtDzoC,KAAKu0D,QAAUv2D,KAAKmT,MAAMnR,KAAKsoC,IAAMn/B,EAAI,EAAIk/B,EAAQC,KACrDtoC,KAAK68F,YAAc7+F,KAAKmT,MAAMnT,KAAKqT,IAAIlC,EAAGhG,GAAK,EACjD,CAEAm+D,mBAAAA,GACE,MAAM,IAACj2D,EAAG,IAAEsV,GAAO3mB,KAAKqqD,WAAU,GAElCrqD,KAAKqR,IAAM4lB,EAAS5lB,KAASspB,MAAMtpB,GAAOA,EAAM,EAChDrR,KAAK2mB,IAAMsQ,EAAStQ,KAASgU,MAAMhU,GAAOA,EAAM,EAGhD3mB,KAAK06F,wBACP,CAMAO,gBAAAA,GACE,OAAOj9F,KAAK6lE,KAAK7jE,KAAK68F,YAAcX,GAAsBl8F,KAAKqG,SACjE,CAEAyiE,kBAAAA,CAAmB1lC,GACjBo3D,GAAgB5hG,UAAUkwE,mBAAmB3vE,KAAK6G,KAAMojC,GAGxDpjC,KAAKu8F,aAAev8F,KAAK4pD,YACtB7uD,KAAI,CAACgG,EAAOuG,KACX,MAAM2jD,EAAQ9kC,EAAanmB,KAAKqG,QAAQ4tD,YAAY9tC,SAAU,CAACplB,EAAOuG,GAAQtH,MAC9E,OAAOirD,GAAmB,IAAVA,EAAcA,EAAQ,EAAE,IAEzC7pD,QAAO,CAACqlB,EAAGvrB,IAAM8E,KAAKqjC,MAAMytB,kBAAkB51D,IACnD,CAEAmtE,GAAAA,GACE,MAAMppD,EAAOjf,KAAKqG,QAEd4Y,EAAKypB,SAAWzpB,EAAKg1C,YAAYvrB,QACnC0zD,GAAmBp8F,MAEnBA,KAAKg9F,eAAe,EAAG,EAAG,EAAG,EAEjC,CAEAA,cAAAA,CAAesB,EAAcC,EAAeC,EAAaC,GACvDz+F,KAAKs0D,SAAWt2D,KAAKmT,OAAOmtF,EAAeC,GAAiB,GAC5Dv+F,KAAKu0D,SAAWv2D,KAAKmT,OAAOqtF,EAAcC,GAAkB,GAC5Dz+F,KAAK68F,aAAe7+F,KAAKqT,IAAIrR,KAAK68F,YAAc,EAAG7+F,KAAK2oB,IAAI23E,EAAcC,EAAeC,EAAaC,GACxG,CAEAhqC,aAAAA,CAAcntD,GAIZ,OAAO40B,GAAgB50B,GAHCmyB,IAAOz5B,KAAKu8F,aAAalhG,QAAU,IAGV0/B,GAF9B/6B,KAAKqG,QAAQ6rD,YAAc,GAGhD,CAEA2C,6BAAAA,CAA8B9zD,GAC5B,GAAIi2B,EAAcj2B,GAChB,OAAOqpD,IAIT,MAAMs0C,EAAgB1+F,KAAK68F,aAAe78F,KAAK2mB,IAAM3mB,KAAKqR,KAC1D,OAAIrR,KAAKqG,QAAQoxB,SACPz3B,KAAK2mB,IAAM5lB,GAAS29F,GAEtB39F,EAAQf,KAAKqR,KAAOqtF,CAC9B,CAEAC,6BAAAA,CAA8B9iE,GAC5B,GAAI7E,EAAc6E,GAChB,OAAOuuB,IAGT,MAAMw0C,EAAiB/iE,GAAY77B,KAAK68F,aAAe78F,KAAK2mB,IAAM3mB,KAAKqR,MACvE,OAAOrR,KAAKqG,QAAQoxB,QAAUz3B,KAAK2mB,IAAMi4E,EAAiB5+F,KAAKqR,IAAMutF,CACvE,CAEAjC,oBAAAA,CAAqBr1F,GACnB,MAAM2sD,EAAcj0D,KAAKu8F,cAAgB,GAEzC,GAAIj1F,GAAS,GAAKA,EAAQ2sD,EAAY54D,OAAQ,CAC5C,MAAMwjG,EAAa5qC,EAAY3sD,GAC/B,OA1LN,SAAiCqtC,EAAQrtC,EAAO2jD,GAC9C,OAAOvZ,GAAciD,EAAQ,CAC3BsW,QACA3jD,QACA/N,KAAM,cAEV,CAoLaulG,CAAwB9+F,KAAKgsC,aAAc1kC,EAAOu3F,GAE7D,CAEAjC,gBAAAA,CAAiBt1F,EAAOy3F,GAAyC,IAArBtC,EAAAhkG,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,GAAkB,EAC5D,MAAMkjC,EAAQ37B,KAAKy0D,cAAcntD,GAASwyB,GAAU2iE,EACpD,MAAO,CACLxzE,EAAGjrB,KAAKgjC,IAAIrF,GAASojE,EAAqB/+F,KAAKs0D,QAC/Cz7B,EAAG76B,KAAK+hC,IAAIpE,GAASojE,EAAqB/+F,KAAKu0D,QAC/C54B,QAEJ,CAEA68B,wBAAAA,CAAyBlxD,EAAOvG,GAC9B,OAAOf,KAAK48F,iBAAiBt1F,EAAOtH,KAAK60D,8BAA8B9zD,GACzE,CAEAi+F,eAAAA,CAAgB13F,GACd,OAAOtH,KAAKw4D,yBAAyBlxD,GAAS,EAAGtH,KAAKsrE,eACxD,CAEA2zB,qBAAAA,CAAsB33F,GACpB,MAAM,KAACmhC,EAAA,IAAMH,EAAA,MAAKC,EAAK,OAAEC,GAAUxoC,KAAKi9F,iBAAiB31F,GACzD,MAAO,CACLmhC,OACAH,MACAC,QACAC,SAEJ,CAKAolC,cAAAA,GACE,MAAM,gBAAChpC,EAAiBoE,MAAM,SAACgrB,IAAah0D,KAAKqG,QACjD,GAAIu+B,EAAiB,CACnB,MAAMa,EAAMzlC,KAAKylC,IACjBA,EAAI4F,OACJ5F,EAAIwH,YACJkxD,GAAen+F,KAAMA,KAAK60D,8BAA8B70D,KAAKy6F,WAAYzmC,EAAUh0D,KAAKu8F,aAAalhG,QACrGoqC,EAAI2H,YACJ3H,EAAI6J,UAAY1K,EAChBa,EAAIgI,OACJhI,EAAI+F,UAER,CAKAsiC,QAAAA,GACE,MAAMroC,EAAMzlC,KAAKylC,IACXxmB,EAAOjf,KAAKqG,SACZ,WAAC0tD,EAAU,KAAE/qB,EAAA,OAAMQ,GAAUvqB,EAC7By0E,EAAa1zF,KAAKu8F,aAAalhG,OAErC,IAAIH,EAAGytC,EAAQlnC,EAmBf,GAjBIwd,EAAKg1C,YAAYvrB,SA1TzB,SAAyBnC,EAAOmtD,GAC9B,MAAM,IAACjuD,EAAKp/B,SAAS,YAAC4tD,IAAgB1tB,EAEtC,IAAK,IAAIrrC,EAAIw4F,EAAa,EAAGx4F,GAAK,EAAGA,IAAK,CACxC,MAAMq+B,EAAOgN,EAAM02D,iBAAiB/hG,GACpC,IAAKq+B,EAAK2O,QAER,SAEF,MAAM2kC,EAAc5Y,EAAYrgB,WAAWrN,EAAMo2D,qBAAqBzhG,IACtE4iG,GAAkBr4D,EAAKonC,EAAatzC,GACpC,MAAMujE,EAAS1rD,GAAOy7B,EAAY1nC,OAC5B,EAAClc,EAAC,EAAE4P,EAAA,UAAGmX,GAAazW,EAE1BoW,GACElK,EACAc,EAAMg2D,aAAarhG,GACnB+tB,EACA4P,EAAKikE,EAAOx3D,WAAa,EACzBw3D,EACA,CACEpnE,MAAOm3C,EAAYn3C,MACnBsa,UAAWA,EACXC,aAAc,UAGpB,CACF,CAgSMivD,CAAgBl/F,KAAM0zF,GAGpB1qD,EAAKN,SACP1oC,KAAKojC,MAAMpoC,SAAQ,CAACwlD,EAAMl5C,KACxB,GAAc,IAAVA,GAA0B,IAAVA,GAAetH,KAAKqR,IAAM,EAAI,CAChDs3B,EAAS3oC,KAAK60D,8BAA8BrU,EAAKz/C,OACjD,MAAM5E,EAAU6D,KAAKgsC,WAAW1kC,GAC1BulE,EAAc7jC,EAAK4K,WAAWz3C,GAC9B2wE,EAAoBtjC,EAAOoK,WAAWz3C,IAtRtD,SAAwBoqC,EAAO44D,EAActyD,EAAQ6mD,EAAY9nB,GAC/D,MAAMnmC,EAAMc,EAAMd,IACZuuB,EAAWmrC,EAAanrC,UAExB,MAACt+B,EAAA,UAAOuT,GAAak2D,GAErBnrC,IAAa0/B,IAAgBh+D,IAAUuT,GAAa4D,EAAS,IAInEpH,EAAI4F,OACJ5F,EAAI4J,YAAc3Z,EAClB+P,EAAIwD,UAAYA,EAChBxD,EAAIuoC,YAAYpC,EAAWniC,MAAQ,IACnChE,EAAIwoC,eAAiBrC,EAAWliC,WAEhCjE,EAAIwH,YACJkxD,GAAe53D,EAAOsG,EAAQmnB,EAAU0/B,GACxCjuD,EAAI2H,YACJ3H,EAAIkI,SACJlI,EAAI+F,UACN,CAmQU4zD,CAAep/F,KAAM6sE,EAAalkC,EAAQ+qD,EAAY5mB,OAKxD/Y,EAAWrrB,QAAS,CAGtB,IAFAjD,EAAI4F,OAECnwC,EAAIw4F,EAAa,EAAGx4F,GAAK,EAAGA,IAAK,CACpC,MAAM2xE,EAAc9Y,EAAWngB,WAAW5zC,KAAK28F,qBAAqBzhG,KAC9D,MAACw6B,EAAA,UAAOuT,GAAa4jC,EAEtB5jC,GAAcvT,IAInB+P,EAAIwD,UAAYA,EAChBxD,EAAI4J,YAAc3Z,EAElB+P,EAAIuoC,YAAYnB,EAAY1tB,YAC5B1Z,EAAIwoC,eAAiBpB,EAAYztB,iBAEjCzW,EAAS3oC,KAAK60D,8BAA8B51C,EAAKwY,QAAUz3B,KAAKqR,IAAMrR,KAAK2mB,KAC3EllB,EAAWzB,KAAK48F,iBAAiB1hG,EAAGytC,GACpClD,EAAIwH,YACJxH,EAAI4H,OAAOrtC,KAAKs0D,QAASt0D,KAAKu0D,SAC9B9uB,EAAI6H,OAAO7rC,EAASwnB,EAAGxnB,EAASo3B,GAChC4M,EAAIkI,SACN,CAEAlI,EAAI+F,UAER,CAKA0iC,UAAAA,GAAc,CAKdE,UAAAA,GACE,MAAM3oC,EAAMzlC,KAAKylC,IACXxmB,EAAOjf,KAAKqG,QACZ08D,EAAW9jD,EAAKmkB,MAEtB,IAAK2/B,EAASr6B,QACZ,OAGF,MAAMwpB,EAAalyD,KAAKy0D,cAAc,GACtC,IAAI9rB,EAAQgB,EAEZlE,EAAI4F,OACJ5F,EAAIsH,UAAU/sC,KAAKs0D,QAASt0D,KAAKu0D,SACjC9uB,EAAI5O,OAAOq7B,GACXzsB,EAAIuK,UAAY,SAChBvK,EAAIwK,aAAe,SAEnBjwC,KAAKojC,MAAMpoC,SAAQ,CAACwlD,EAAMl5C,KACxB,GAAe,IAAVA,GAAetH,KAAKqR,KAAO,IAAO4N,EAAKwY,QAC1C,OAGF,MAAMo1C,EAAc9J,EAASnvB,WAAW5zC,KAAKgsC,WAAW1kC,IAClDsjE,EAAWx5B,GAAOy7B,EAAY1nC,MAGpC,GAFAwD,EAAS3oC,KAAK60D,8BAA8B70D,KAAKojC,MAAM97B,GAAOvG,OAE1D8rE,EAAYpiC,kBAAmB,CACjChF,EAAIN,KAAOylC,EAAS7/B,OACpBpB,EAAQlE,EAAIwF,YAAYuV,EAAKyK,OAAOthB,MACpClE,EAAI6J,UAAYu9B,EAAYniC,cAE5B,MAAMrC,EAAU8I,GAAU07B,EAAYliC,iBACtClF,EAAIiK,UACD/F,EAAQ,EAAItB,EAAQI,MACpBE,EAASiiC,EAAShnE,KAAO,EAAIykC,EAAQC,IACtCqB,EAAQtB,EAAQsB,MAChBihC,EAAShnE,KAAOykC,EAAQ8D,QAI5BwD,GAAWlK,EAAK+a,EAAKyK,MAAO,GAAItiB,EAAQiiC,EAAU,CAChDl1C,MAAOm3C,EAAYn3C,MACnBoa,YAAa+8B,EAAY3iC,gBACzB2F,YAAag9B,EAAY5iC,iBACzB,IAGJxE,EAAI+F,SACN,CAKA8iC,SAAAA,GAAa,EC3pBf,MAAM+wB,GAAY,CAChBC,YAAa,CAACtyF,QAAQ,EAAMpJ,KAAM,EAAG23F,MAAO,KAC5CgE,OAAQ,CAACvyF,QAAQ,EAAMpJ,KAAM,IAAM23F,MAAO,IAC1CiE,OAAQ,CAACxyF,QAAQ,EAAMpJ,KAAM,IAAO23F,MAAO,IAC3CkE,KAAM,CAACzyF,QAAQ,EAAMpJ,KAAM,KAAS23F,MAAO,IAC3CmE,IAAK,CAAC1yF,QAAQ,EAAMpJ,KAAM,MAAU23F,MAAO,IAC3CoE,KAAM,CAAC3yF,QAAQ,EAAOpJ,KAAM,OAAW23F,MAAO,GAC9CqE,MAAO,CAAC5yF,QAAQ,EAAMpJ,KAAM,OAAS23F,MAAO,IAC5CsE,QAAS,CAAC7yF,QAAQ,EAAOpJ,KAAM,OAAS23F,MAAO,GAC/CuE,KAAM,CAAC9yF,QAAQ,EAAMpJ,KAAM,SAMvBm8F,GAA6CpnG,OAAO4C,KAAK8jG,IAM/D,SAASW,GAAO5/F,EAAGC,GACjB,OAAOD,EAAIC,CACb,CAOA,SAAS6L,GAAMq6B,EAAOzR,GACpB,GAAIkC,EAAclC,GAChB,OAAO,KAGT,MAAM7pB,EAAUs7B,EAAM05D,UAChB,OAACh0F,EAAA,MAAQgG,EAAA,WAAOiuF,GAAc35D,EAAM45D,WAC1C,IAAIp/F,EAAQ+zB,EAaZ,MAXsB,oBAAX7oB,IACTlL,EAAQkL,EAAOlL,IAIZk2B,EAASl2B,KACZA,EAA0B,kBAAXkL,EACXhB,EAAQiB,MAAMnL,EAA4BkL,GAC1ChB,EAAQiB,MAAMnL,IAGN,OAAVA,EACK,MAGLkR,IACFlR,EAAkB,SAAVkR,IAAqBlY,GAASmmG,KAA8B,IAAfA,EAEjDj1F,EAAQguD,QAAQl4D,EAAOkR,GADvBhH,EAAQguD,QAAQl4D,EAAO,UAAWm/F,KAIhCn/F,EACV,CAUA,SAASq/F,GAA0BC,EAAShvF,EAAKsV,EAAK25E,GACpD,MAAMzoE,EAAOkoE,GAAM1kG,OAEnB,IAAK,IAAIH,EAAI6kG,GAAMn+F,QAAQy+F,GAAUnlG,EAAI28B,EAAO,IAAK38B,EAAG,CACtD,MAAMqlG,EAAWlB,GAAUU,GAAM7kG,IAC3BkmD,EAASm/C,EAAShF,MAAQgF,EAAShF,MAAQ93F,OAAO+8F,iBAExD,GAAID,EAASvzF,QAAUhP,KAAK6lE,MAAMl9C,EAAMtV,IAAQ+vC,EAASm/C,EAAS38F,QAAU08F,EAC1E,OAAOP,GAAM7kG,EAEjB,CAEA,OAAO6kG,GAAMloE,EAAO,EACtB,CAuCA,SAAS4oE,GAAQr9D,EAAOs9D,EAAMnvF,GAC5B,GAAKA,GAEE,GAAIA,EAAWlW,OAAQ,CAC5B,MAAM,GAAC4hC,EAAE,GAAED,GAAMJ,GAAQrrB,EAAYmvF,GAErCt9D,EADkB7xB,EAAW0rB,IAAOyjE,EAAOnvF,EAAW0rB,GAAM1rB,EAAWyrB,KACpD,QAJnBoG,EAAMs9D,IAAQ,CAMlB,CA8BA,SAASC,GAAoBp6D,EAAOtD,EAAQ29D,GAC1C,MAAMx9D,EAAQ,GAERroC,EAAM,CAAC,EACP88B,EAAOoL,EAAO5nC,OACpB,IAAIH,EAAG6F,EAEP,IAAK7F,EAAI,EAAGA,EAAI28B,IAAQ38B,EACtB6F,EAAQkiC,EAAO/nC,GACfH,EAAIgG,GAAS7F,EAEbkoC,EAAM3kC,KAAK,CACTsC,QACAwpC,OAAO,IAMX,OAAiB,IAAT1S,GAAe+oE,EAxCzB,SAAuBr6D,EAAOnD,EAAOroC,EAAK6lG,GACxC,MAAM31F,EAAUs7B,EAAM05D,SAChBxwF,GAASxE,EAAQguD,QAAQ71B,EAAM,GAAGriC,MAAO6/F,GACzCzjE,EAAOiG,EAAMA,EAAM/nC,OAAS,GAAG0F,MACrC,IAAIwpC,EAAOjjC,EAEX,IAAKijC,EAAQ96B,EAAO86B,GAASpN,EAAMoN,GAASt/B,EAAQ+oC,IAAIzJ,EAAO,EAAGq2D,GAChEt5F,EAAQvM,EAAIwvC,GACRjjC,GAAS,IACX87B,EAAM97B,GAAOijC,OAAQ,GAGzB,OAAOnH,CACT,CA2B8Cy9D,CAAct6D,EAAOnD,EAAOroC,EAAK6lG,GAAzCx9D,CACtC,CAEe,MAAM09D,WAAkBz7B,GAErCzf,UAAY,OAKZA,gBAAkB,CAQhB/c,OAAQ,OAER7qB,SAAU,CAAC,EACX0iF,KAAM,CACJz0F,QAAQ,EACRytF,MAAM,EACNznF,OAAO,EACPiuF,YAAY,EACZG,QAAS,cACTU,eAAgB,CAAC,GAEnB39D,MAAO,CASL/kC,OAAQ,OAER8nB,UAAU,EAEVokB,MAAO,CACLk5B,SAAS,KAQfxkE,WAAAA,CAAY4B,GACVowD,MAAMpwD,GAGNb,KAAKquD,OAAS,CACZ/vD,KAAM,GACNqrD,OAAQ,GACR3jC,IAAK,IAIPhmB,KAAKghG,MAAQ,MAEbhhG,KAAKihG,gBAAa3lG,EAClB0E,KAAKkhG,SAAW,CAAC,EACjBlhG,KAAKmhG,aAAc,EACnBnhG,KAAKmgG,gBAAa7kG,CACpB,CAEAw9D,IAAAA,CAAKogB,GAAsB,IAAXj6D,EAAOxmB,UAAA4C,OAAA,QAAAC,IAAA7C,UAAA,GAAAA,UAAA,MACrB,MAAMioG,EAAOxnB,EAAUwnB,OAASxnB,EAAUwnB,KAAO,CAAC,GAE5Cz1F,EAAUjL,KAAKigG,SAAW,IAAIjiF,GAAek7D,EAAUl7D,SAAS6hC,MAEtE50C,EAAQ6tD,KAAK75C,GAMbwZ,EAAQioE,EAAKK,eAAgB91F,EAAQ8tD,WAErC/4D,KAAKmgG,WAAa,CAChBl0F,OAAQy0F,EAAKz0F,OACbgG,MAAOyuF,EAAKzuF,MACZiuF,WAAYQ,EAAKR,YAGnBjvC,MAAM6H,KAAKogB,GAEXl5E,KAAKmhG,YAAcliF,EAAK/P,UAC1B,CAOAhD,KAAAA,CAAMy/C,EAAKrkD,GACT,YAAYhM,IAARqwD,EACK,KAEFz/C,GAAMlM,KAAM2rD,EACrB,CAEA6S,YAAAA,GACEvN,MAAMuN,eACNx+D,KAAKquD,OAAS,CACZ/vD,KAAM,GACNqrD,OAAQ,GACR3jC,IAAK,GAET,CAEAshD,mBAAAA,GACE,MAAMjhE,EAAUrG,KAAKqG,QACf4E,EAAUjL,KAAKigG,SACfvG,EAAOrzF,EAAQq6F,KAAKhH,MAAQ,MAElC,IAAI,IAACroF,EAAA,IAAKsV,EAAA,WAAKoY,EAAA,WAAYC,GAAch/B,KAAKi/B,gBAK9C,SAASmiE,EAAav4D,GACf9J,GAAepE,MAAMkO,EAAOx3B,OAC/BA,EAAMrT,KAAKqT,IAAIA,EAAKw3B,EAAOx3B,MAExB2tB,GAAerE,MAAMkO,EAAOliB,OAC/BA,EAAM3oB,KAAK2oB,IAAIA,EAAKkiB,EAAOliB,KAE/B,CAGKoY,GAAeC,IAElBoiE,EAAaphG,KAAKqhG,mBAIK,UAAnBh7F,EAAQwiC,QAA+C,WAAzBxiC,EAAQ+8B,MAAM/kC,QAC9C+iG,EAAaphG,KAAKqqD,WAAU,KAIhCh5C,EAAM4lB,EAAS5lB,KAASspB,MAAMtpB,GAAOA,GAAOpG,EAAQguD,QAAQpnD,KAAKD,MAAO8nF,GACxE/yE,EAAMsQ,EAAStQ,KAASgU,MAAMhU,GAAOA,GAAO1b,EAAQiuD,MAAMrnD,KAAKD,MAAO8nF,GAAQ,EAG9E15F,KAAKqR,IAAMrT,KAAKqT,IAAIA,EAAKsV,EAAM,GAC/B3mB,KAAK2mB,IAAM3oB,KAAK2oB,IAAItV,EAAM,EAAGsV,EAC/B,CAKA06E,eAAAA,GACE,MAAMv/F,EAAM9B,KAAKshG,qBACjB,IAAIjwF,EAAM5N,OAAOm2B,kBACbjT,EAAMljB,OAAOinD,kBAMjB,OAJI5oD,EAAIzG,SACNgW,EAAMvP,EAAI,GACV6kB,EAAM7kB,EAAIA,EAAIzG,OAAS,IAElB,CAACgW,MAAKsV,MACf,CAKAihD,UAAAA,GACE,MAAMvhE,EAAUrG,KAAKqG,QACfk7F,EAAWl7F,EAAQq6F,KACnB39B,EAAW18D,EAAQ+8B,MACnB7xB,EAAiC,WAApBwxD,EAAS1kE,OAAsB2B,KAAKshG,qBAAuBthG,KAAKwhG,YAE5D,UAAnBn7F,EAAQwiC,QAAsBt3B,EAAWlW,SAC3C2E,KAAKqR,IAAMrR,KAAKkmE,UAAY30D,EAAW,GACvCvR,KAAK2mB,IAAM3mB,KAAKimE,UAAY10D,EAAWA,EAAWlW,OAAS,IAG7D,MAAMgW,EAAMrR,KAAKqR,IAGX+xB,EpE1SH,SAAwBH,EAAkB5xB,EAAasV,GAC5D,IAAIyV,EAAQ,EACR/hB,EAAM4oB,EAAO5nC,OAEjB,KAAO+gC,EAAQ/hB,GAAO4oB,EAAO7G,GAAS/qB,GACpC+qB,IAEF,KAAO/hB,EAAM+hB,GAAS6G,EAAO5oB,EAAM,GAAKsM,GACtCtM,IAGF,OAAO+hB,EAAQ,GAAK/hB,EAAM4oB,EAAO5nC,OAC7B4nC,EAAO7pC,MAAMgjC,EAAO/hB,GACpB4oB,CACN,CoE4RkBw+D,CAAelwF,EAAYF,EAF7BrR,KAAK2mB,KAkBjB,OAXA3mB,KAAKghG,MAAQO,EAAS7H,OAAS32B,EAAS54B,SACpCi2D,GAA0BmB,EAASlB,QAASrgG,KAAKqR,IAAKrR,KAAK2mB,IAAK3mB,KAAK0hG,kBAAkBrwF,IArR/F,SAAoCk1B,EAAOyiC,EAAUq3B,EAAShvF,EAAKsV,GACjE,IAAK,IAAIzrB,EAAI6kG,GAAM1kG,OAAS,EAAGH,GAAK6kG,GAAMn+F,QAAQy+F,GAAUnlG,IAAK,CAC/D,MAAMw+F,EAAOqG,GAAM7kG,GACnB,GAAImkG,GAAU3F,GAAM1sF,QAAUu5B,EAAM05D,SAASjnC,KAAKryC,EAAKtV,EAAKqoF,IAAS1wB,EAAW,EAC9E,OAAO0wB,CAEX,CAEA,OAAOqG,GAAMM,EAAUN,GAAMn+F,QAAQy+F,GAAW,EAClD,CA6QQsB,CAA2B3hG,KAAMojC,EAAM/nC,OAAQkmG,EAASlB,QAASrgG,KAAKqR,IAAKrR,KAAK2mB,MACpF3mB,KAAKihG,WAAcl+B,EAASx4B,MAAMk5B,SAA0B,SAAfzjE,KAAKghG,MAxQtD,SAA4BtH,GAC1B,IAAK,IAAIx+F,EAAI6kG,GAAMn+F,QAAQ83F,GAAQ,EAAG7hE,EAAOkoE,GAAM1kG,OAAQH,EAAI28B,IAAQ38B,EACrE,GAAImkG,GAAUU,GAAM7kG,IAAI8R,OACtB,OAAO+yF,GAAM7kG,EAGnB,CAmQQ0mG,CAAmB5hG,KAAKghG,YADyC1lG,EAErE0E,KAAK6hG,YAAYtwF,GAEblL,EAAQoxB,SACV2L,EAAM3L,UAGDkpE,GAAoB3gG,KAAMojC,EAAOpjC,KAAKihG,WAC/C,CAEA94B,aAAAA,GAGMnoE,KAAKqG,QAAQy7F,qBACf9hG,KAAK6hG,YAAY7hG,KAAKojC,MAAMroC,KAAIylD,IAASA,EAAKz/C,QAElD,CAUA8gG,WAAAA,GAA6B,IAGvBpyF,EAAO0tB,EAHD5rB,EAAa9Y,UAAA4C,OAAA,QAAAC,IAAA7C,UAAC,GAADA,UAAC,GAAD,GACnB2jC,EAAQ,EACR/hB,EAAM,EAGNra,KAAKqG,QAAQsiC,QAAUp3B,EAAWlW,SACpCoU,EAAQzP,KAAK+hG,mBAAmBxwF,EAAW,IAEzC6qB,EADwB,IAAtB7qB,EAAWlW,OACL,EAAIoU,GAEHzP,KAAK+hG,mBAAmBxwF,EAAW,IAAM9B,GAAS,EAE7D0tB,EAAOn9B,KAAK+hG,mBAAmBxwF,EAAWA,EAAWlW,OAAS,IAE5Dgf,EADwB,IAAtB9I,EAAWlW,OACP8hC,GAECA,EAAOn9B,KAAK+hG,mBAAmBxwF,EAAWA,EAAWlW,OAAS,KAAO,GAGhF,MAAMsxE,EAAQp7D,EAAWlW,OAAS,EAAI,GAAM,IAC5C+gC,EAAQM,GAAYN,EAAO,EAAGuwC,GAC9BtyD,EAAMqiB,GAAYriB,EAAK,EAAGsyD,GAE1B3sE,KAAKkhG,SAAW,CAAC9kE,QAAO/hB,MAAK+mC,OAAQ,GAAKhlB,EAAQ,EAAI/hB,GACxD,CASAmnF,SAAAA,GACE,MAAMv2F,EAAUjL,KAAKigG,SACf5uF,EAAMrR,KAAKqR,IACXsV,EAAM3mB,KAAK2mB,IACXtgB,EAAUrG,KAAKqG,QACfk7F,EAAWl7F,EAAQq6F,KAEnBp2D,EAAQi3D,EAAS7H,MAAQ0G,GAA0BmB,EAASlB,QAAShvF,EAAKsV,EAAK3mB,KAAK0hG,kBAAkBrwF,IACtG2pF,EAAW7jE,EAAe9wB,EAAQ+8B,MAAM43D,SAAU,GAClDgH,EAAoB,SAAV13D,GAAmBi3D,EAASrB,WACtC+B,EAAaloG,GAASioG,KAAwB,IAAZA,EAClC5+D,EAAQ,CAAC,EACf,IACIs9D,EAAMhiE,EADNjvB,EAAQ4B,EAYZ,GARI4wF,IACFxyF,GAASxE,EAAQguD,QAAQxpD,EAAO,UAAWuyF,IAI7CvyF,GAASxE,EAAQguD,QAAQxpD,EAAOwyF,EAAa,MAAQ33D,GAGjDr/B,EAAQ+tD,KAAKryC,EAAKtV,EAAKi5B,GAAS,IAAS0wD,EAC3C,MAAM,IAAIp4F,MAAMyO,EAAM,QAAUsV,EAAM,uCAAyCq0E,EAAW,IAAM1wD,GAGlG,MAAM/4B,EAAsC,SAAzBlL,EAAQ+8B,MAAM/kC,QAAqB2B,KAAKkiG,oBAC3D,IAAKxB,EAAOjxF,EAAOivB,EAAQ,EAAGgiE,EAAO/5E,EAAK+5E,GAAQz1F,EAAQ+oC,IAAI0sD,EAAM1F,EAAU1wD,GAAQ5L,IACpF+hE,GAAQr9D,EAAOs9D,EAAMnvF,GAQvB,OALImvF,IAAS/5E,GAA0B,UAAnBtgB,EAAQwiC,QAAgC,IAAVnK,GAChD+hE,GAAQr9D,EAAOs9D,EAAMnvF,GAIhB5Y,OAAO4C,KAAK6nC,GAAOorB,KAAKwxC,IAAQjlG,KAAIkuB,IAAMA,GACnD,CAMAiiC,gBAAAA,CAAiBnqD,GACf,MAAMkK,EAAUjL,KAAKigG,SACfsB,EAAWvhG,KAAKqG,QAAQq6F,KAE9B,OAAIa,EAASY,cACJl3F,EAAQgE,OAAOlO,EAAOwgG,EAASY,eAEjCl3F,EAAQgE,OAAOlO,EAAOwgG,EAASR,eAAeqB,SACvD,CAOAnzF,MAAAA,CAAOlO,EAAOkO,GACZ,MACM8pD,EADU/4D,KAAKqG,QACGq6F,KAAKK,eACvBrH,EAAO15F,KAAKghG,MACZqB,EAAMpzF,GAAU8pD,EAAQ2gC,GAC9B,OAAO15F,KAAKigG,SAAShxF,OAAOlO,EAAOshG,EACrC,CAWAC,mBAAAA,CAAoB5B,EAAMp5F,EAAO87B,EAAOn0B,GACtC,MAAM5I,EAAUrG,KAAKqG,QACfu8B,EAAYv8B,EAAQ+8B,MAAMjd,SAEhC,GAAIyc,EACF,OAAOzc,EAAKyc,EAAW,CAAC89D,EAAMp5F,EAAO87B,GAAQpjC,MAG/C,MAAM+4D,EAAU1yD,EAAQq6F,KAAKK,eACvBrH,EAAO15F,KAAKghG,MACZJ,EAAY5gG,KAAKihG,WACjBsB,EAAc7I,GAAQ3gC,EAAQ2gC,GAC9B8I,EAAc5B,GAAa7nC,EAAQ6nC,GACnCpgD,EAAOpd,EAAM97B,GACbijC,EAAQq2D,GAAa4B,GAAehiD,GAAQA,EAAKjW,MAEvD,OAAOvqC,KAAKigG,SAAShxF,OAAOyxF,EAAMzxF,IAAWs7B,EAAQi4D,EAAcD,GACrE,CAKAz5B,kBAAAA,CAAmB1lC,GACjB,IAAIloC,EAAG28B,EAAM2oB,EAEb,IAAKtlD,EAAI,EAAG28B,EAAOuL,EAAM/nC,OAAQH,EAAI28B,IAAQ38B,EAC3CslD,EAAOpd,EAAMloC,GACbslD,EAAKyK,MAAQjrD,KAAKsiG,oBAAoB9hD,EAAKz/C,MAAO7F,EAAGkoC,EAEzD,CAMA2+D,kBAAAA,CAAmBhhG,GACjB,OAAiB,OAAVA,EAAiBqpD,KAAOrpD,EAAQf,KAAKqR,MAAQrR,KAAK2mB,IAAM3mB,KAAKqR,IACtE,CAMA6tB,gBAAAA,CAAiBn+B,GACf,MAAM0hG,EAAUziG,KAAKkhG,SACf5mF,EAAMta,KAAK+hG,mBAAmBhhG,GACpC,OAAOf,KAAK+2D,oBAAoB0rC,EAAQrmE,MAAQ9hB,GAAOmoF,EAAQrhD,OACjE,CAMA6V,gBAAAA,CAAiBtrB,GACf,MAAM82D,EAAUziG,KAAKkhG,SACf5mF,EAAMta,KAAKqrE,mBAAmB1/B,GAAS82D,EAAQrhD,OAASqhD,EAAQpoF,IACtE,OAAOra,KAAKqR,IAAMiJ,GAAOta,KAAK2mB,IAAM3mB,KAAKqR,IAC3C,CAOAqxF,aAAAA,CAAcz3C,GACZ,MAAM03C,EAAY3iG,KAAKqG,QAAQ+8B,MACzBw/D,EAAiB5iG,KAAKylC,IAAIwF,YAAYggB,GAAOthB,MAC7ChO,EAAQZ,GAAU/6B,KAAKq1D,eAAiBstC,EAAU54D,YAAc44D,EAAU74D,aAC1E+4D,EAAc7kG,KAAKgjC,IAAIrF,GACvBmnE,EAAc9kG,KAAK+hC,IAAIpE,GACvBonE,EAAe/iG,KAAKirE,wBAAwB,GAAGrnE,KAErD,MAAO,CACLuL,EAAIyzF,EAAiBC,EAAgBE,EAAeD,EACpD35F,EAAIy5F,EAAiBE,EAAgBC,EAAeF,EAExD,CAOAnB,iBAAAA,CAAkBsB,GAChB,MAAMzB,EAAWvhG,KAAKqG,QAAQq6F,KACxBK,EAAiBQ,EAASR,eAG1B9xF,EAAS8xF,EAAeQ,EAAS7H,OAASqH,EAAezB,YACzD2D,EAAejjG,KAAKsiG,oBAAoBU,EAAa,EAAGrC,GAAoB3gG,KAAM,CAACgjG,GAAchjG,KAAKihG,YAAahyF,GACnHrL,EAAO5D,KAAK0iG,cAAcO,GAG1B3C,EAAWtiG,KAAKmT,MAAMnR,KAAKq1D,eAAiBr1D,KAAK2pC,MAAQ/lC,EAAKuL,EAAInP,KAAKmsC,OAASvoC,EAAKuF,GAAK,EAChG,OAAOm3F,EAAW,EAAIA,EAAW,CACnC,CAKA4B,iBAAAA,GACE,IACIhnG,EAAG28B,EADHtmB,EAAavR,KAAKquD,OAAO/vD,MAAQ,GAGrC,GAAIiT,EAAWlW,OACb,OAAOkW,EAGT,MAAMm1D,EAAQ1mE,KAAKykD,0BAEnB,GAAIzkD,KAAKmhG,aAAez6B,EAAMrrE,OAC5B,OAAQ2E,KAAKquD,OAAO/vD,KAAOooE,EAAM,GAAG5sD,WAAWgxC,mBAAmB9qD,MAGpE,IAAK9E,EAAI,EAAG28B,EAAO6uC,EAAMrrE,OAAQH,EAAI28B,IAAQ38B,EAC3CqW,EAAaA,EAAWvL,OAAO0gE,EAAMxrE,GAAG4e,WAAWgxC,mBAAmB9qD,OAGxE,OAAQA,KAAKquD,OAAO/vD,KAAO0B,KAAKgP,UAAUuC,EAC5C,CAKA+vF,kBAAAA,GACE,MAAM/vF,EAAavR,KAAKquD,OAAO1E,QAAU,GACzC,IAAIzuD,EAAG28B,EAEP,GAAItmB,EAAWlW,OACb,OAAOkW,EAGT,MAAMo4C,EAAS3pD,KAAK4pD,YACpB,IAAK1uD,EAAI,EAAG28B,EAAO8xB,EAAOtuD,OAAQH,EAAI28B,IAAQ38B,EAC5CqW,EAAW9S,KAAKyN,GAAMlM,KAAM2pD,EAAOzuD,KAGrC,OAAQ8E,KAAKquD,OAAO1E,OAAS3pD,KAAKmhG,YAAc5vF,EAAavR,KAAKgP,UAAUuC,EAC9E,CAMAvC,SAAAA,CAAUi0B,GAER,OAAOtF,GAAasF,EAAOurB,KAAKwxC,IAClC,ECtpBF,SAAS/pE,GAAY4G,EAAO3iC,EAAKu9B,GAC/B,IAEIyrE,EAAYC,EAAYC,EAAYC,EAFpCpmE,EAAK,EACLD,EAAKH,EAAMxhC,OAAS,EAEpBo8B,GACEv9B,GAAO2iC,EAAMI,GAAI3iB,KAAOpgB,GAAO2iC,EAAMG,GAAI1iB,OACzC2iB,KAAID,MAAME,GAAaL,EAAO,MAAO3iC,MAEvCogB,IAAK4oF,EAAYxC,KAAM0C,GAAcvmE,EAAMI,MAC3C3iB,IAAK6oF,EAAYzC,KAAM2C,GAAcxmE,EAAMG,MAEzC9iC,GAAO2iC,EAAMI,GAAIyjE,MAAQxmG,GAAO2iC,EAAMG,GAAI0jE,QAC1CzjE,KAAID,MAAME,GAAaL,EAAO,OAAQ3iC,MAExCwmG,KAAMwC,EAAY5oF,IAAK8oF,GAAcvmE,EAAMI,MAC3CyjE,KAAMyC,EAAY7oF,IAAK+oF,GAAcxmE,EAAMG,KAG/C,MAAMsmE,EAAOH,EAAaD,EAC1B,OAAOI,EAAOF,GAAcC,EAAaD,IAAelpG,EAAMgpG,GAAcI,EAAOF,CACrF,CAEA,MAAMG,WAAwBzC,GAE5Bl7C,UAAY,aAKZA,gBAAO,KAAWk7C,GAAUh2F,SAArB,GAKP7L,WAAAA,CAAY4B,GACVowD,MAAMpwD,GAGNb,KAAKwjG,OAAS,GAEdxjG,KAAKyjG,aAAUnoG,EAEf0E,KAAK0jG,iBAAcpoG,CACrB,CAKAumG,WAAAA,GACE,MAAMtwF,EAAavR,KAAK2jG,yBAClB9mE,EAAQ78B,KAAKwjG,OAASxjG,KAAK4jG,iBAAiBryF,GAClDvR,KAAKyjG,QAAUxtE,GAAY4G,EAAO78B,KAAKqR,KACvCrR,KAAK0jG,YAAcztE,GAAY4G,EAAO78B,KAAK2mB,KAAO3mB,KAAKyjG,QACvDxyC,MAAM4wC,YAAYtwF,EACpB,CAaAqyF,gBAAAA,CAAiBryF,GACf,MAAM,IAACF,EAAG,IAAEsV,GAAO3mB,KACb49B,EAAQ,GACRf,EAAQ,GACd,IAAI3hC,EAAG28B,EAAM8f,EAAM+W,EAAM1sD,EAEzB,IAAK9G,EAAI,EAAG28B,EAAOtmB,EAAWlW,OAAQH,EAAI28B,IAAQ38B,EAChDwzD,EAAOn9C,EAAWrW,GACdwzD,GAAQr9C,GAAOq9C,GAAQ/nC,GACzBiX,EAAMn/B,KAAKiwD,GAIf,GAAI9wB,EAAMviC,OAAS,EAEjB,MAAO,CACL,CAACqlG,KAAMrvF,EAAKiJ,IAAK,GACjB,CAAComF,KAAM/5E,EAAKrM,IAAK,IAIrB,IAAKpf,EAAI,EAAG28B,EAAO+F,EAAMviC,OAAQH,EAAI28B,IAAQ38B,EAC3C8G,EAAO47B,EAAM1iC,EAAI,GACjBy8C,EAAO/Z,EAAM1iC,EAAI,GACjBwzD,EAAO9wB,EAAM1iC,GAGT8C,KAAKiU,OAAOjQ,EAAO21C,GAAQ,KAAO+W,GACpC7xB,EAAMp+B,KAAK,CAACiiG,KAAMhyC,EAAMp0C,IAAKpf,GAAK28B,EAAO,KAG7C,OAAOgF,CACT,CAQA2kE,SAAAA,GACE,MAAMnwF,EAAMrR,KAAKqR,IACXsV,EAAM3mB,KAAK2mB,IACjB,IAAIpV,EAAa0/C,MAAMixC,oBAOvB,OANK3wF,EAAW0yB,SAAS5yB,IAASE,EAAWlW,QAC3CkW,EAAWkQ,OAAO,EAAG,EAAGpQ,GAErBE,EAAW0yB,SAAStd,IAA8B,IAAtBpV,EAAWlW,QAC1CkW,EAAW9S,KAAKkoB,GAEXpV,EAAWi9C,MAAK,CAACpuD,EAAGC,IAAMD,EAAIC,GACvC,CAOAsjG,sBAAAA,GACE,IAAIpyF,EAAavR,KAAKquD,OAAOroC,KAAO,GAEpC,GAAIzU,EAAWlW,OACb,OAAOkW,EAGT,MAAMjT,EAAO0B,KAAKkiG,oBACZj3C,EAAQjrD,KAAKshG,qBAUnB,OANE/vF,EAHEjT,EAAKjD,QAAU4vD,EAAM5vD,OAGV2E,KAAKgP,UAAU1Q,EAAK0H,OAAOilD,IAE3B3sD,EAAKjD,OAASiD,EAAO2sD,EAEpC15C,EAAavR,KAAKquD,OAAOroC,IAAMzU,EAExBA,CACT,CAMAwwF,kBAAAA,CAAmBhhG,GACjB,OAAQk1B,GAAYj2B,KAAKwjG,OAAQziG,GAASf,KAAKyjG,SAAWzjG,KAAK0jG,WACjE,CAMAzsC,gBAAAA,CAAiBtrB,GACf,MAAM82D,EAAUziG,KAAKkhG,SACf91B,EAAUprE,KAAKqrE,mBAAmB1/B,GAAS82D,EAAQrhD,OAASqhD,EAAQpoF,IAC1E,OAAO4b,GAAYj2B,KAAKwjG,OAAQp4B,EAAUprE,KAAK0jG,YAAc1jG,KAAKyjG,SAAS,EAC7E,QC1JWI,GAAgB,CAC3B7zB,GACA/qC,GACAoB,6ICpBF+wC,GAAMjI,YAAY00B,IAGlB","sources":["../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/core/AxiosError.js","../node_modules/axios/lib/helpers/toFormData.js","../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/defaults/transitional.js","../node_modules/axios/lib/platform/browser/index.js","../node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../node_modules/axios/lib/platform/browser/classes/FormData.js","../node_modules/axios/lib/platform/browser/classes/Blob.js","../node_modules/axios/lib/platform/common/utils.js","../node_modules/axios/lib/platform/index.js","../node_modules/axios/lib/helpers/formDataToJSON.js","../node_modules/axios/lib/defaults/index.js","../node_modules/axios/lib/helpers/toURLEncodedForm.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/core/AxiosHeaders.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/cancel/CanceledError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/speedometer.js","../node_modules/axios/lib/helpers/throttle.js","../node_modules/axios/lib/helpers/progressEventReducer.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/helpers/resolveConfig.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/helpers/parseProtocol.js","../node_modules/axios/lib/helpers/composeSignals.js","../node_modules/axios/lib/helpers/trackStream.js","../node_modules/axios/lib/adapters/fetch.js","../node_modules/axios/lib/adapters/adapters.js","../node_modules/axios/lib/helpers/null.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/env/data.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/HttpStatusCode.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/@kurkle/color/dist/color.esm.js","../node_modules/chart.js/src/helpers/helpers.core.ts","../node_modules/chart.js/src/helpers/helpers.math.ts","../node_modules/chart.js/src/helpers/helpers.collection.ts","../node_modules/chart.js/src/helpers/helpers.extras.ts","../node_modules/chart.js/src/helpers/helpers.easing.ts","../node_modules/chart.js/src/helpers/helpers.color.ts","../node_modules/chart.js/src/core/core.animations.defaults.js","../node_modules/chart.js/src/helpers/helpers.intl.ts","../node_modules/chart.js/src/core/core.ticks.js","../node_modules/chart.js/src/core/core.defaults.js","../node_modules/chart.js/src/core/core.layouts.defaults.js","../node_modules/chart.js/src/core/core.scale.defaults.js","../node_modules/chart.js/src/helpers/helpers.canvas.ts","../node_modules/chart.js/src/helpers/helpers.options.ts","../node_modules/chart.js/src/helpers/helpers.config.ts","../node_modules/chart.js/src/helpers/helpers.curve.ts","../node_modules/chart.js/src/helpers/helpers.dom.ts","../node_modules/chart.js/src/helpers/helpers.interpolation.ts","../node_modules/chart.js/src/helpers/helpers.rtl.ts","../node_modules/chart.js/src/helpers/helpers.segment.js","../node_modules/chart.js/src/core/core.animator.js","../node_modules/chart.js/src/core/core.animation.js","../node_modules/chart.js/src/core/core.animations.js","../node_modules/chart.js/src/core/core.datasetController.js","../node_modules/chart.js/src/controllers/controller.bar.js","../node_modules/chart.js/src/controllers/controller.doughnut.js","../node_modules/chart.js/src/controllers/controller.polarArea.js","../node_modules/chart.js/src/controllers/controller.bubble.js","../node_modules/chart.js/src/controllers/controller.line.js","../node_modules/chart.js/src/controllers/controller.pie.js","../node_modules/chart.js/src/controllers/controller.radar.js","../node_modules/chart.js/src/controllers/controller.scatter.js","../node_modules/chart.js/src/core/core.adapters.ts","../node_modules/chart.js/src/core/core.interaction.js","../node_modules/chart.js/src/core/core.layouts.js","../node_modules/chart.js/src/platform/platform.base.js","../node_modules/chart.js/src/platform/platform.basic.js","../node_modules/chart.js/src/platform/platform.dom.js","../node_modules/chart.js/src/core/core.element.ts","../node_modules/chart.js/src/core/core.scale.autoskip.js","../node_modules/chart.js/src/core/core.scale.js","../node_modules/chart.js/src/core/core.typedRegistry.js","../node_modules/chart.js/src/core/core.registry.js","../node_modules/chart.js/src/core/core.plugins.js","../node_modules/chart.js/src/core/core.config.js","../node_modules/chart.js/src/core/core.controller.js","../node_modules/chart.js/src/platform/index.js","../node_modules/chart.js/src/elements/element.arc.ts","../node_modules/chart.js/src/elements/element.line.js","../node_modules/chart.js/src/elements/element.point.ts","../node_modules/chart.js/src/elements/element.bar.js","../node_modules/chart.js/src/plugins/plugin.colors.ts","../node_modules/chart.js/src/plugins/plugin.decimation.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.segment.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.helper.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.options.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.target.stack.js","../node_modules/chart.js/src/plugins/plugin.filler/simpleArc.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.target.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.drawing.js","../node_modules/chart.js/src/plugins/plugin.filler/index.js","../node_modules/chart.js/src/plugins/plugin.legend.js","../node_modules/chart.js/src/plugins/plugin.title.js","../node_modules/chart.js/src/plugins/plugin.subtitle.js","../node_modules/chart.js/src/plugins/plugin.tooltip.js","../node_modules/chart.js/src/scales/scale.category.js","../node_modules/chart.js/src/scales/scale.linearbase.js","../node_modules/chart.js/src/scales/scale.linear.js","../node_modules/chart.js/src/scales/scale.logarithmic.js","../node_modules/chart.js/src/scales/scale.radialLinear.js","../node_modules/chart.js/src/scales/scale.time.js","../node_modules/chart.js/src/scales/scale.timeseries.js","../node_modules/chart.js/src/index.ts","../node_modules/chart.js/auto/auto.js"],"sourcesContent":["'use strict';\r\n\r\nexport default function bind(fn, thisArg) {\r\n  return function wrap() {\r\n    return fn.apply(thisArg, arguments);\r\n  };\r\n}\r\n","'use strict';\r\n\r\nimport bind from './helpers/bind.js';\r\n\r\n// utils is a library of generic helper functions non-specific to axios\r\n\r\nconst {toString} = Object.prototype;\r\nconst {getPrototypeOf} = Object;\r\n\r\nconst kindOf = (cache => thing => {\r\n    const str = toString.call(thing);\r\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\r\n})(Object.create(null));\r\n\r\nconst kindOfTest = (type) => {\r\n  type = type.toLowerCase();\r\n  return (thing) => kindOf(thing) === type\r\n}\r\n\r\nconst typeOfTest = type => thing => typeof thing === type;\r\n\r\n/**\r\n * Determine if a value is an Array\r\n *\r\n * @param {Object} val The value to test\r\n *\r\n * @returns {boolean} True if value is an Array, otherwise false\r\n */\r\nconst {isArray} = Array;\r\n\r\n/**\r\n * Determine if a value is undefined\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if the value is undefined, otherwise false\r\n */\r\nconst isUndefined = typeOfTest('undefined');\r\n\r\n/**\r\n * Determine if a value is a Buffer\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a Buffer, otherwise false\r\n */\r\nfunction isBuffer(val) {\r\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\r\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\r\n}\r\n\r\n/**\r\n * Determine if a value is an ArrayBuffer\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\r\n */\r\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\r\n\r\n\r\n/**\r\n * Determine if a value is a view on an ArrayBuffer\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\r\n */\r\nfunction isArrayBufferView(val) {\r\n  let result;\r\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\r\n    result = ArrayBuffer.isView(val);\r\n  } else {\r\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Determine if a value is a String\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a String, otherwise false\r\n */\r\nconst isString = typeOfTest('string');\r\n\r\n/**\r\n * Determine if a value is a Function\r\n *\r\n * @param {*} val The value to test\r\n * @returns {boolean} True if value is a Function, otherwise false\r\n */\r\nconst isFunction = typeOfTest('function');\r\n\r\n/**\r\n * Determine if a value is a Number\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a Number, otherwise false\r\n */\r\nconst isNumber = typeOfTest('number');\r\n\r\n/**\r\n * Determine if a value is an Object\r\n *\r\n * @param {*} thing The value to test\r\n *\r\n * @returns {boolean} True if value is an Object, otherwise false\r\n */\r\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\r\n\r\n/**\r\n * Determine if a value is a Boolean\r\n *\r\n * @param {*} thing The value to test\r\n * @returns {boolean} True if value is a Boolean, otherwise false\r\n */\r\nconst isBoolean = thing => thing === true || thing === false;\r\n\r\n/**\r\n * Determine if a value is a plain Object\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a plain Object, otherwise false\r\n */\r\nconst isPlainObject = (val) => {\r\n  if (kindOf(val) !== 'object') {\r\n    return false;\r\n  }\r\n\r\n  const prototype = getPrototypeOf(val);\r\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\r\n}\r\n\r\n/**\r\n * Determine if a value is a Date\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a Date, otherwise false\r\n */\r\nconst isDate = kindOfTest('Date');\r\n\r\n/**\r\n * Determine if a value is a File\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a File, otherwise false\r\n */\r\nconst isFile = kindOfTest('File');\r\n\r\n/**\r\n * Determine if a value is a Blob\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a Blob, otherwise false\r\n */\r\nconst isBlob = kindOfTest('Blob');\r\n\r\n/**\r\n * Determine if a value is a FileList\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a File, otherwise false\r\n */\r\nconst isFileList = kindOfTest('FileList');\r\n\r\n/**\r\n * Determine if a value is a Stream\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a Stream, otherwise false\r\n */\r\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\r\n\r\n/**\r\n * Determine if a value is a FormData\r\n *\r\n * @param {*} thing The value to test\r\n *\r\n * @returns {boolean} True if value is an FormData, otherwise false\r\n */\r\nconst isFormData = (thing) => {\r\n  let kind;\r\n  return thing && (\r\n    (typeof FormData === 'function' && thing instanceof FormData) || (\r\n      isFunction(thing.append) && (\r\n        (kind = kindOf(thing)) === 'formdata' ||\r\n        // detect form-data instance\r\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\r\n      )\r\n    )\r\n  )\r\n}\r\n\r\n/**\r\n * Determine if a value is a URLSearchParams object\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\r\n */\r\nconst isURLSearchParams = kindOfTest('URLSearchParams');\r\n\r\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\r\n\r\n/**\r\n * Trim excess whitespace off the beginning and end of a string\r\n *\r\n * @param {String} str The String to trim\r\n *\r\n * @returns {String} The String freed of excess whitespace\r\n */\r\nconst trim = (str) => str.trim ?\r\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\r\n\r\n/**\r\n * Iterate over an Array or an Object invoking a function for each item.\r\n *\r\n * If `obj` is an Array callback will be called passing\r\n * the value, index, and complete array for each item.\r\n *\r\n * If 'obj' is an Object callback will be called passing\r\n * the value, key, and complete object for each property.\r\n *\r\n * @param {Object|Array} obj The object to iterate\r\n * @param {Function} fn The callback to invoke for each item\r\n *\r\n * @param {Boolean} [allOwnKeys = false]\r\n * @returns {any}\r\n */\r\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\r\n  // Don't bother if no value provided\r\n  if (obj === null || typeof obj === 'undefined') {\r\n    return;\r\n  }\r\n\r\n  let i;\r\n  let l;\r\n\r\n  // Force an array if not already something iterable\r\n  if (typeof obj !== 'object') {\r\n    /*eslint no-param-reassign:0*/\r\n    obj = [obj];\r\n  }\r\n\r\n  if (isArray(obj)) {\r\n    // Iterate over array values\r\n    for (i = 0, l = obj.length; i < l; i++) {\r\n      fn.call(null, obj[i], i, obj);\r\n    }\r\n  } else {\r\n    // Iterate over object keys\r\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\r\n    const len = keys.length;\r\n    let key;\r\n\r\n    for (i = 0; i < len; i++) {\r\n      key = keys[i];\r\n      fn.call(null, obj[key], key, obj);\r\n    }\r\n  }\r\n}\r\n\r\nfunction findKey(obj, key) {\r\n  key = key.toLowerCase();\r\n  const keys = Object.keys(obj);\r\n  let i = keys.length;\r\n  let _key;\r\n  while (i-- > 0) {\r\n    _key = keys[i];\r\n    if (key === _key.toLowerCase()) {\r\n      return _key;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nconst _global = (() => {\r\n  /*eslint no-undef:0*/\r\n  if (typeof globalThis !== \"undefined\") return globalThis;\r\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\r\n})();\r\n\r\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\r\n\r\n/**\r\n * Accepts varargs expecting each argument to be an object, then\r\n * immutably merges the properties of each object and returns result.\r\n *\r\n * When multiple objects contain the same key the later object in\r\n * the arguments list will take precedence.\r\n *\r\n * Example:\r\n *\r\n * ```js\r\n * var result = merge({foo: 123}, {foo: 456});\r\n * console.log(result.foo); // outputs 456\r\n * ```\r\n *\r\n * @param {Object} obj1 Object to merge\r\n *\r\n * @returns {Object} Result of all merge properties\r\n */\r\nfunction merge(/* obj1, obj2, obj3, ... */) {\r\n  const {caseless} = isContextDefined(this) && this || {};\r\n  const result = {};\r\n  const assignValue = (val, key) => {\r\n    const targetKey = caseless && findKey(result, key) || key;\r\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\r\n      result[targetKey] = merge(result[targetKey], val);\r\n    } else if (isPlainObject(val)) {\r\n      result[targetKey] = merge({}, val);\r\n    } else if (isArray(val)) {\r\n      result[targetKey] = val.slice();\r\n    } else {\r\n      result[targetKey] = val;\r\n    }\r\n  }\r\n\r\n  for (let i = 0, l = arguments.length; i < l; i++) {\r\n    arguments[i] && forEach(arguments[i], assignValue);\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Extends object a by mutably adding to it the properties of object b.\r\n *\r\n * @param {Object} a The object to be extended\r\n * @param {Object} b The object to copy properties from\r\n * @param {Object} thisArg The object to bind function to\r\n *\r\n * @param {Boolean} [allOwnKeys]\r\n * @returns {Object} The resulting value of object a\r\n */\r\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\r\n  forEach(b, (val, key) => {\r\n    if (thisArg && isFunction(val)) {\r\n      a[key] = bind(val, thisArg);\r\n    } else {\r\n      a[key] = val;\r\n    }\r\n  }, {allOwnKeys});\r\n  return a;\r\n}\r\n\r\n/**\r\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\r\n *\r\n * @param {string} content with BOM\r\n *\r\n * @returns {string} content value without BOM\r\n */\r\nconst stripBOM = (content) => {\r\n  if (content.charCodeAt(0) === 0xFEFF) {\r\n    content = content.slice(1);\r\n  }\r\n  return content;\r\n}\r\n\r\n/**\r\n * Inherit the prototype methods from one constructor into another\r\n * @param {function} constructor\r\n * @param {function} superConstructor\r\n * @param {object} [props]\r\n * @param {object} [descriptors]\r\n *\r\n * @returns {void}\r\n */\r\nconst inherits = (constructor, superConstructor, props, descriptors) => {\r\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\r\n  constructor.prototype.constructor = constructor;\r\n  Object.defineProperty(constructor, 'super', {\r\n    value: superConstructor.prototype\r\n  });\r\n  props && Object.assign(constructor.prototype, props);\r\n}\r\n\r\n/**\r\n * Resolve object with deep prototype chain to a flat object\r\n * @param {Object} sourceObj source object\r\n * @param {Object} [destObj]\r\n * @param {Function|Boolean} [filter]\r\n * @param {Function} [propFilter]\r\n *\r\n * @returns {Object}\r\n */\r\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\r\n  let props;\r\n  let i;\r\n  let prop;\r\n  const merged = {};\r\n\r\n  destObj = destObj || {};\r\n  // eslint-disable-next-line no-eq-null,eqeqeq\r\n  if (sourceObj == null) return destObj;\r\n\r\n  do {\r\n    props = Object.getOwnPropertyNames(sourceObj);\r\n    i = props.length;\r\n    while (i-- > 0) {\r\n      prop = props[i];\r\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\r\n        destObj[prop] = sourceObj[prop];\r\n        merged[prop] = true;\r\n      }\r\n    }\r\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\r\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\r\n\r\n  return destObj;\r\n}\r\n\r\n/**\r\n * Determines whether a string ends with the characters of a specified string\r\n *\r\n * @param {String} str\r\n * @param {String} searchString\r\n * @param {Number} [position= 0]\r\n *\r\n * @returns {boolean}\r\n */\r\nconst endsWith = (str, searchString, position) => {\r\n  str = String(str);\r\n  if (position === undefined || position > str.length) {\r\n    position = str.length;\r\n  }\r\n  position -= searchString.length;\r\n  const lastIndex = str.indexOf(searchString, position);\r\n  return lastIndex !== -1 && lastIndex === position;\r\n}\r\n\r\n\r\n/**\r\n * Returns new array from array like object or null if failed\r\n *\r\n * @param {*} [thing]\r\n *\r\n * @returns {?Array}\r\n */\r\nconst toArray = (thing) => {\r\n  if (!thing) return null;\r\n  if (isArray(thing)) return thing;\r\n  let i = thing.length;\r\n  if (!isNumber(i)) return null;\r\n  const arr = new Array(i);\r\n  while (i-- > 0) {\r\n    arr[i] = thing[i];\r\n  }\r\n  return arr;\r\n}\r\n\r\n/**\r\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\r\n * thing passed in is an instance of Uint8Array\r\n *\r\n * @param {TypedArray}\r\n *\r\n * @returns {Array}\r\n */\r\n// eslint-disable-next-line func-names\r\nconst isTypedArray = (TypedArray => {\r\n  // eslint-disable-next-line func-names\r\n  return thing => {\r\n    return TypedArray && thing instanceof TypedArray;\r\n  };\r\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\r\n\r\n/**\r\n * For each entry in the object, call the function with the key and value.\r\n *\r\n * @param {Object<any, any>} obj - The object to iterate over.\r\n * @param {Function} fn - The function to call for each entry.\r\n *\r\n * @returns {void}\r\n */\r\nconst forEachEntry = (obj, fn) => {\r\n  const generator = obj && obj[Symbol.iterator];\r\n\r\n  const iterator = generator.call(obj);\r\n\r\n  let result;\r\n\r\n  while ((result = iterator.next()) && !result.done) {\r\n    const pair = result.value;\r\n    fn.call(obj, pair[0], pair[1]);\r\n  }\r\n}\r\n\r\n/**\r\n * It takes a regular expression and a string, and returns an array of all the matches\r\n *\r\n * @param {string} regExp - The regular expression to match against.\r\n * @param {string} str - The string to search.\r\n *\r\n * @returns {Array<boolean>}\r\n */\r\nconst matchAll = (regExp, str) => {\r\n  let matches;\r\n  const arr = [];\r\n\r\n  while ((matches = regExp.exec(str)) !== null) {\r\n    arr.push(matches);\r\n  }\r\n\r\n  return arr;\r\n}\r\n\r\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\r\nconst isHTMLForm = kindOfTest('HTMLFormElement');\r\n\r\nconst toCamelCase = str => {\r\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\r\n    function replacer(m, p1, p2) {\r\n      return p1.toUpperCase() + p2;\r\n    }\r\n  );\r\n};\r\n\r\n/* Creating a function that will check if an object has a property. */\r\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\r\n\r\n/**\r\n * Determine if a value is a RegExp object\r\n *\r\n * @param {*} val The value to test\r\n *\r\n * @returns {boolean} True if value is a RegExp object, otherwise false\r\n */\r\nconst isRegExp = kindOfTest('RegExp');\r\n\r\nconst reduceDescriptors = (obj, reducer) => {\r\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\r\n  const reducedDescriptors = {};\r\n\r\n  forEach(descriptors, (descriptor, name) => {\r\n    let ret;\r\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\r\n      reducedDescriptors[name] = ret || descriptor;\r\n    }\r\n  });\r\n\r\n  Object.defineProperties(obj, reducedDescriptors);\r\n}\r\n\r\n/**\r\n * Makes all methods read-only\r\n * @param {Object} obj\r\n */\r\n\r\nconst freezeMethods = (obj) => {\r\n  reduceDescriptors(obj, (descriptor, name) => {\r\n    // skip restricted props in strict mode\r\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\r\n      return false;\r\n    }\r\n\r\n    const value = obj[name];\r\n\r\n    if (!isFunction(value)) return;\r\n\r\n    descriptor.enumerable = false;\r\n\r\n    if ('writable' in descriptor) {\r\n      descriptor.writable = false;\r\n      return;\r\n    }\r\n\r\n    if (!descriptor.set) {\r\n      descriptor.set = () => {\r\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\r\n      };\r\n    }\r\n  });\r\n}\r\n\r\nconst toObjectSet = (arrayOrString, delimiter) => {\r\n  const obj = {};\r\n\r\n  const define = (arr) => {\r\n    arr.forEach(value => {\r\n      obj[value] = true;\r\n    });\r\n  }\r\n\r\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\r\n\r\n  return obj;\r\n}\r\n\r\nconst noop = () => {}\r\n\r\nconst toFiniteNumber = (value, defaultValue) => {\r\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\r\n}\r\n\r\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\r\n\r\nconst DIGIT = '0123456789';\r\n\r\nconst ALPHABET = {\r\n  DIGIT,\r\n  ALPHA,\r\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\r\n}\r\n\r\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\r\n  let str = '';\r\n  const {length} = alphabet;\r\n  while (size--) {\r\n    str += alphabet[Math.random() * length|0]\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n/**\r\n * If the thing is a FormData object, return true, otherwise return false.\r\n *\r\n * @param {unknown} thing - The thing to check.\r\n *\r\n * @returns {boolean}\r\n */\r\nfunction isSpecCompliantForm(thing) {\r\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\r\n}\r\n\r\nconst toJSONObject = (obj) => {\r\n  const stack = new Array(10);\r\n\r\n  const visit = (source, i) => {\r\n\r\n    if (isObject(source)) {\r\n      if (stack.indexOf(source) >= 0) {\r\n        return;\r\n      }\r\n\r\n      if(!('toJSON' in source)) {\r\n        stack[i] = source;\r\n        const target = isArray(source) ? [] : {};\r\n\r\n        forEach(source, (value, key) => {\r\n          const reducedValue = visit(value, i + 1);\r\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\r\n        });\r\n\r\n        stack[i] = undefined;\r\n\r\n        return target;\r\n      }\r\n    }\r\n\r\n    return source;\r\n  }\r\n\r\n  return visit(obj, 0);\r\n}\r\n\r\nconst isAsyncFn = kindOfTest('AsyncFunction');\r\n\r\nconst isThenable = (thing) =>\r\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\r\n\r\n// original code\r\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\r\n\r\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\r\n  if (setImmediateSupported) {\r\n    return setImmediate;\r\n  }\r\n\r\n  return postMessageSupported ? ((token, callbacks) => {\r\n    _global.addEventListener(\"message\", ({source, data}) => {\r\n      if (source === _global && data === token) {\r\n        callbacks.length && callbacks.shift()();\r\n      }\r\n    }, false);\r\n\r\n    return (cb) => {\r\n      callbacks.push(cb);\r\n      _global.postMessage(token, \"*\");\r\n    }\r\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\r\n})(\r\n  typeof setImmediate === 'function',\r\n  isFunction(_global.postMessage)\r\n);\r\n\r\nconst asap = typeof queueMicrotask !== 'undefined' ?\r\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\r\n\r\n// *********************\r\n\r\nexport default {\r\n  isArray,\r\n  isArrayBuffer,\r\n  isBuffer,\r\n  isFormData,\r\n  isArrayBufferView,\r\n  isString,\r\n  isNumber,\r\n  isBoolean,\r\n  isObject,\r\n  isPlainObject,\r\n  isReadableStream,\r\n  isRequest,\r\n  isResponse,\r\n  isHeaders,\r\n  isUndefined,\r\n  isDate,\r\n  isFile,\r\n  isBlob,\r\n  isRegExp,\r\n  isFunction,\r\n  isStream,\r\n  isURLSearchParams,\r\n  isTypedArray,\r\n  isFileList,\r\n  forEach,\r\n  merge,\r\n  extend,\r\n  trim,\r\n  stripBOM,\r\n  inherits,\r\n  toFlatObject,\r\n  kindOf,\r\n  kindOfTest,\r\n  endsWith,\r\n  toArray,\r\n  forEachEntry,\r\n  matchAll,\r\n  isHTMLForm,\r\n  hasOwnProperty,\r\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\r\n  reduceDescriptors,\r\n  freezeMethods,\r\n  toObjectSet,\r\n  toCamelCase,\r\n  noop,\r\n  toFiniteNumber,\r\n  findKey,\r\n  global: _global,\r\n  isContextDefined,\r\n  ALPHABET,\r\n  generateString,\r\n  isSpecCompliantForm,\r\n  toJSONObject,\r\n  isAsyncFn,\r\n  isThenable,\r\n  setImmediate: _setImmediate,\r\n  asap\r\n};\r\n","'use strict';\r\n\r\nimport utils from '../utils.js';\r\n\r\n/**\r\n * Create an Error with the specified message, config, error code, request and response.\r\n *\r\n * @param {string} message The error message.\r\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\r\n * @param {Object} [config] The config.\r\n * @param {Object} [request] The request.\r\n * @param {Object} [response] The response.\r\n *\r\n * @returns {Error} The created error.\r\n */\r\nfunction AxiosError(message, code, config, request, response) {\r\n  Error.call(this);\r\n\r\n  if (Error.captureStackTrace) {\r\n    Error.captureStackTrace(this, this.constructor);\r\n  } else {\r\n    this.stack = (new Error()).stack;\r\n  }\r\n\r\n  this.message = message;\r\n  this.name = 'AxiosError';\r\n  code && (this.code = code);\r\n  config && (this.config = config);\r\n  request && (this.request = request);\r\n  if (response) {\r\n    this.response = response;\r\n    this.status = response.status ? response.status : null;\r\n  }\r\n}\r\n\r\nutils.inherits(AxiosError, Error, {\r\n  toJSON: function toJSON() {\r\n    return {\r\n      // Standard\r\n      message: this.message,\r\n      name: this.name,\r\n      // Microsoft\r\n      description: this.description,\r\n      number: this.number,\r\n      // Mozilla\r\n      fileName: this.fileName,\r\n      lineNumber: this.lineNumber,\r\n      columnNumber: this.columnNumber,\r\n      stack: this.stack,\r\n      // Axios\r\n      config: utils.toJSONObject(this.config),\r\n      code: this.code,\r\n      status: this.status\r\n    };\r\n  }\r\n});\r\n\r\nconst prototype = AxiosError.prototype;\r\nconst descriptors = {};\r\n\r\n[\r\n  'ERR_BAD_OPTION_VALUE',\r\n  'ERR_BAD_OPTION',\r\n  'ECONNABORTED',\r\n  'ETIMEDOUT',\r\n  'ERR_NETWORK',\r\n  'ERR_FR_TOO_MANY_REDIRECTS',\r\n  'ERR_DEPRECATED',\r\n  'ERR_BAD_RESPONSE',\r\n  'ERR_BAD_REQUEST',\r\n  'ERR_CANCELED',\r\n  'ERR_NOT_SUPPORT',\r\n  'ERR_INVALID_URL'\r\n// eslint-disable-next-line func-names\r\n].forEach(code => {\r\n  descriptors[code] = {value: code};\r\n});\r\n\r\nObject.defineProperties(AxiosError, descriptors);\r\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\r\n\r\n// eslint-disable-next-line func-names\r\nAxiosError.from = (error, code, config, request, response, customProps) => {\r\n  const axiosError = Object.create(prototype);\r\n\r\n  utils.toFlatObject(error, axiosError, function filter(obj) {\r\n    return obj !== Error.prototype;\r\n  }, prop => {\r\n    return prop !== 'isAxiosError';\r\n  });\r\n\r\n  AxiosError.call(axiosError, error.message, code, config, request, response);\r\n\r\n  axiosError.cause = error;\r\n\r\n  axiosError.name = error.name;\r\n\r\n  customProps && Object.assign(axiosError, customProps);\r\n\r\n  return axiosError;\r\n};\r\n\r\nexport default AxiosError;\r\n","'use strict';\r\n\r\nimport utils from '../utils.js';\r\nimport AxiosError from '../core/AxiosError.js';\r\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\r\nimport PlatformFormData from '../platform/node/classes/FormData.js';\r\n\r\n/**\r\n * Determines if the given thing is a array or js object.\r\n *\r\n * @param {string} thing - The object or array to be visited.\r\n *\r\n * @returns {boolean}\r\n */\r\nfunction isVisitable(thing) {\r\n  return utils.isPlainObject(thing) || utils.isArray(thing);\r\n}\r\n\r\n/**\r\n * It removes the brackets from the end of a string\r\n *\r\n * @param {string} key - The key of the parameter.\r\n *\r\n * @returns {string} the key without the brackets.\r\n */\r\nfunction removeBrackets(key) {\r\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\r\n}\r\n\r\n/**\r\n * It takes a path, a key, and a boolean, and returns a string\r\n *\r\n * @param {string} path - The path to the current key.\r\n * @param {string} key - The key of the current object being iterated over.\r\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\r\n *\r\n * @returns {string} The path to the current key.\r\n */\r\nfunction renderKey(path, key, dots) {\r\n  if (!path) return key;\r\n  return path.concat(key).map(function each(token, i) {\r\n    // eslint-disable-next-line no-param-reassign\r\n    token = removeBrackets(token);\r\n    return !dots && i ? '[' + token + ']' : token;\r\n  }).join(dots ? '.' : '');\r\n}\r\n\r\n/**\r\n * If the array is an array and none of its elements are visitable, then it's a flat array.\r\n *\r\n * @param {Array<any>} arr - The array to check\r\n *\r\n * @returns {boolean}\r\n */\r\nfunction isFlatArray(arr) {\r\n  return utils.isArray(arr) && !arr.some(isVisitable);\r\n}\r\n\r\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\r\n  return /^is[A-Z]/.test(prop);\r\n});\r\n\r\n/**\r\n * Convert a data object to FormData\r\n *\r\n * @param {Object} obj\r\n * @param {?Object} [formData]\r\n * @param {?Object} [options]\r\n * @param {Function} [options.visitor]\r\n * @param {Boolean} [options.metaTokens = true]\r\n * @param {Boolean} [options.dots = false]\r\n * @param {?Boolean} [options.indexes = false]\r\n *\r\n * @returns {Object}\r\n **/\r\n\r\n/**\r\n * It converts an object into a FormData object\r\n *\r\n * @param {Object<any, any>} obj - The object to convert to form data.\r\n * @param {string} formData - The FormData object to append to.\r\n * @param {Object<string, any>} options\r\n *\r\n * @returns\r\n */\r\nfunction toFormData(obj, formData, options) {\r\n  if (!utils.isObject(obj)) {\r\n    throw new TypeError('target must be an object');\r\n  }\r\n\r\n  // eslint-disable-next-line no-param-reassign\r\n  formData = formData || new (PlatformFormData || FormData)();\r\n\r\n  // eslint-disable-next-line no-param-reassign\r\n  options = utils.toFlatObject(options, {\r\n    metaTokens: true,\r\n    dots: false,\r\n    indexes: false\r\n  }, false, function defined(option, source) {\r\n    // eslint-disable-next-line no-eq-null,eqeqeq\r\n    return !utils.isUndefined(source[option]);\r\n  });\r\n\r\n  const metaTokens = options.metaTokens;\r\n  // eslint-disable-next-line no-use-before-define\r\n  const visitor = options.visitor || defaultVisitor;\r\n  const dots = options.dots;\r\n  const indexes = options.indexes;\r\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\r\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\r\n\r\n  if (!utils.isFunction(visitor)) {\r\n    throw new TypeError('visitor must be a function');\r\n  }\r\n\r\n  function convertValue(value) {\r\n    if (value === null) return '';\r\n\r\n    if (utils.isDate(value)) {\r\n      return value.toISOString();\r\n    }\r\n\r\n    if (!useBlob && utils.isBlob(value)) {\r\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\r\n    }\r\n\r\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\r\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * Default visitor.\r\n   *\r\n   * @param {*} value\r\n   * @param {String|Number} key\r\n   * @param {Array<String|Number>} path\r\n   * @this {FormData}\r\n   *\r\n   * @returns {boolean} return true to visit the each prop of the value recursively\r\n   */\r\n  function defaultVisitor(value, key, path) {\r\n    let arr = value;\r\n\r\n    if (value && !path && typeof value === 'object') {\r\n      if (utils.endsWith(key, '{}')) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        key = metaTokens ? key : key.slice(0, -2);\r\n        // eslint-disable-next-line no-param-reassign\r\n        value = JSON.stringify(value);\r\n      } else if (\r\n        (utils.isArray(value) && isFlatArray(value)) ||\r\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\r\n        )) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        key = removeBrackets(key);\r\n\r\n        arr.forEach(function each(el, index) {\r\n          !(utils.isUndefined(el) || el === null) && formData.append(\r\n            // eslint-disable-next-line no-nested-ternary\r\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\r\n            convertValue(el)\r\n          );\r\n        });\r\n        return false;\r\n      }\r\n    }\r\n\r\n    if (isVisitable(value)) {\r\n      return true;\r\n    }\r\n\r\n    formData.append(renderKey(path, key, dots), convertValue(value));\r\n\r\n    return false;\r\n  }\r\n\r\n  const stack = [];\r\n\r\n  const exposedHelpers = Object.assign(predicates, {\r\n    defaultVisitor,\r\n    convertValue,\r\n    isVisitable\r\n  });\r\n\r\n  function build(value, path) {\r\n    if (utils.isUndefined(value)) return;\r\n\r\n    if (stack.indexOf(value) !== -1) {\r\n      throw Error('Circular reference detected in ' + path.join('.'));\r\n    }\r\n\r\n    stack.push(value);\r\n\r\n    utils.forEach(value, function each(el, key) {\r\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\r\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\r\n      );\r\n\r\n      if (result === true) {\r\n        build(el, path ? path.concat(key) : [key]);\r\n      }\r\n    });\r\n\r\n    stack.pop();\r\n  }\r\n\r\n  if (!utils.isObject(obj)) {\r\n    throw new TypeError('data must be an object');\r\n  }\r\n\r\n  build(obj);\r\n\r\n  return formData;\r\n}\r\n\r\nexport default toFormData;\r\n","'use strict';\r\n\r\nimport toFormData from './toFormData.js';\r\n\r\n/**\r\n * It encodes a string by replacing all characters that are not in the unreserved set with\r\n * their percent-encoded equivalents\r\n *\r\n * @param {string} str - The string to encode.\r\n *\r\n * @returns {string} The encoded string.\r\n */\r\nfunction encode(str) {\r\n  const charMap = {\r\n    '!': '%21',\r\n    \"'\": '%27',\r\n    '(': '%28',\r\n    ')': '%29',\r\n    '~': '%7E',\r\n    '%20': '+',\r\n    '%00': '\\x00'\r\n  };\r\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\r\n    return charMap[match];\r\n  });\r\n}\r\n\r\n/**\r\n * It takes a params object and converts it to a FormData object\r\n *\r\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\r\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\r\n *\r\n * @returns {void}\r\n */\r\nfunction AxiosURLSearchParams(params, options) {\r\n  this._pairs = [];\r\n\r\n  params && toFormData(params, this, options);\r\n}\r\n\r\nconst prototype = AxiosURLSearchParams.prototype;\r\n\r\nprototype.append = function append(name, value) {\r\n  this._pairs.push([name, value]);\r\n};\r\n\r\nprototype.toString = function toString(encoder) {\r\n  const _encode = encoder ? function(value) {\r\n    return encoder.call(this, value, encode);\r\n  } : encode;\r\n\r\n  return this._pairs.map(function each(pair) {\r\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\r\n  }, '').join('&');\r\n};\r\n\r\nexport default AxiosURLSearchParams;\r\n","'use strict';\r\n\r\nimport utils from '../utils.js';\r\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\r\n\r\n/**\r\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\r\n * URI encoded counterparts\r\n *\r\n * @param {string} val The value to be encoded.\r\n *\r\n * @returns {string} The encoded value.\r\n */\r\nfunction encode(val) {\r\n  return encodeURIComponent(val).\r\n    replace(/%3A/gi, ':').\r\n    replace(/%24/g, '$').\r\n    replace(/%2C/gi, ',').\r\n    replace(/%20/g, '+').\r\n    replace(/%5B/gi, '[').\r\n    replace(/%5D/gi, ']');\r\n}\r\n\r\n/**\r\n * Build a URL by appending params to the end\r\n *\r\n * @param {string} url The base of the url (e.g., http://www.google.com)\r\n * @param {object} [params] The params to be appended\r\n * @param {?(object|Function)} options\r\n *\r\n * @returns {string} The formatted url\r\n */\r\nexport default function buildURL(url, params, options) {\r\n  /*eslint no-param-reassign:0*/\r\n  if (!params) {\r\n    return url;\r\n  }\r\n  \r\n  const _encode = options && options.encode || encode;\r\n\r\n  if (utils.isFunction(options)) {\r\n    options = {\r\n      serialize: options\r\n    };\r\n  } \r\n\r\n  const serializeFn = options && options.serialize;\r\n\r\n  let serializedParams;\r\n\r\n  if (serializeFn) {\r\n    serializedParams = serializeFn(params, options);\r\n  } else {\r\n    serializedParams = utils.isURLSearchParams(params) ?\r\n      params.toString() :\r\n      new AxiosURLSearchParams(params, options).toString(_encode);\r\n  }\r\n\r\n  if (serializedParams) {\r\n    const hashmarkIndex = url.indexOf(\"#\");\r\n\r\n    if (hashmarkIndex !== -1) {\r\n      url = url.slice(0, hashmarkIndex);\r\n    }\r\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\r\n  }\r\n\r\n  return url;\r\n}\r\n","'use strict';\r\n\r\nimport utils from './../utils.js';\r\n\r\nclass InterceptorManager {\r\n  constructor() {\r\n    this.handlers = [];\r\n  }\r\n\r\n  /**\r\n   * Add a new interceptor to the stack\r\n   *\r\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\r\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\r\n   *\r\n   * @return {Number} An ID used to remove interceptor later\r\n   */\r\n  use(fulfilled, rejected, options) {\r\n    this.handlers.push({\r\n      fulfilled,\r\n      rejected,\r\n      synchronous: options ? options.synchronous : false,\r\n      runWhen: options ? options.runWhen : null\r\n    });\r\n    return this.handlers.length - 1;\r\n  }\r\n\r\n  /**\r\n   * Remove an interceptor from the stack\r\n   *\r\n   * @param {Number} id The ID that was returned by `use`\r\n   *\r\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\r\n   */\r\n  eject(id) {\r\n    if (this.handlers[id]) {\r\n      this.handlers[id] = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear all interceptors from the stack\r\n   *\r\n   * @returns {void}\r\n   */\r\n  clear() {\r\n    if (this.handlers) {\r\n      this.handlers = [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Iterate over all the registered interceptors\r\n   *\r\n   * This method is particularly useful for skipping over any\r\n   * interceptors that may have become `null` calling `eject`.\r\n   *\r\n   * @param {Function} fn The function to call for each interceptor\r\n   *\r\n   * @returns {void}\r\n   */\r\n  forEach(fn) {\r\n    utils.forEach(this.handlers, function forEachHandler(h) {\r\n      if (h !== null) {\r\n        fn(h);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default InterceptorManager;\r\n","'use strict';\r\n\r\nexport default {\r\n  silentJSONParsing: true,\r\n  forcedJSONParsing: true,\r\n  clarifyTimeoutError: false\r\n};\r\n","import URLSearchParams from './classes/URLSearchParams.js'\r\nimport FormData from './classes/FormData.js'\r\nimport Blob from './classes/Blob.js'\r\n\r\nexport default {\r\n  isBrowser: true,\r\n  classes: {\r\n    URLSearchParams,\r\n    FormData,\r\n    Blob\r\n  },\r\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\r\n};\r\n","'use strict';\r\n\r\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\r\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\r\n","'use strict';\r\n\r\nexport default typeof FormData !== 'undefined' ? FormData : null;\r\n","'use strict'\r\n\r\nexport default typeof Blob !== 'undefined' ? Blob : null\r\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\r\n\r\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\r\n\r\n/**\r\n * Determine if we're running in a standard browser environment\r\n *\r\n * This allows axios to run in a web worker, and react-native.\r\n * Both environments support XMLHttpRequest, but not fully standard globals.\r\n *\r\n * web workers:\r\n *  typeof window -> undefined\r\n *  typeof document -> undefined\r\n *\r\n * react-native:\r\n *  navigator.product -> 'ReactNative'\r\n * nativescript\r\n *  navigator.product -> 'NativeScript' or 'NS'\r\n *\r\n * @returns {boolean}\r\n */\r\nconst hasStandardBrowserEnv = hasBrowserEnv &&\r\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\r\n\r\n/**\r\n * Determine if we're running in a standard browser webWorker environment\r\n *\r\n * Although the `isStandardBrowserEnv` method indicates that\r\n * `allows axios to run in a web worker`, the WebWorker will still be\r\n * filtered out due to its judgment standard\r\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\r\n * This leads to a problem when axios post `FormData` in webWorker\r\n */\r\nconst hasStandardBrowserWebWorkerEnv = (() => {\r\n  return (\r\n    typeof WorkerGlobalScope !== 'undefined' &&\r\n    // eslint-disable-next-line no-undef\r\n    self instanceof WorkerGlobalScope &&\r\n    typeof self.importScripts === 'function'\r\n  );\r\n})();\r\n\r\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\r\n\r\nexport {\r\n  hasBrowserEnv,\r\n  hasStandardBrowserWebWorkerEnv,\r\n  hasStandardBrowserEnv,\r\n  _navigator as navigator,\r\n  origin\r\n}\r\n","import platform from './node/index.js';\r\nimport * as utils from './common/utils.js';\r\n\r\nexport default {\r\n  ...utils,\r\n  ...platform\r\n}\r\n","'use strict';\r\n\r\nimport utils from '../utils.js';\r\n\r\n/**\r\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\r\n *\r\n * @param {string} name - The name of the property to get.\r\n *\r\n * @returns An array of strings.\r\n */\r\nfunction parsePropPath(name) {\r\n  // foo[x][y][z]\r\n  // foo.x.y.z\r\n  // foo-x-y-z\r\n  // foo x y z\r\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\r\n    return match[0] === '[]' ? '' : match[1] || match[0];\r\n  });\r\n}\r\n\r\n/**\r\n * Convert an array to an object.\r\n *\r\n * @param {Array<any>} arr - The array to convert to an object.\r\n *\r\n * @returns An object with the same keys and values as the array.\r\n */\r\nfunction arrayToObject(arr) {\r\n  const obj = {};\r\n  const keys = Object.keys(arr);\r\n  let i;\r\n  const len = keys.length;\r\n  let key;\r\n  for (i = 0; i < len; i++) {\r\n    key = keys[i];\r\n    obj[key] = arr[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * It takes a FormData object and returns a JavaScript object\r\n *\r\n * @param {string} formData The FormData object to convert to JSON.\r\n *\r\n * @returns {Object<string, any> | null} The converted object.\r\n */\r\nfunction formDataToJSON(formData) {\r\n  function buildPath(path, value, target, index) {\r\n    let name = path[index++];\r\n\r\n    if (name === '__proto__') return true;\r\n\r\n    const isNumericKey = Number.isFinite(+name);\r\n    const isLast = index >= path.length;\r\n    name = !name && utils.isArray(target) ? target.length : name;\r\n\r\n    if (isLast) {\r\n      if (utils.hasOwnProp(target, name)) {\r\n        target[name] = [target[name], value];\r\n      } else {\r\n        target[name] = value;\r\n      }\r\n\r\n      return !isNumericKey;\r\n    }\r\n\r\n    if (!target[name] || !utils.isObject(target[name])) {\r\n      target[name] = [];\r\n    }\r\n\r\n    const result = buildPath(path, value, target[name], index);\r\n\r\n    if (result && utils.isArray(target[name])) {\r\n      target[name] = arrayToObject(target[name]);\r\n    }\r\n\r\n    return !isNumericKey;\r\n  }\r\n\r\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\r\n    const obj = {};\r\n\r\n    utils.forEachEntry(formData, (name, value) => {\r\n      buildPath(parsePropPath(name), value, obj, 0);\r\n    });\r\n\r\n    return obj;\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default formDataToJSON;\r\n","'use strict';\r\n\r\nimport utils from '../utils.js';\r\nimport AxiosError from '../core/AxiosError.js';\r\nimport transitionalDefaults from './transitional.js';\r\nimport toFormData from '../helpers/toFormData.js';\r\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\r\nimport platform from '../platform/index.js';\r\nimport formDataToJSON from '../helpers/formDataToJSON.js';\r\n\r\n/**\r\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\r\n * of the input\r\n *\r\n * @param {any} rawValue - The value to be stringified.\r\n * @param {Function} parser - A function that parses a string into a JavaScript object.\r\n * @param {Function} encoder - A function that takes a value and returns a string.\r\n *\r\n * @returns {string} A stringified version of the rawValue.\r\n */\r\nfunction stringifySafely(rawValue, parser, encoder) {\r\n  if (utils.isString(rawValue)) {\r\n    try {\r\n      (parser || JSON.parse)(rawValue);\r\n      return utils.trim(rawValue);\r\n    } catch (e) {\r\n      if (e.name !== 'SyntaxError') {\r\n        throw e;\r\n      }\r\n    }\r\n  }\r\n\r\n  return (encoder || JSON.stringify)(rawValue);\r\n}\r\n\r\nconst defaults = {\r\n\r\n  transitional: transitionalDefaults,\r\n\r\n  adapter: ['xhr', 'http', 'fetch'],\r\n\r\n  transformRequest: [function transformRequest(data, headers) {\r\n    const contentType = headers.getContentType() || '';\r\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\r\n    const isObjectPayload = utils.isObject(data);\r\n\r\n    if (isObjectPayload && utils.isHTMLForm(data)) {\r\n      data = new FormData(data);\r\n    }\r\n\r\n    const isFormData = utils.isFormData(data);\r\n\r\n    if (isFormData) {\r\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\r\n    }\r\n\r\n    if (utils.isArrayBuffer(data) ||\r\n      utils.isBuffer(data) ||\r\n      utils.isStream(data) ||\r\n      utils.isFile(data) ||\r\n      utils.isBlob(data) ||\r\n      utils.isReadableStream(data)\r\n    ) {\r\n      return data;\r\n    }\r\n    if (utils.isArrayBufferView(data)) {\r\n      return data.buffer;\r\n    }\r\n    if (utils.isURLSearchParams(data)) {\r\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\r\n      return data.toString();\r\n    }\r\n\r\n    let isFileList;\r\n\r\n    if (isObjectPayload) {\r\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\r\n        return toURLEncodedForm(data, this.formSerializer).toString();\r\n      }\r\n\r\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\r\n        const _FormData = this.env && this.env.FormData;\r\n\r\n        return toFormData(\r\n          isFileList ? {'files[]': data} : data,\r\n          _FormData && new _FormData(),\r\n          this.formSerializer\r\n        );\r\n      }\r\n    }\r\n\r\n    if (isObjectPayload || hasJSONContentType ) {\r\n      headers.setContentType('application/json', false);\r\n      return stringifySafely(data);\r\n    }\r\n\r\n    return data;\r\n  }],\r\n\r\n  transformResponse: [function transformResponse(data) {\r\n    const transitional = this.transitional || defaults.transitional;\r\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\r\n    const JSONRequested = this.responseType === 'json';\r\n\r\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\r\n      return data;\r\n    }\r\n\r\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\r\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\r\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\r\n\r\n      try {\r\n        return JSON.parse(data);\r\n      } catch (e) {\r\n        if (strictJSONParsing) {\r\n          if (e.name === 'SyntaxError') {\r\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\r\n          }\r\n          throw e;\r\n        }\r\n      }\r\n    }\r\n\r\n    return data;\r\n  }],\r\n\r\n  /**\r\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\r\n   * timeout is not created.\r\n   */\r\n  timeout: 0,\r\n\r\n  xsrfCookieName: 'XSRF-TOKEN',\r\n  xsrfHeaderName: 'X-XSRF-TOKEN',\r\n\r\n  maxContentLength: -1,\r\n  maxBodyLength: -1,\r\n\r\n  env: {\r\n    FormData: platform.classes.FormData,\r\n    Blob: platform.classes.Blob\r\n  },\r\n\r\n  validateStatus: function validateStatus(status) {\r\n    return status >= 200 && status < 300;\r\n  },\r\n\r\n  headers: {\r\n    common: {\r\n      'Accept': 'application/json, text/plain, */*',\r\n      'Content-Type': undefined\r\n    }\r\n  }\r\n};\r\n\r\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\r\n  defaults.headers[method] = {};\r\n});\r\n\r\nexport default defaults;\r\n","'use strict';\r\n\r\nimport utils from '../utils.js';\r\nimport toFormData from './toFormData.js';\r\nimport platform from '../platform/index.js';\r\n\r\nexport default function toURLEncodedForm(data, options) {\r\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\r\n    visitor: function(value, key, path, helpers) {\r\n      if (platform.isNode && utils.isBuffer(value)) {\r\n        this.append(key, value.toString('base64'));\r\n        return false;\r\n      }\r\n\r\n      return helpers.defaultVisitor.apply(this, arguments);\r\n    }\r\n  }, options));\r\n}\r\n","'use strict';\r\n\r\nimport utils from './../utils.js';\r\n\r\n// RawAxiosHeaders whose duplicates are ignored by node\r\n// c.f. https://nodejs.org/api/http.html#http_message_headers\r\nconst ignoreDuplicateOf = utils.toObjectSet([\r\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\r\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\r\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\r\n  'referer', 'retry-after', 'user-agent'\r\n]);\r\n\r\n/**\r\n * Parse headers into an object\r\n *\r\n * ```\r\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\r\n * Content-Type: application/json\r\n * Connection: keep-alive\r\n * Transfer-Encoding: chunked\r\n * ```\r\n *\r\n * @param {String} rawHeaders Headers needing to be parsed\r\n *\r\n * @returns {Object} Headers parsed into an object\r\n */\r\nexport default rawHeaders => {\r\n  const parsed = {};\r\n  let key;\r\n  let val;\r\n  let i;\r\n\r\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\r\n    i = line.indexOf(':');\r\n    key = line.substring(0, i).trim().toLowerCase();\r\n    val = line.substring(i + 1).trim();\r\n\r\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\r\n      return;\r\n    }\r\n\r\n    if (key === 'set-cookie') {\r\n      if (parsed[key]) {\r\n        parsed[key].push(val);\r\n      } else {\r\n        parsed[key] = [val];\r\n      }\r\n    } else {\r\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\r\n    }\r\n  });\r\n\r\n  return parsed;\r\n};\r\n","'use strict';\r\n\r\nimport utils from '../utils.js';\r\nimport parseHeaders from '../helpers/parseHeaders.js';\r\n\r\nconst $internals = Symbol('internals');\r\n\r\nfunction normalizeHeader(header) {\r\n  return header && String(header).trim().toLowerCase();\r\n}\r\n\r\nfunction normalizeValue(value) {\r\n  if (value === false || value == null) {\r\n    return value;\r\n  }\r\n\r\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\r\n}\r\n\r\nfunction parseTokens(str) {\r\n  const tokens = Object.create(null);\r\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\r\n  let match;\r\n\r\n  while ((match = tokensRE.exec(str))) {\r\n    tokens[match[1]] = match[2];\r\n  }\r\n\r\n  return tokens;\r\n}\r\n\r\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\r\n\r\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\r\n  if (utils.isFunction(filter)) {\r\n    return filter.call(this, value, header);\r\n  }\r\n\r\n  if (isHeaderNameFilter) {\r\n    value = header;\r\n  }\r\n\r\n  if (!utils.isString(value)) return;\r\n\r\n  if (utils.isString(filter)) {\r\n    return value.indexOf(filter) !== -1;\r\n  }\r\n\r\n  if (utils.isRegExp(filter)) {\r\n    return filter.test(value);\r\n  }\r\n}\r\n\r\nfunction formatHeader(header) {\r\n  return header.trim()\r\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\r\n      return char.toUpperCase() + str;\r\n    });\r\n}\r\n\r\nfunction buildAccessors(obj, header) {\r\n  const accessorName = utils.toCamelCase(' ' + header);\r\n\r\n  ['get', 'set', 'has'].forEach(methodName => {\r\n    Object.defineProperty(obj, methodName + accessorName, {\r\n      value: function(arg1, arg2, arg3) {\r\n        return this[methodName].call(this, header, arg1, arg2, arg3);\r\n      },\r\n      configurable: true\r\n    });\r\n  });\r\n}\r\n\r\nclass AxiosHeaders {\r\n  constructor(headers) {\r\n    headers && this.set(headers);\r\n  }\r\n\r\n  set(header, valueOrRewrite, rewrite) {\r\n    const self = this;\r\n\r\n    function setHeader(_value, _header, _rewrite) {\r\n      const lHeader = normalizeHeader(_header);\r\n\r\n      if (!lHeader) {\r\n        throw new Error('header name must be a non-empty string');\r\n      }\r\n\r\n      const key = utils.findKey(self, lHeader);\r\n\r\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\r\n        self[key || _header] = normalizeValue(_value);\r\n      }\r\n    }\r\n\r\n    const setHeaders = (headers, _rewrite) =>\r\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\r\n\r\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\r\n      setHeaders(header, valueOrRewrite)\r\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\r\n      setHeaders(parseHeaders(header), valueOrRewrite);\r\n    } else if (utils.isHeaders(header)) {\r\n      for (const [key, value] of header.entries()) {\r\n        setHeader(value, key, rewrite);\r\n      }\r\n    } else {\r\n      header != null && setHeader(valueOrRewrite, header, rewrite);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  get(header, parser) {\r\n    header = normalizeHeader(header);\r\n\r\n    if (header) {\r\n      const key = utils.findKey(this, header);\r\n\r\n      if (key) {\r\n        const value = this[key];\r\n\r\n        if (!parser) {\r\n          return value;\r\n        }\r\n\r\n        if (parser === true) {\r\n          return parseTokens(value);\r\n        }\r\n\r\n        if (utils.isFunction(parser)) {\r\n          return parser.call(this, value, key);\r\n        }\r\n\r\n        if (utils.isRegExp(parser)) {\r\n          return parser.exec(value);\r\n        }\r\n\r\n        throw new TypeError('parser must be boolean|regexp|function');\r\n      }\r\n    }\r\n  }\r\n\r\n  has(header, matcher) {\r\n    header = normalizeHeader(header);\r\n\r\n    if (header) {\r\n      const key = utils.findKey(this, header);\r\n\r\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  delete(header, matcher) {\r\n    const self = this;\r\n    let deleted = false;\r\n\r\n    function deleteHeader(_header) {\r\n      _header = normalizeHeader(_header);\r\n\r\n      if (_header) {\r\n        const key = utils.findKey(self, _header);\r\n\r\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\r\n          delete self[key];\r\n\r\n          deleted = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (utils.isArray(header)) {\r\n      header.forEach(deleteHeader);\r\n    } else {\r\n      deleteHeader(header);\r\n    }\r\n\r\n    return deleted;\r\n  }\r\n\r\n  clear(matcher) {\r\n    const keys = Object.keys(this);\r\n    let i = keys.length;\r\n    let deleted = false;\r\n\r\n    while (i--) {\r\n      const key = keys[i];\r\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\r\n        delete this[key];\r\n        deleted = true;\r\n      }\r\n    }\r\n\r\n    return deleted;\r\n  }\r\n\r\n  normalize(format) {\r\n    const self = this;\r\n    const headers = {};\r\n\r\n    utils.forEach(this, (value, header) => {\r\n      const key = utils.findKey(headers, header);\r\n\r\n      if (key) {\r\n        self[key] = normalizeValue(value);\r\n        delete self[header];\r\n        return;\r\n      }\r\n\r\n      const normalized = format ? formatHeader(header) : String(header).trim();\r\n\r\n      if (normalized !== header) {\r\n        delete self[header];\r\n      }\r\n\r\n      self[normalized] = normalizeValue(value);\r\n\r\n      headers[normalized] = true;\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  concat(...targets) {\r\n    return this.constructor.concat(this, ...targets);\r\n  }\r\n\r\n  toJSON(asStrings) {\r\n    const obj = Object.create(null);\r\n\r\n    utils.forEach(this, (value, header) => {\r\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\r\n    });\r\n\r\n    return obj;\r\n  }\r\n\r\n  [Symbol.iterator]() {\r\n    return Object.entries(this.toJSON())[Symbol.iterator]();\r\n  }\r\n\r\n  toString() {\r\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\r\n  }\r\n\r\n  get [Symbol.toStringTag]() {\r\n    return 'AxiosHeaders';\r\n  }\r\n\r\n  static from(thing) {\r\n    return thing instanceof this ? thing : new this(thing);\r\n  }\r\n\r\n  static concat(first, ...targets) {\r\n    const computed = new this(first);\r\n\r\n    targets.forEach((target) => computed.set(target));\r\n\r\n    return computed;\r\n  }\r\n\r\n  static accessor(header) {\r\n    const internals = this[$internals] = (this[$internals] = {\r\n      accessors: {}\r\n    });\r\n\r\n    const accessors = internals.accessors;\r\n    const prototype = this.prototype;\r\n\r\n    function defineAccessor(_header) {\r\n      const lHeader = normalizeHeader(_header);\r\n\r\n      if (!accessors[lHeader]) {\r\n        buildAccessors(prototype, _header);\r\n        accessors[lHeader] = true;\r\n      }\r\n    }\r\n\r\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\r\n\r\n// reserved names hotfix\r\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\r\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\r\n  return {\r\n    get: () => value,\r\n    set(headerValue) {\r\n      this[mapped] = headerValue;\r\n    }\r\n  }\r\n});\r\n\r\nutils.freezeMethods(AxiosHeaders);\r\n\r\nexport default AxiosHeaders;\r\n","'use strict';\r\n\r\nimport utils from './../utils.js';\r\nimport defaults from '../defaults/index.js';\r\nimport AxiosHeaders from '../core/AxiosHeaders.js';\r\n\r\n/**\r\n * Transform the data for a request or a response\r\n *\r\n * @param {Array|Function} fns A single function or Array of functions\r\n * @param {?Object} response The response object\r\n *\r\n * @returns {*} The resulting transformed data\r\n */\r\nexport default function transformData(fns, response) {\r\n  const config = this || defaults;\r\n  const context = response || config;\r\n  const headers = AxiosHeaders.from(context.headers);\r\n  let data = context.data;\r\n\r\n  utils.forEach(fns, function transform(fn) {\r\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\r\n  });\r\n\r\n  headers.normalize();\r\n\r\n  return data;\r\n}\r\n","'use strict';\r\n\r\nexport default function isCancel(value) {\r\n  return !!(value && value.__CANCEL__);\r\n}\r\n","'use strict';\r\n\r\nimport AxiosError from '../core/AxiosError.js';\r\nimport utils from '../utils.js';\r\n\r\n/**\r\n * A `CanceledError` is an object that is thrown when an operation is canceled.\r\n *\r\n * @param {string=} message The message.\r\n * @param {Object=} config The config.\r\n * @param {Object=} request The request.\r\n *\r\n * @returns {CanceledError} The created error.\r\n */\r\nfunction CanceledError(message, config, request) {\r\n  // eslint-disable-next-line no-eq-null,eqeqeq\r\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\r\n  this.name = 'CanceledError';\r\n}\r\n\r\nutils.inherits(CanceledError, AxiosError, {\r\n  __CANCEL__: true\r\n});\r\n\r\nexport default CanceledError;\r\n","'use strict';\r\n\r\nimport AxiosError from './AxiosError.js';\r\n\r\n/**\r\n * Resolve or reject a Promise based on response status.\r\n *\r\n * @param {Function} resolve A function that resolves the promise.\r\n * @param {Function} reject A function that rejects the promise.\r\n * @param {object} response The response.\r\n *\r\n * @returns {object} The response.\r\n */\r\nexport default function settle(resolve, reject, response) {\r\n  const validateStatus = response.config.validateStatus;\r\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\r\n    resolve(response);\r\n  } else {\r\n    reject(new AxiosError(\r\n      'Request failed with status code ' + response.status,\r\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\r\n      response.config,\r\n      response.request,\r\n      response\r\n    ));\r\n  }\r\n}\r\n","'use strict';\r\n\r\n/**\r\n * Calculate data maxRate\r\n * @param {Number} [samplesCount= 10]\r\n * @param {Number} [min= 1000]\r\n * @returns {Function}\r\n */\r\nfunction speedometer(samplesCount, min) {\r\n  samplesCount = samplesCount || 10;\r\n  const bytes = new Array(samplesCount);\r\n  const timestamps = new Array(samplesCount);\r\n  let head = 0;\r\n  let tail = 0;\r\n  let firstSampleTS;\r\n\r\n  min = min !== undefined ? min : 1000;\r\n\r\n  return function push(chunkLength) {\r\n    const now = Date.now();\r\n\r\n    const startedAt = timestamps[tail];\r\n\r\n    if (!firstSampleTS) {\r\n      firstSampleTS = now;\r\n    }\r\n\r\n    bytes[head] = chunkLength;\r\n    timestamps[head] = now;\r\n\r\n    let i = tail;\r\n    let bytesCount = 0;\r\n\r\n    while (i !== head) {\r\n      bytesCount += bytes[i++];\r\n      i = i % samplesCount;\r\n    }\r\n\r\n    head = (head + 1) % samplesCount;\r\n\r\n    if (head === tail) {\r\n      tail = (tail + 1) % samplesCount;\r\n    }\r\n\r\n    if (now - firstSampleTS < min) {\r\n      return;\r\n    }\r\n\r\n    const passed = startedAt && now - startedAt;\r\n\r\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\r\n  };\r\n}\r\n\r\nexport default speedometer;\r\n","/**\r\n * Throttle decorator\r\n * @param {Function} fn\r\n * @param {Number} freq\r\n * @return {Function}\r\n */\r\nfunction throttle(fn, freq) {\r\n  let timestamp = 0;\r\n  let threshold = 1000 / freq;\r\n  let lastArgs;\r\n  let timer;\r\n\r\n  const invoke = (args, now = Date.now()) => {\r\n    timestamp = now;\r\n    lastArgs = null;\r\n    if (timer) {\r\n      clearTimeout(timer);\r\n      timer = null;\r\n    }\r\n    fn.apply(null, args);\r\n  }\r\n\r\n  const throttled = (...args) => {\r\n    const now = Date.now();\r\n    const passed = now - timestamp;\r\n    if ( passed >= threshold) {\r\n      invoke(args, now);\r\n    } else {\r\n      lastArgs = args;\r\n      if (!timer) {\r\n        timer = setTimeout(() => {\r\n          timer = null;\r\n          invoke(lastArgs)\r\n        }, threshold - passed);\r\n      }\r\n    }\r\n  }\r\n\r\n  const flush = () => lastArgs && invoke(lastArgs);\r\n\r\n  return [throttled, flush];\r\n}\r\n\r\nexport default throttle;\r\n","import speedometer from \"./speedometer.js\";\r\nimport throttle from \"./throttle.js\";\r\nimport utils from \"../utils.js\";\r\n\r\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\r\n  let bytesNotified = 0;\r\n  const _speedometer = speedometer(50, 250);\r\n\r\n  return throttle(e => {\r\n    const loaded = e.loaded;\r\n    const total = e.lengthComputable ? e.total : undefined;\r\n    const progressBytes = loaded - bytesNotified;\r\n    const rate = _speedometer(progressBytes);\r\n    const inRange = loaded <= total;\r\n\r\n    bytesNotified = loaded;\r\n\r\n    const data = {\r\n      loaded,\r\n      total,\r\n      progress: total ? (loaded / total) : undefined,\r\n      bytes: progressBytes,\r\n      rate: rate ? rate : undefined,\r\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\r\n      event: e,\r\n      lengthComputable: total != null,\r\n      [isDownloadStream ? 'download' : 'upload']: true\r\n    };\r\n\r\n    listener(data);\r\n  }, freq);\r\n}\r\n\r\nexport const progressEventDecorator = (total, throttled) => {\r\n  const lengthComputable = total != null;\r\n\r\n  return [(loaded) => throttled[0]({\r\n    lengthComputable,\r\n    total,\r\n    loaded\r\n  }), throttled[1]];\r\n}\r\n\r\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\r\n","import platform from '../platform/index.js';\r\n\r\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\r\n  url = new URL(url, platform.origin);\r\n\r\n  return (\r\n    origin.protocol === url.protocol &&\r\n    origin.host === url.host &&\r\n    (isMSIE || origin.port === url.port)\r\n  );\r\n})(\r\n  new URL(platform.origin),\r\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\r\n) : () => true;\r\n","import utils from './../utils.js';\r\nimport platform from '../platform/index.js';\r\n\r\nexport default platform.hasStandardBrowserEnv ?\r\n\r\n  // Standard browser envs support document.cookie\r\n  {\r\n    write(name, value, expires, path, domain, secure) {\r\n      const cookie = [name + '=' + encodeURIComponent(value)];\r\n\r\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\r\n\r\n      utils.isString(path) && cookie.push('path=' + path);\r\n\r\n      utils.isString(domain) && cookie.push('domain=' + domain);\r\n\r\n      secure === true && cookie.push('secure');\r\n\r\n      document.cookie = cookie.join('; ');\r\n    },\r\n\r\n    read(name) {\r\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\r\n      return (match ? decodeURIComponent(match[3]) : null);\r\n    },\r\n\r\n    remove(name) {\r\n      this.write(name, '', Date.now() - 86400000);\r\n    }\r\n  }\r\n\r\n  :\r\n\r\n  // Non-standard browser env (web workers, react-native) lack needed support.\r\n  {\r\n    write() {},\r\n    read() {\r\n      return null;\r\n    },\r\n    remove() {}\r\n  };\r\n\r\n","'use strict';\r\n\r\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\r\nimport combineURLs from '../helpers/combineURLs.js';\r\n\r\n/**\r\n * Creates a new URL by combining the baseURL with the requestedURL,\r\n * only when the requestedURL is not already an absolute URL.\r\n * If the requestURL is absolute, this function returns the requestedURL untouched.\r\n *\r\n * @param {string} baseURL The base URL\r\n * @param {string} requestedURL Absolute or relative URL to combine\r\n *\r\n * @returns {string} The combined full path\r\n */\r\nexport default function buildFullPath(baseURL, requestedURL) {\r\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\r\n    return combineURLs(baseURL, requestedURL);\r\n  }\r\n  return requestedURL;\r\n}\r\n","'use strict';\r\n\r\n/**\r\n * Determines whether the specified URL is absolute\r\n *\r\n * @param {string} url The URL to test\r\n *\r\n * @returns {boolean} True if the specified URL is absolute, otherwise false\r\n */\r\nexport default function isAbsoluteURL(url) {\r\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\r\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\r\n  // by any combination of letters, digits, plus, period, or hyphen.\r\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\r\n}\r\n","'use strict';\r\n\r\n/**\r\n * Creates a new URL by combining the specified URLs\r\n *\r\n * @param {string} baseURL The base URL\r\n * @param {string} relativeURL The relative URL\r\n *\r\n * @returns {string} The combined URL\r\n */\r\nexport default function combineURLs(baseURL, relativeURL) {\r\n  return relativeURL\r\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\r\n    : baseURL;\r\n}\r\n","'use strict';\r\n\r\nimport utils from '../utils.js';\r\nimport AxiosHeaders from \"./AxiosHeaders.js\";\r\n\r\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\r\n\r\n/**\r\n * Config-specific merge-function which creates a new config-object\r\n * by merging two configuration objects together.\r\n *\r\n * @param {Object} config1\r\n * @param {Object} config2\r\n *\r\n * @returns {Object} New object resulting from merging config2 to config1\r\n */\r\nexport default function mergeConfig(config1, config2) {\r\n  // eslint-disable-next-line no-param-reassign\r\n  config2 = config2 || {};\r\n  const config = {};\r\n\r\n  function getMergedValue(target, source, prop, caseless) {\r\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\r\n      return utils.merge.call({caseless}, target, source);\r\n    } else if (utils.isPlainObject(source)) {\r\n      return utils.merge({}, source);\r\n    } else if (utils.isArray(source)) {\r\n      return source.slice();\r\n    }\r\n    return source;\r\n  }\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  function mergeDeepProperties(a, b, prop , caseless) {\r\n    if (!utils.isUndefined(b)) {\r\n      return getMergedValue(a, b, prop , caseless);\r\n    } else if (!utils.isUndefined(a)) {\r\n      return getMergedValue(undefined, a, prop , caseless);\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  function valueFromConfig2(a, b) {\r\n    if (!utils.isUndefined(b)) {\r\n      return getMergedValue(undefined, b);\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  function defaultToConfig2(a, b) {\r\n    if (!utils.isUndefined(b)) {\r\n      return getMergedValue(undefined, b);\r\n    } else if (!utils.isUndefined(a)) {\r\n      return getMergedValue(undefined, a);\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  function mergeDirectKeys(a, b, prop) {\r\n    if (prop in config2) {\r\n      return getMergedValue(a, b);\r\n    } else if (prop in config1) {\r\n      return getMergedValue(undefined, a);\r\n    }\r\n  }\r\n\r\n  const mergeMap = {\r\n    url: valueFromConfig2,\r\n    method: valueFromConfig2,\r\n    data: valueFromConfig2,\r\n    baseURL: defaultToConfig2,\r\n    transformRequest: defaultToConfig2,\r\n    transformResponse: defaultToConfig2,\r\n    paramsSerializer: defaultToConfig2,\r\n    timeout: defaultToConfig2,\r\n    timeoutMessage: defaultToConfig2,\r\n    withCredentials: defaultToConfig2,\r\n    withXSRFToken: defaultToConfig2,\r\n    adapter: defaultToConfig2,\r\n    responseType: defaultToConfig2,\r\n    xsrfCookieName: defaultToConfig2,\r\n    xsrfHeaderName: defaultToConfig2,\r\n    onUploadProgress: defaultToConfig2,\r\n    onDownloadProgress: defaultToConfig2,\r\n    decompress: defaultToConfig2,\r\n    maxContentLength: defaultToConfig2,\r\n    maxBodyLength: defaultToConfig2,\r\n    beforeRedirect: defaultToConfig2,\r\n    transport: defaultToConfig2,\r\n    httpAgent: defaultToConfig2,\r\n    httpsAgent: defaultToConfig2,\r\n    cancelToken: defaultToConfig2,\r\n    socketPath: defaultToConfig2,\r\n    responseEncoding: defaultToConfig2,\r\n    validateStatus: mergeDirectKeys,\r\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\r\n  };\r\n\r\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\r\n    const merge = mergeMap[prop] || mergeDeepProperties;\r\n    const configValue = merge(config1[prop], config2[prop], prop);\r\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\r\n  });\r\n\r\n  return config;\r\n}\r\n","import platform from \"../platform/index.js\";\r\nimport utils from \"../utils.js\";\r\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\r\nimport cookies from \"./cookies.js\";\r\nimport buildFullPath from \"../core/buildFullPath.js\";\r\nimport mergeConfig from \"../core/mergeConfig.js\";\r\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\r\nimport buildURL from \"./buildURL.js\";\r\n\r\nexport default (config) => {\r\n  const newConfig = mergeConfig({}, config);\r\n\r\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\r\n\r\n  newConfig.headers = headers = AxiosHeaders.from(headers);\r\n\r\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);\r\n\r\n  // HTTP basic authentication\r\n  if (auth) {\r\n    headers.set('Authorization', 'Basic ' +\r\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\r\n    );\r\n  }\r\n\r\n  let contentType;\r\n\r\n  if (utils.isFormData(data)) {\r\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\r\n      headers.setContentType(undefined); // Let the browser set it\r\n    } else if ((contentType = headers.getContentType()) !== false) {\r\n      // fix semicolon duplication issue for ReactNative FormData implementation\r\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\r\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\r\n    }\r\n  }\r\n\r\n  // Add xsrf header\r\n  // This is only done if running in a standard browser environment.\r\n  // Specifically not if we're in a web worker, or react-native.\r\n\r\n  if (platform.hasStandardBrowserEnv) {\r\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\r\n\r\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\r\n      // Add xsrf header\r\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\r\n\r\n      if (xsrfValue) {\r\n        headers.set(xsrfHeaderName, xsrfValue);\r\n      }\r\n    }\r\n  }\r\n\r\n  return newConfig;\r\n}\r\n\r\n","import utils from './../utils.js';\r\nimport settle from './../core/settle.js';\r\nimport transitionalDefaults from '../defaults/transitional.js';\r\nimport AxiosError from '../core/AxiosError.js';\r\nimport CanceledError from '../cancel/CanceledError.js';\r\nimport parseProtocol from '../helpers/parseProtocol.js';\r\nimport platform from '../platform/index.js';\r\nimport AxiosHeaders from '../core/AxiosHeaders.js';\r\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\r\nimport resolveConfig from \"../helpers/resolveConfig.js\";\r\n\r\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\r\n\r\nexport default isXHRAdapterSupported && function (config) {\r\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\r\n    const _config = resolveConfig(config);\r\n    let requestData = _config.data;\r\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\r\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\r\n    let onCanceled;\r\n    let uploadThrottled, downloadThrottled;\r\n    let flushUpload, flushDownload;\r\n\r\n    function done() {\r\n      flushUpload && flushUpload(); // flush events\r\n      flushDownload && flushDownload(); // flush events\r\n\r\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\r\n\r\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\r\n    }\r\n\r\n    let request = new XMLHttpRequest();\r\n\r\n    request.open(_config.method.toUpperCase(), _config.url, true);\r\n\r\n    // Set the request timeout in MS\r\n    request.timeout = _config.timeout;\r\n\r\n    function onloadend() {\r\n      if (!request) {\r\n        return;\r\n      }\r\n      // Prepare the response\r\n      const responseHeaders = AxiosHeaders.from(\r\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\r\n      );\r\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\r\n        request.responseText : request.response;\r\n      const response = {\r\n        data: responseData,\r\n        status: request.status,\r\n        statusText: request.statusText,\r\n        headers: responseHeaders,\r\n        config,\r\n        request\r\n      };\r\n\r\n      settle(function _resolve(value) {\r\n        resolve(value);\r\n        done();\r\n      }, function _reject(err) {\r\n        reject(err);\r\n        done();\r\n      }, response);\r\n\r\n      // Clean up request\r\n      request = null;\r\n    }\r\n\r\n    if ('onloadend' in request) {\r\n      // Use onloadend if available\r\n      request.onloadend = onloadend;\r\n    } else {\r\n      // Listen for ready state to emulate onloadend\r\n      request.onreadystatechange = function handleLoad() {\r\n        if (!request || request.readyState !== 4) {\r\n          return;\r\n        }\r\n\r\n        // The request errored out and we didn't get a response, this will be\r\n        // handled by onerror instead\r\n        // With one exception: request that using file: protocol, most browsers\r\n        // will return status as 0 even though it's a successful request\r\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\r\n          return;\r\n        }\r\n        // readystate handler is calling before onerror or ontimeout handlers,\r\n        // so we should call onloadend on the next 'tick'\r\n        setTimeout(onloadend);\r\n      };\r\n    }\r\n\r\n    // Handle browser request cancellation (as opposed to a manual cancellation)\r\n    request.onabort = function handleAbort() {\r\n      if (!request) {\r\n        return;\r\n      }\r\n\r\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\r\n\r\n      // Clean up request\r\n      request = null;\r\n    };\r\n\r\n    // Handle low level network errors\r\n    request.onerror = function handleError() {\r\n      // Real errors are hidden from us by the browser\r\n      // onerror should only fire if it's a network error\r\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\r\n\r\n      // Clean up request\r\n      request = null;\r\n    };\r\n\r\n    // Handle timeout\r\n    request.ontimeout = function handleTimeout() {\r\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\r\n      const transitional = _config.transitional || transitionalDefaults;\r\n      if (_config.timeoutErrorMessage) {\r\n        timeoutErrorMessage = _config.timeoutErrorMessage;\r\n      }\r\n      reject(new AxiosError(\r\n        timeoutErrorMessage,\r\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\r\n        config,\r\n        request));\r\n\r\n      // Clean up request\r\n      request = null;\r\n    };\r\n\r\n    // Remove Content-Type if data is undefined\r\n    requestData === undefined && requestHeaders.setContentType(null);\r\n\r\n    // Add headers to the request\r\n    if ('setRequestHeader' in request) {\r\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\r\n        request.setRequestHeader(key, val);\r\n      });\r\n    }\r\n\r\n    // Add withCredentials to request if needed\r\n    if (!utils.isUndefined(_config.withCredentials)) {\r\n      request.withCredentials = !!_config.withCredentials;\r\n    }\r\n\r\n    // Add responseType to request if needed\r\n    if (responseType && responseType !== 'json') {\r\n      request.responseType = _config.responseType;\r\n    }\r\n\r\n    // Handle progress if needed\r\n    if (onDownloadProgress) {\r\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\r\n      request.addEventListener('progress', downloadThrottled);\r\n    }\r\n\r\n    // Not all browsers support upload events\r\n    if (onUploadProgress && request.upload) {\r\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\r\n\r\n      request.upload.addEventListener('progress', uploadThrottled);\r\n\r\n      request.upload.addEventListener('loadend', flushUpload);\r\n    }\r\n\r\n    if (_config.cancelToken || _config.signal) {\r\n      // Handle cancellation\r\n      // eslint-disable-next-line func-names\r\n      onCanceled = cancel => {\r\n        if (!request) {\r\n          return;\r\n        }\r\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\r\n        request.abort();\r\n        request = null;\r\n      };\r\n\r\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\r\n      if (_config.signal) {\r\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\r\n      }\r\n    }\r\n\r\n    const protocol = parseProtocol(_config.url);\r\n\r\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\r\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\r\n      return;\r\n    }\r\n\r\n\r\n    // Send the request\r\n    request.send(requestData || null);\r\n  });\r\n}\r\n","'use strict';\r\n\r\nexport default function parseProtocol(url) {\r\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\r\n  return match && match[1] || '';\r\n}\r\n","import CanceledError from \"../cancel/CanceledError.js\";\r\nimport AxiosError from \"../core/AxiosError.js\";\r\nimport utils from '../utils.js';\r\n\r\nconst composeSignals = (signals, timeout) => {\r\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\r\n\r\n  if (timeout || length) {\r\n    let controller = new AbortController();\r\n\r\n    let aborted;\r\n\r\n    const onabort = function (reason) {\r\n      if (!aborted) {\r\n        aborted = true;\r\n        unsubscribe();\r\n        const err = reason instanceof Error ? reason : this.reason;\r\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\r\n      }\r\n    }\r\n\r\n    let timer = timeout && setTimeout(() => {\r\n      timer = null;\r\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\r\n    }, timeout)\r\n\r\n    const unsubscribe = () => {\r\n      if (signals) {\r\n        timer && clearTimeout(timer);\r\n        timer = null;\r\n        signals.forEach(signal => {\r\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\r\n        });\r\n        signals = null;\r\n      }\r\n    }\r\n\r\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\r\n\r\n    const {signal} = controller;\r\n\r\n    signal.unsubscribe = () => utils.asap(unsubscribe);\r\n\r\n    return signal;\r\n  }\r\n}\r\n\r\nexport default composeSignals;\r\n","\r\nexport const streamChunk = function* (chunk, chunkSize) {\r\n  let len = chunk.byteLength;\r\n\r\n  if (!chunkSize || len < chunkSize) {\r\n    yield chunk;\r\n    return;\r\n  }\r\n\r\n  let pos = 0;\r\n  let end;\r\n\r\n  while (pos < len) {\r\n    end = pos + chunkSize;\r\n    yield chunk.slice(pos, end);\r\n    pos = end;\r\n  }\r\n}\r\n\r\nexport const readBytes = async function* (iterable, chunkSize) {\r\n  for await (const chunk of readStream(iterable)) {\r\n    yield* streamChunk(chunk, chunkSize);\r\n  }\r\n}\r\n\r\nconst readStream = async function* (stream) {\r\n  if (stream[Symbol.asyncIterator]) {\r\n    yield* stream;\r\n    return;\r\n  }\r\n\r\n  const reader = stream.getReader();\r\n  try {\r\n    for (;;) {\r\n      const {done, value} = await reader.read();\r\n      if (done) {\r\n        break;\r\n      }\r\n      yield value;\r\n    }\r\n  } finally {\r\n    await reader.cancel();\r\n  }\r\n}\r\n\r\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\r\n  const iterator = readBytes(stream, chunkSize);\r\n\r\n  let bytes = 0;\r\n  let done;\r\n  let _onFinish = (e) => {\r\n    if (!done) {\r\n      done = true;\r\n      onFinish && onFinish(e);\r\n    }\r\n  }\r\n\r\n  return new ReadableStream({\r\n    async pull(controller) {\r\n      try {\r\n        const {done, value} = await iterator.next();\r\n\r\n        if (done) {\r\n         _onFinish();\r\n          controller.close();\r\n          return;\r\n        }\r\n\r\n        let len = value.byteLength;\r\n        if (onProgress) {\r\n          let loadedBytes = bytes += len;\r\n          onProgress(loadedBytes);\r\n        }\r\n        controller.enqueue(new Uint8Array(value));\r\n      } catch (err) {\r\n        _onFinish(err);\r\n        throw err;\r\n      }\r\n    },\r\n    cancel(reason) {\r\n      _onFinish(reason);\r\n      return iterator.return();\r\n    }\r\n  }, {\r\n    highWaterMark: 2\r\n  })\r\n}\r\n","import platform from \"../platform/index.js\";\r\nimport utils from \"../utils.js\";\r\nimport AxiosError from \"../core/AxiosError.js\";\r\nimport composeSignals from \"../helpers/composeSignals.js\";\r\nimport {trackStream} from \"../helpers/trackStream.js\";\r\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\r\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\r\nimport resolveConfig from \"../helpers/resolveConfig.js\";\r\nimport settle from \"../core/settle.js\";\r\n\r\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\r\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\r\n\r\n// used only inside the fetch adapter\r\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\r\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\r\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\r\n);\r\n\r\nconst test = (fn, ...args) => {\r\n  try {\r\n    return !!fn(...args);\r\n  } catch (e) {\r\n    return false\r\n  }\r\n}\r\n\r\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\r\n  let duplexAccessed = false;\r\n\r\n  const hasContentType = new Request(platform.origin, {\r\n    body: new ReadableStream(),\r\n    method: 'POST',\r\n    get duplex() {\r\n      duplexAccessed = true;\r\n      return 'half';\r\n    },\r\n  }).headers.has('Content-Type');\r\n\r\n  return duplexAccessed && !hasContentType;\r\n});\r\n\r\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\r\n\r\nconst supportsResponseStream = isReadableStreamSupported &&\r\n  test(() => utils.isReadableStream(new Response('').body));\r\n\r\n\r\nconst resolvers = {\r\n  stream: supportsResponseStream && ((res) => res.body)\r\n};\r\n\r\nisFetchSupported && (((res) => {\r\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\r\n    !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() :\r\n      (_, config) => {\r\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\r\n      })\r\n  });\r\n})(new Response));\r\n\r\nconst getBodyLength = async (body) => {\r\n  if (body == null) {\r\n    return 0;\r\n  }\r\n\r\n  if(utils.isBlob(body)) {\r\n    return body.size;\r\n  }\r\n\r\n  if(utils.isSpecCompliantForm(body)) {\r\n    const _request = new Request(platform.origin, {\r\n      method: 'POST',\r\n      body,\r\n    });\r\n    return (await _request.arrayBuffer()).byteLength;\r\n  }\r\n\r\n  if(utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\r\n    return body.byteLength;\r\n  }\r\n\r\n  if(utils.isURLSearchParams(body)) {\r\n    body = body + '';\r\n  }\r\n\r\n  if(utils.isString(body)) {\r\n    return (await encodeText(body)).byteLength;\r\n  }\r\n}\r\n\r\nconst resolveBodyLength = async (headers, body) => {\r\n  const length = utils.toFiniteNumber(headers.getContentLength());\r\n\r\n  return length == null ? getBodyLength(body) : length;\r\n}\r\n\r\nexport default isFetchSupported && (async (config) => {\r\n  let {\r\n    url,\r\n    method,\r\n    data,\r\n    signal,\r\n    cancelToken,\r\n    timeout,\r\n    onDownloadProgress,\r\n    onUploadProgress,\r\n    responseType,\r\n    headers,\r\n    withCredentials = 'same-origin',\r\n    fetchOptions\r\n  } = resolveConfig(config);\r\n\r\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\r\n\r\n  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\r\n\r\n  let request;\r\n\r\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\r\n      composedSignal.unsubscribe();\r\n  });\r\n\r\n  let requestContentLength;\r\n\r\n  try {\r\n    if (\r\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\r\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\r\n    ) {\r\n      let _request = new Request(url, {\r\n        method: 'POST',\r\n        body: data,\r\n        duplex: \"half\"\r\n      });\r\n\r\n      let contentTypeHeader;\r\n\r\n      if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\r\n        headers.setContentType(contentTypeHeader)\r\n      }\r\n\r\n      if (_request.body) {\r\n        const [onProgress, flush] = progressEventDecorator(\r\n          requestContentLength,\r\n          progressEventReducer(asyncDecorator(onUploadProgress))\r\n        );\r\n\r\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\r\n      }\r\n    }\r\n\r\n    if (!utils.isString(withCredentials)) {\r\n      withCredentials = withCredentials ? 'include' : 'omit';\r\n    }\r\n\r\n    // Cloudflare Workers throws when credentials are defined\r\n    // see https://github.com/cloudflare/workerd/issues/902\r\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\r\n    request = new Request(url, {\r\n      ...fetchOptions,\r\n      signal: composedSignal,\r\n      method: method.toUpperCase(),\r\n      headers: headers.normalize().toJSON(),\r\n      body: data,\r\n      duplex: \"half\",\r\n      credentials: isCredentialsSupported ? withCredentials : undefined\r\n    });\r\n\r\n    let response = await fetch(request);\r\n\r\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\r\n\r\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\r\n      const options = {};\r\n\r\n      ['status', 'statusText', 'headers'].forEach(prop => {\r\n        options[prop] = response[prop];\r\n      });\r\n\r\n      const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\r\n\r\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\r\n        responseContentLength,\r\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\r\n      ) || [];\r\n\r\n      response = new Response(\r\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\r\n          flush && flush();\r\n          unsubscribe && unsubscribe();\r\n        }),\r\n        options\r\n      );\r\n    }\r\n\r\n    responseType = responseType || 'text';\r\n\r\n    let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\r\n\r\n    !isStreamResponse && unsubscribe && unsubscribe();\r\n\r\n    return await new Promise((resolve, reject) => {\r\n      settle(resolve, reject, {\r\n        data: responseData,\r\n        headers: AxiosHeaders.from(response.headers),\r\n        status: response.status,\r\n        statusText: response.statusText,\r\n        config,\r\n        request\r\n      })\r\n    })\r\n  } catch (err) {\r\n    unsubscribe && unsubscribe();\r\n\r\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\r\n      throw Object.assign(\r\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\r\n        {\r\n          cause: err.cause || err\r\n        }\r\n      )\r\n    }\r\n\r\n    throw AxiosError.from(err, err && err.code, config, request);\r\n  }\r\n});\r\n\r\n\r\n","import utils from '../utils.js';\r\nimport httpAdapter from './http.js';\r\nimport xhrAdapter from './xhr.js';\r\nimport fetchAdapter from './fetch.js';\r\nimport AxiosError from \"../core/AxiosError.js\";\r\n\r\nconst knownAdapters = {\r\n  http: httpAdapter,\r\n  xhr: xhrAdapter,\r\n  fetch: fetchAdapter\r\n}\r\n\r\nutils.forEach(knownAdapters, (fn, value) => {\r\n  if (fn) {\r\n    try {\r\n      Object.defineProperty(fn, 'name', {value});\r\n    } catch (e) {\r\n      // eslint-disable-next-line no-empty\r\n    }\r\n    Object.defineProperty(fn, 'adapterName', {value});\r\n  }\r\n});\r\n\r\nconst renderReason = (reason) => `- ${reason}`;\r\n\r\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\r\n\r\nexport default {\r\n  getAdapter: (adapters) => {\r\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\r\n\r\n    const {length} = adapters;\r\n    let nameOrAdapter;\r\n    let adapter;\r\n\r\n    const rejectedReasons = {};\r\n\r\n    for (let i = 0; i < length; i++) {\r\n      nameOrAdapter = adapters[i];\r\n      let id;\r\n\r\n      adapter = nameOrAdapter;\r\n\r\n      if (!isResolvedHandle(nameOrAdapter)) {\r\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\r\n\r\n        if (adapter === undefined) {\r\n          throw new AxiosError(`Unknown adapter '${id}'`);\r\n        }\r\n      }\r\n\r\n      if (adapter) {\r\n        break;\r\n      }\r\n\r\n      rejectedReasons[id || '#' + i] = adapter;\r\n    }\r\n\r\n    if (!adapter) {\r\n\r\n      const reasons = Object.entries(rejectedReasons)\r\n        .map(([id, state]) => `adapter ${id} ` +\r\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\r\n        );\r\n\r\n      let s = length ?\r\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\r\n        'as no adapter specified';\r\n\r\n      throw new AxiosError(\r\n        `There is no suitable adapter to dispatch the request ` + s,\r\n        'ERR_NOT_SUPPORT'\r\n      );\r\n    }\r\n\r\n    return adapter;\r\n  },\r\n  adapters: knownAdapters\r\n}\r\n","// eslint-disable-next-line strict\r\nexport default null;\r\n","'use strict';\r\n\r\nimport transformData from './transformData.js';\r\nimport isCancel from '../cancel/isCancel.js';\r\nimport defaults from '../defaults/index.js';\r\nimport CanceledError from '../cancel/CanceledError.js';\r\nimport AxiosHeaders from '../core/AxiosHeaders.js';\r\nimport adapters from \"../adapters/adapters.js\";\r\n\r\n/**\r\n * Throws a `CanceledError` if cancellation has been requested.\r\n *\r\n * @param {Object} config The config that is to be used for the request\r\n *\r\n * @returns {void}\r\n */\r\nfunction throwIfCancellationRequested(config) {\r\n  if (config.cancelToken) {\r\n    config.cancelToken.throwIfRequested();\r\n  }\r\n\r\n  if (config.signal && config.signal.aborted) {\r\n    throw new CanceledError(null, config);\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatch a request to the server using the configured adapter.\r\n *\r\n * @param {object} config The config that is to be used for the request\r\n *\r\n * @returns {Promise} The Promise to be fulfilled\r\n */\r\nexport default function dispatchRequest(config) {\r\n  throwIfCancellationRequested(config);\r\n\r\n  config.headers = AxiosHeaders.from(config.headers);\r\n\r\n  // Transform request data\r\n  config.data = transformData.call(\r\n    config,\r\n    config.transformRequest\r\n  );\r\n\r\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\r\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\r\n  }\r\n\r\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\r\n\r\n  return adapter(config).then(function onAdapterResolution(response) {\r\n    throwIfCancellationRequested(config);\r\n\r\n    // Transform response data\r\n    response.data = transformData.call(\r\n      config,\r\n      config.transformResponse,\r\n      response\r\n    );\r\n\r\n    response.headers = AxiosHeaders.from(response.headers);\r\n\r\n    return response;\r\n  }, function onAdapterRejection(reason) {\r\n    if (!isCancel(reason)) {\r\n      throwIfCancellationRequested(config);\r\n\r\n      // Transform response data\r\n      if (reason && reason.response) {\r\n        reason.response.data = transformData.call(\r\n          config,\r\n          config.transformResponse,\r\n          reason.response\r\n        );\r\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\r\n      }\r\n    }\r\n\r\n    return Promise.reject(reason);\r\n  });\r\n}\r\n","export const VERSION = \"1.7.9\";","'use strict';\r\n\r\nimport {VERSION} from '../env/data.js';\r\nimport AxiosError from '../core/AxiosError.js';\r\n\r\nconst validators = {};\r\n\r\n// eslint-disable-next-line func-names\r\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\r\n  validators[type] = function validator(thing) {\r\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\r\n  };\r\n});\r\n\r\nconst deprecatedWarnings = {};\r\n\r\n/**\r\n * Transitional option validator\r\n *\r\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\r\n * @param {string?} version - deprecated version / removed since version\r\n * @param {string?} message - some message with additional info\r\n *\r\n * @returns {function}\r\n */\r\nvalidators.transitional = function transitional(validator, version, message) {\r\n  function formatMessage(opt, desc) {\r\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\r\n  }\r\n\r\n  // eslint-disable-next-line func-names\r\n  return (value, opt, opts) => {\r\n    if (validator === false) {\r\n      throw new AxiosError(\r\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\r\n        AxiosError.ERR_DEPRECATED\r\n      );\r\n    }\r\n\r\n    if (version && !deprecatedWarnings[opt]) {\r\n      deprecatedWarnings[opt] = true;\r\n      // eslint-disable-next-line no-console\r\n      console.warn(\r\n        formatMessage(\r\n          opt,\r\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\r\n        )\r\n      );\r\n    }\r\n\r\n    return validator ? validator(value, opt, opts) : true;\r\n  };\r\n};\r\n\r\nvalidators.spelling = function spelling(correctSpelling) {\r\n  return (value, opt) => {\r\n    // eslint-disable-next-line no-console\r\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\r\n    return true;\r\n  }\r\n};\r\n\r\n/**\r\n * Assert object's properties type\r\n *\r\n * @param {object} options\r\n * @param {object} schema\r\n * @param {boolean?} allowUnknown\r\n *\r\n * @returns {object}\r\n */\r\n\r\nfunction assertOptions(options, schema, allowUnknown) {\r\n  if (typeof options !== 'object') {\r\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\r\n  }\r\n  const keys = Object.keys(options);\r\n  let i = keys.length;\r\n  while (i-- > 0) {\r\n    const opt = keys[i];\r\n    const validator = schema[opt];\r\n    if (validator) {\r\n      const value = options[opt];\r\n      const result = value === undefined || validator(value, opt, options);\r\n      if (result !== true) {\r\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\r\n      }\r\n      continue;\r\n    }\r\n    if (allowUnknown !== true) {\r\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  assertOptions,\r\n  validators\r\n};\r\n","'use strict';\r\n\r\nimport utils from './../utils.js';\r\nimport buildURL from '../helpers/buildURL.js';\r\nimport InterceptorManager from './InterceptorManager.js';\r\nimport dispatchRequest from './dispatchRequest.js';\r\nimport mergeConfig from './mergeConfig.js';\r\nimport buildFullPath from './buildFullPath.js';\r\nimport validator from '../helpers/validator.js';\r\nimport AxiosHeaders from './AxiosHeaders.js';\r\n\r\nconst validators = validator.validators;\r\n\r\n/**\r\n * Create a new instance of Axios\r\n *\r\n * @param {Object} instanceConfig The default config for the instance\r\n *\r\n * @return {Axios} A new instance of Axios\r\n */\r\nclass Axios {\r\n  constructor(instanceConfig) {\r\n    this.defaults = instanceConfig;\r\n    this.interceptors = {\r\n      request: new InterceptorManager(),\r\n      response: new InterceptorManager()\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Dispatch a request\r\n   *\r\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\r\n   * @param {?Object} config\r\n   *\r\n   * @returns {Promise} The Promise to be fulfilled\r\n   */\r\n  async request(configOrUrl, config) {\r\n    try {\r\n      return await this._request(configOrUrl, config);\r\n    } catch (err) {\r\n      if (err instanceof Error) {\r\n        let dummy = {};\r\n\r\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\r\n\r\n        // slice off the Error: ... line\r\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\r\n        try {\r\n          if (!err.stack) {\r\n            err.stack = stack;\r\n            // match without the 2 top stack lines\r\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\r\n            err.stack += '\\n' + stack\r\n          }\r\n        } catch (e) {\r\n          // ignore the case where \"stack\" is an un-writable property\r\n        }\r\n      }\r\n\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  _request(configOrUrl, config) {\r\n    /*eslint no-param-reassign:0*/\r\n    // Allow for axios('example/url'[, config]) a la fetch API\r\n    if (typeof configOrUrl === 'string') {\r\n      config = config || {};\r\n      config.url = configOrUrl;\r\n    } else {\r\n      config = configOrUrl || {};\r\n    }\r\n\r\n    config = mergeConfig(this.defaults, config);\r\n\r\n    const {transitional, paramsSerializer, headers} = config;\r\n\r\n    if (transitional !== undefined) {\r\n      validator.assertOptions(transitional, {\r\n        silentJSONParsing: validators.transitional(validators.boolean),\r\n        forcedJSONParsing: validators.transitional(validators.boolean),\r\n        clarifyTimeoutError: validators.transitional(validators.boolean)\r\n      }, false);\r\n    }\r\n\r\n    if (paramsSerializer != null) {\r\n      if (utils.isFunction(paramsSerializer)) {\r\n        config.paramsSerializer = {\r\n          serialize: paramsSerializer\r\n        }\r\n      } else {\r\n        validator.assertOptions(paramsSerializer, {\r\n          encode: validators.function,\r\n          serialize: validators.function\r\n        }, true);\r\n      }\r\n    }\r\n\r\n    validator.assertOptions(config, {\r\n      baseUrl: validators.spelling('baseURL'),\r\n      withXsrfToken: validators.spelling('withXSRFToken')\r\n    }, true);\r\n\r\n    // Set config.method\r\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\r\n\r\n    // Flatten headers\r\n    let contextHeaders = headers && utils.merge(\r\n      headers.common,\r\n      headers[config.method]\r\n    );\r\n\r\n    headers && utils.forEach(\r\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\r\n      (method) => {\r\n        delete headers[method];\r\n      }\r\n    );\r\n\r\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\r\n\r\n    // filter out skipped interceptors\r\n    const requestInterceptorChain = [];\r\n    let synchronousRequestInterceptors = true;\r\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\r\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\r\n        return;\r\n      }\r\n\r\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\r\n\r\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\r\n    });\r\n\r\n    const responseInterceptorChain = [];\r\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\r\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\r\n    });\r\n\r\n    let promise;\r\n    let i = 0;\r\n    let len;\r\n\r\n    if (!synchronousRequestInterceptors) {\r\n      const chain = [dispatchRequest.bind(this), undefined];\r\n      chain.unshift.apply(chain, requestInterceptorChain);\r\n      chain.push.apply(chain, responseInterceptorChain);\r\n      len = chain.length;\r\n\r\n      promise = Promise.resolve(config);\r\n\r\n      while (i < len) {\r\n        promise = promise.then(chain[i++], chain[i++]);\r\n      }\r\n\r\n      return promise;\r\n    }\r\n\r\n    len = requestInterceptorChain.length;\r\n\r\n    let newConfig = config;\r\n\r\n    i = 0;\r\n\r\n    while (i < len) {\r\n      const onFulfilled = requestInterceptorChain[i++];\r\n      const onRejected = requestInterceptorChain[i++];\r\n      try {\r\n        newConfig = onFulfilled(newConfig);\r\n      } catch (error) {\r\n        onRejected.call(this, error);\r\n        break;\r\n      }\r\n    }\r\n\r\n    try {\r\n      promise = dispatchRequest.call(this, newConfig);\r\n    } catch (error) {\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    i = 0;\r\n    len = responseInterceptorChain.length;\r\n\r\n    while (i < len) {\r\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\r\n    }\r\n\r\n    return promise;\r\n  }\r\n\r\n  getUri(config) {\r\n    config = mergeConfig(this.defaults, config);\r\n    const fullPath = buildFullPath(config.baseURL, config.url);\r\n    return buildURL(fullPath, config.params, config.paramsSerializer);\r\n  }\r\n}\r\n\r\n// Provide aliases for supported request methods\r\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\r\n  /*eslint func-names:0*/\r\n  Axios.prototype[method] = function(url, config) {\r\n    return this.request(mergeConfig(config || {}, {\r\n      method,\r\n      url,\r\n      data: (config || {}).data\r\n    }));\r\n  };\r\n});\r\n\r\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\r\n  /*eslint func-names:0*/\r\n\r\n  function generateHTTPMethod(isForm) {\r\n    return function httpMethod(url, data, config) {\r\n      return this.request(mergeConfig(config || {}, {\r\n        method,\r\n        headers: isForm ? {\r\n          'Content-Type': 'multipart/form-data'\r\n        } : {},\r\n        url,\r\n        data\r\n      }));\r\n    };\r\n  }\r\n\r\n  Axios.prototype[method] = generateHTTPMethod();\r\n\r\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\r\n});\r\n\r\nexport default Axios;\r\n","'use strict';\r\n\r\nimport CanceledError from './CanceledError.js';\r\n\r\n/**\r\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\r\n *\r\n * @param {Function} executor The executor function.\r\n *\r\n * @returns {CancelToken}\r\n */\r\nclass CancelToken {\r\n  constructor(executor) {\r\n    if (typeof executor !== 'function') {\r\n      throw new TypeError('executor must be a function.');\r\n    }\r\n\r\n    let resolvePromise;\r\n\r\n    this.promise = new Promise(function promiseExecutor(resolve) {\r\n      resolvePromise = resolve;\r\n    });\r\n\r\n    const token = this;\r\n\r\n    // eslint-disable-next-line func-names\r\n    this.promise.then(cancel => {\r\n      if (!token._listeners) return;\r\n\r\n      let i = token._listeners.length;\r\n\r\n      while (i-- > 0) {\r\n        token._listeners[i](cancel);\r\n      }\r\n      token._listeners = null;\r\n    });\r\n\r\n    // eslint-disable-next-line func-names\r\n    this.promise.then = onfulfilled => {\r\n      let _resolve;\r\n      // eslint-disable-next-line func-names\r\n      const promise = new Promise(resolve => {\r\n        token.subscribe(resolve);\r\n        _resolve = resolve;\r\n      }).then(onfulfilled);\r\n\r\n      promise.cancel = function reject() {\r\n        token.unsubscribe(_resolve);\r\n      };\r\n\r\n      return promise;\r\n    };\r\n\r\n    executor(function cancel(message, config, request) {\r\n      if (token.reason) {\r\n        // Cancellation has already been requested\r\n        return;\r\n      }\r\n\r\n      token.reason = new CanceledError(message, config, request);\r\n      resolvePromise(token.reason);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Throws a `CanceledError` if cancellation has been requested.\r\n   */\r\n  throwIfRequested() {\r\n    if (this.reason) {\r\n      throw this.reason;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Subscribe to the cancel signal\r\n   */\r\n\r\n  subscribe(listener) {\r\n    if (this.reason) {\r\n      listener(this.reason);\r\n      return;\r\n    }\r\n\r\n    if (this._listeners) {\r\n      this._listeners.push(listener);\r\n    } else {\r\n      this._listeners = [listener];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Unsubscribe from the cancel signal\r\n   */\r\n\r\n  unsubscribe(listener) {\r\n    if (!this._listeners) {\r\n      return;\r\n    }\r\n    const index = this._listeners.indexOf(listener);\r\n    if (index !== -1) {\r\n      this._listeners.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  toAbortSignal() {\r\n    const controller = new AbortController();\r\n\r\n    const abort = (err) => {\r\n      controller.abort(err);\r\n    };\r\n\r\n    this.subscribe(abort);\r\n\r\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\r\n\r\n    return controller.signal;\r\n  }\r\n\r\n  /**\r\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\r\n   * cancels the `CancelToken`.\r\n   */\r\n  static source() {\r\n    let cancel;\r\n    const token = new CancelToken(function executor(c) {\r\n      cancel = c;\r\n    });\r\n    return {\r\n      token,\r\n      cancel\r\n    };\r\n  }\r\n}\r\n\r\nexport default CancelToken;\r\n","const HttpStatusCode = {\r\n  Continue: 100,\r\n  SwitchingProtocols: 101,\r\n  Processing: 102,\r\n  EarlyHints: 103,\r\n  Ok: 200,\r\n  Created: 201,\r\n  Accepted: 202,\r\n  NonAuthoritativeInformation: 203,\r\n  NoContent: 204,\r\n  ResetContent: 205,\r\n  PartialContent: 206,\r\n  MultiStatus: 207,\r\n  AlreadyReported: 208,\r\n  ImUsed: 226,\r\n  MultipleChoices: 300,\r\n  MovedPermanently: 301,\r\n  Found: 302,\r\n  SeeOther: 303,\r\n  NotModified: 304,\r\n  UseProxy: 305,\r\n  Unused: 306,\r\n  TemporaryRedirect: 307,\r\n  PermanentRedirect: 308,\r\n  BadRequest: 400,\r\n  Unauthorized: 401,\r\n  PaymentRequired: 402,\r\n  Forbidden: 403,\r\n  NotFound: 404,\r\n  MethodNotAllowed: 405,\r\n  NotAcceptable: 406,\r\n  ProxyAuthenticationRequired: 407,\r\n  RequestTimeout: 408,\r\n  Conflict: 409,\r\n  Gone: 410,\r\n  LengthRequired: 411,\r\n  PreconditionFailed: 412,\r\n  PayloadTooLarge: 413,\r\n  UriTooLong: 414,\r\n  UnsupportedMediaType: 415,\r\n  RangeNotSatisfiable: 416,\r\n  ExpectationFailed: 417,\r\n  ImATeapot: 418,\r\n  MisdirectedRequest: 421,\r\n  UnprocessableEntity: 422,\r\n  Locked: 423,\r\n  FailedDependency: 424,\r\n  TooEarly: 425,\r\n  UpgradeRequired: 426,\r\n  PreconditionRequired: 428,\r\n  TooManyRequests: 429,\r\n  RequestHeaderFieldsTooLarge: 431,\r\n  UnavailableForLegalReasons: 451,\r\n  InternalServerError: 500,\r\n  NotImplemented: 501,\r\n  BadGateway: 502,\r\n  ServiceUnavailable: 503,\r\n  GatewayTimeout: 504,\r\n  HttpVersionNotSupported: 505,\r\n  VariantAlsoNegotiates: 506,\r\n  InsufficientStorage: 507,\r\n  LoopDetected: 508,\r\n  NotExtended: 510,\r\n  NetworkAuthenticationRequired: 511,\r\n};\r\n\r\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\r\n  HttpStatusCode[value] = key;\r\n});\r\n\r\nexport default HttpStatusCode;\r\n","'use strict';\r\n\r\nimport utils from './utils.js';\r\nimport bind from './helpers/bind.js';\r\nimport Axios from './core/Axios.js';\r\nimport mergeConfig from './core/mergeConfig.js';\r\nimport defaults from './defaults/index.js';\r\nimport formDataToJSON from './helpers/formDataToJSON.js';\r\nimport CanceledError from './cancel/CanceledError.js';\r\nimport CancelToken from './cancel/CancelToken.js';\r\nimport isCancel from './cancel/isCancel.js';\r\nimport {VERSION} from './env/data.js';\r\nimport toFormData from './helpers/toFormData.js';\r\nimport AxiosError from './core/AxiosError.js';\r\nimport spread from './helpers/spread.js';\r\nimport isAxiosError from './helpers/isAxiosError.js';\r\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\r\nimport adapters from './adapters/adapters.js';\r\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\r\n\r\n/**\r\n * Create an instance of Axios\r\n *\r\n * @param {Object} defaultConfig The default config for the instance\r\n *\r\n * @returns {Axios} A new instance of Axios\r\n */\r\nfunction createInstance(defaultConfig) {\r\n  const context = new Axios(defaultConfig);\r\n  const instance = bind(Axios.prototype.request, context);\r\n\r\n  // Copy axios.prototype to instance\r\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\r\n\r\n  // Copy context to instance\r\n  utils.extend(instance, context, null, {allOwnKeys: true});\r\n\r\n  // Factory for creating new instances\r\n  instance.create = function create(instanceConfig) {\r\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\r\n  };\r\n\r\n  return instance;\r\n}\r\n\r\n// Create the default instance to be exported\r\nconst axios = createInstance(defaults);\r\n\r\n// Expose Axios class to allow class inheritance\r\naxios.Axios = Axios;\r\n\r\n// Expose Cancel & CancelToken\r\naxios.CanceledError = CanceledError;\r\naxios.CancelToken = CancelToken;\r\naxios.isCancel = isCancel;\r\naxios.VERSION = VERSION;\r\naxios.toFormData = toFormData;\r\n\r\n// Expose AxiosError class\r\naxios.AxiosError = AxiosError;\r\n\r\n// alias for CanceledError for backward compatibility\r\naxios.Cancel = axios.CanceledError;\r\n\r\n// Expose all/spread\r\naxios.all = function all(promises) {\r\n  return Promise.all(promises);\r\n};\r\n\r\naxios.spread = spread;\r\n\r\n// Expose isAxiosError\r\naxios.isAxiosError = isAxiosError;\r\n\r\n// Expose mergeConfig\r\naxios.mergeConfig = mergeConfig;\r\n\r\naxios.AxiosHeaders = AxiosHeaders;\r\n\r\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\r\n\r\naxios.getAdapter = adapters.getAdapter;\r\n\r\naxios.HttpStatusCode = HttpStatusCode;\r\n\r\naxios.default = axios;\r\n\r\n// this module should only have a default export\r\nexport default axios\r\n","'use strict';\r\n\r\n/**\r\n * Syntactic sugar for invoking a function and expanding an array for arguments.\r\n *\r\n * Common use case would be to use `Function.prototype.apply`.\r\n *\r\n *  ```js\r\n *  function f(x, y, z) {}\r\n *  var args = [1, 2, 3];\r\n *  f.apply(null, args);\r\n *  ```\r\n *\r\n * With `spread` this example can be re-written.\r\n *\r\n *  ```js\r\n *  spread(function(x, y, z) {})([1, 2, 3]);\r\n *  ```\r\n *\r\n * @param {Function} callback\r\n *\r\n * @returns {Function}\r\n */\r\nexport default function spread(callback) {\r\n  return function wrap(arr) {\r\n    return callback.apply(null, arr);\r\n  };\r\n}\r\n","'use strict';\r\n\r\nimport utils from './../utils.js';\r\n\r\n/**\r\n * Determines whether the payload is an error thrown by Axios\r\n *\r\n * @param {*} payload The value to test\r\n *\r\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\r\n */\r\nexport default function isAxiosError(payload) {\r\n  return utils.isObject(payload) && (payload.isAxiosError === true);\r\n}\r\n","/*!\r\n * @kurkle/color v0.3.4\r\n * https://github.com/kurkle/color#readme\r\n * (c) 2024 Jukka Kurkela\r\n * Released under the MIT License\r\n */\r\nfunction round(v) {\r\n  return v + 0.5 | 0;\r\n}\r\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\r\nfunction p2b(v) {\r\n  return lim(round(v * 2.55), 0, 255);\r\n}\r\nfunction b2p(v) {\r\n  return lim(round(v / 2.55), 0, 100);\r\n}\r\nfunction n2b(v) {\r\n  return lim(round(v * 255), 0, 255);\r\n}\r\nfunction b2n(v) {\r\n  return lim(round(v / 2.55) / 100, 0, 1);\r\n}\r\nfunction n2p(v) {\r\n  return lim(round(v * 100), 0, 100);\r\n}\r\n\r\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\r\nconst hex = [...'0123456789ABCDEF'];\r\nconst h1 = b => hex[b & 0xF];\r\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\r\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\r\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\r\nfunction hexParse(str) {\r\n  var len = str.length;\r\n  var ret;\r\n  if (str[0] === '#') {\r\n    if (len === 4 || len === 5) {\r\n      ret = {\r\n        r: 255 & map$1[str[1]] * 17,\r\n        g: 255 & map$1[str[2]] * 17,\r\n        b: 255 & map$1[str[3]] * 17,\r\n        a: len === 5 ? map$1[str[4]] * 17 : 255\r\n      };\r\n    } else if (len === 7 || len === 9) {\r\n      ret = {\r\n        r: map$1[str[1]] << 4 | map$1[str[2]],\r\n        g: map$1[str[3]] << 4 | map$1[str[4]],\r\n        b: map$1[str[5]] << 4 | map$1[str[6]],\r\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\r\n      };\r\n    }\r\n  }\r\n  return ret;\r\n}\r\nconst alpha = (a, f) => a < 255 ? f(a) : '';\r\nfunction hexString(v) {\r\n  var f = isShort(v) ? h1 : h2;\r\n  return v\r\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\r\n    : undefined;\r\n}\r\n\r\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\r\nfunction hsl2rgbn(h, s, l) {\r\n  const a = s * Math.min(l, 1 - l);\r\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\r\n  return [f(0), f(8), f(4)];\r\n}\r\nfunction hsv2rgbn(h, s, v) {\r\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\r\n  return [f(5), f(3), f(1)];\r\n}\r\nfunction hwb2rgbn(h, w, b) {\r\n  const rgb = hsl2rgbn(h, 1, 0.5);\r\n  let i;\r\n  if (w + b > 1) {\r\n    i = 1 / (w + b);\r\n    w *= i;\r\n    b *= i;\r\n  }\r\n  for (i = 0; i < 3; i++) {\r\n    rgb[i] *= 1 - w - b;\r\n    rgb[i] += w;\r\n  }\r\n  return rgb;\r\n}\r\nfunction hueValue(r, g, b, d, max) {\r\n  if (r === max) {\r\n    return ((g - b) / d) + (g < b ? 6 : 0);\r\n  }\r\n  if (g === max) {\r\n    return (b - r) / d + 2;\r\n  }\r\n  return (r - g) / d + 4;\r\n}\r\nfunction rgb2hsl(v) {\r\n  const range = 255;\r\n  const r = v.r / range;\r\n  const g = v.g / range;\r\n  const b = v.b / range;\r\n  const max = Math.max(r, g, b);\r\n  const min = Math.min(r, g, b);\r\n  const l = (max + min) / 2;\r\n  let h, s, d;\r\n  if (max !== min) {\r\n    d = max - min;\r\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n    h = hueValue(r, g, b, d, max);\r\n    h = h * 60 + 0.5;\r\n  }\r\n  return [h | 0, s || 0, l];\r\n}\r\nfunction calln(f, a, b, c) {\r\n  return (\r\n    Array.isArray(a)\r\n      ? f(a[0], a[1], a[2])\r\n      : f(a, b, c)\r\n  ).map(n2b);\r\n}\r\nfunction hsl2rgb(h, s, l) {\r\n  return calln(hsl2rgbn, h, s, l);\r\n}\r\nfunction hwb2rgb(h, w, b) {\r\n  return calln(hwb2rgbn, h, w, b);\r\n}\r\nfunction hsv2rgb(h, s, v) {\r\n  return calln(hsv2rgbn, h, s, v);\r\n}\r\nfunction hue(h) {\r\n  return (h % 360 + 360) % 360;\r\n}\r\nfunction hueParse(str) {\r\n  const m = HUE_RE.exec(str);\r\n  let a = 255;\r\n  let v;\r\n  if (!m) {\r\n    return;\r\n  }\r\n  if (m[5] !== v) {\r\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\r\n  }\r\n  const h = hue(+m[2]);\r\n  const p1 = +m[3] / 100;\r\n  const p2 = +m[4] / 100;\r\n  if (m[1] === 'hwb') {\r\n    v = hwb2rgb(h, p1, p2);\r\n  } else if (m[1] === 'hsv') {\r\n    v = hsv2rgb(h, p1, p2);\r\n  } else {\r\n    v = hsl2rgb(h, p1, p2);\r\n  }\r\n  return {\r\n    r: v[0],\r\n    g: v[1],\r\n    b: v[2],\r\n    a: a\r\n  };\r\n}\r\nfunction rotate(v, deg) {\r\n  var h = rgb2hsl(v);\r\n  h[0] = hue(h[0] + deg);\r\n  h = hsl2rgb(h);\r\n  v.r = h[0];\r\n  v.g = h[1];\r\n  v.b = h[2];\r\n}\r\nfunction hslString(v) {\r\n  if (!v) {\r\n    return;\r\n  }\r\n  const a = rgb2hsl(v);\r\n  const h = a[0];\r\n  const s = n2p(a[1]);\r\n  const l = n2p(a[2]);\r\n  return v.a < 255\r\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\r\n    : `hsl(${h}, ${s}%, ${l}%)`;\r\n}\r\n\r\nconst map = {\r\n\tx: 'dark',\r\n\tZ: 'light',\r\n\tY: 're',\r\n\tX: 'blu',\r\n\tW: 'gr',\r\n\tV: 'medium',\r\n\tU: 'slate',\r\n\tA: 'ee',\r\n\tT: 'ol',\r\n\tS: 'or',\r\n\tB: 'ra',\r\n\tC: 'lateg',\r\n\tD: 'ights',\r\n\tR: 'in',\r\n\tQ: 'turquois',\r\n\tE: 'hi',\r\n\tP: 'ro',\r\n\tO: 'al',\r\n\tN: 'le',\r\n\tM: 'de',\r\n\tL: 'yello',\r\n\tF: 'en',\r\n\tK: 'ch',\r\n\tG: 'arks',\r\n\tH: 'ea',\r\n\tI: 'ightg',\r\n\tJ: 'wh'\r\n};\r\nconst names$1 = {\r\n\tOiceXe: 'f0f8ff',\r\n\tantiquewEte: 'faebd7',\r\n\taqua: 'ffff',\r\n\taquamarRe: '7fffd4',\r\n\tazuY: 'f0ffff',\r\n\tbeige: 'f5f5dc',\r\n\tbisque: 'ffe4c4',\r\n\tblack: '0',\r\n\tblanKedOmond: 'ffebcd',\r\n\tXe: 'ff',\r\n\tXeviTet: '8a2be2',\r\n\tbPwn: 'a52a2a',\r\n\tburlywood: 'deb887',\r\n\tcaMtXe: '5f9ea0',\r\n\tKartYuse: '7fff00',\r\n\tKocTate: 'd2691e',\r\n\tcSO: 'ff7f50',\r\n\tcSnflowerXe: '6495ed',\r\n\tcSnsilk: 'fff8dc',\r\n\tcrimson: 'dc143c',\r\n\tcyan: 'ffff',\r\n\txXe: '8b',\r\n\txcyan: '8b8b',\r\n\txgTMnPd: 'b8860b',\r\n\txWay: 'a9a9a9',\r\n\txgYF: '6400',\r\n\txgYy: 'a9a9a9',\r\n\txkhaki: 'bdb76b',\r\n\txmagFta: '8b008b',\r\n\txTivegYF: '556b2f',\r\n\txSange: 'ff8c00',\r\n\txScEd: '9932cc',\r\n\txYd: '8b0000',\r\n\txsOmon: 'e9967a',\r\n\txsHgYF: '8fbc8f',\r\n\txUXe: '483d8b',\r\n\txUWay: '2f4f4f',\r\n\txUgYy: '2f4f4f',\r\n\txQe: 'ced1',\r\n\txviTet: '9400d3',\r\n\tdAppRk: 'ff1493',\r\n\tdApskyXe: 'bfff',\r\n\tdimWay: '696969',\r\n\tdimgYy: '696969',\r\n\tdodgerXe: '1e90ff',\r\n\tfiYbrick: 'b22222',\r\n\tflSOwEte: 'fffaf0',\r\n\tfoYstWAn: '228b22',\r\n\tfuKsia: 'ff00ff',\r\n\tgaRsbSo: 'dcdcdc',\r\n\tghostwEte: 'f8f8ff',\r\n\tgTd: 'ffd700',\r\n\tgTMnPd: 'daa520',\r\n\tWay: '808080',\r\n\tgYF: '8000',\r\n\tgYFLw: 'adff2f',\r\n\tgYy: '808080',\r\n\thoneyMw: 'f0fff0',\r\n\thotpRk: 'ff69b4',\r\n\tRdianYd: 'cd5c5c',\r\n\tRdigo: '4b0082',\r\n\tivSy: 'fffff0',\r\n\tkhaki: 'f0e68c',\r\n\tlavFMr: 'e6e6fa',\r\n\tlavFMrXsh: 'fff0f5',\r\n\tlawngYF: '7cfc00',\r\n\tNmoncEffon: 'fffacd',\r\n\tZXe: 'add8e6',\r\n\tZcSO: 'f08080',\r\n\tZcyan: 'e0ffff',\r\n\tZgTMnPdLw: 'fafad2',\r\n\tZWay: 'd3d3d3',\r\n\tZgYF: '90ee90',\r\n\tZgYy: 'd3d3d3',\r\n\tZpRk: 'ffb6c1',\r\n\tZsOmon: 'ffa07a',\r\n\tZsHgYF: '20b2aa',\r\n\tZskyXe: '87cefa',\r\n\tZUWay: '778899',\r\n\tZUgYy: '778899',\r\n\tZstAlXe: 'b0c4de',\r\n\tZLw: 'ffffe0',\r\n\tlime: 'ff00',\r\n\tlimegYF: '32cd32',\r\n\tlRF: 'faf0e6',\r\n\tmagFta: 'ff00ff',\r\n\tmaPon: '800000',\r\n\tVaquamarRe: '66cdaa',\r\n\tVXe: 'cd',\r\n\tVScEd: 'ba55d3',\r\n\tVpurpN: '9370db',\r\n\tVsHgYF: '3cb371',\r\n\tVUXe: '7b68ee',\r\n\tVsprRggYF: 'fa9a',\r\n\tVQe: '48d1cc',\r\n\tVviTetYd: 'c71585',\r\n\tmidnightXe: '191970',\r\n\tmRtcYam: 'f5fffa',\r\n\tmistyPse: 'ffe4e1',\r\n\tmoccasR: 'ffe4b5',\r\n\tnavajowEte: 'ffdead',\r\n\tnavy: '80',\r\n\tTdlace: 'fdf5e6',\r\n\tTive: '808000',\r\n\tTivedBb: '6b8e23',\r\n\tSange: 'ffa500',\r\n\tSangeYd: 'ff4500',\r\n\tScEd: 'da70d6',\r\n\tpOegTMnPd: 'eee8aa',\r\n\tpOegYF: '98fb98',\r\n\tpOeQe: 'afeeee',\r\n\tpOeviTetYd: 'db7093',\r\n\tpapayawEp: 'ffefd5',\r\n\tpHKpuff: 'ffdab9',\r\n\tperu: 'cd853f',\r\n\tpRk: 'ffc0cb',\r\n\tplum: 'dda0dd',\r\n\tpowMrXe: 'b0e0e6',\r\n\tpurpN: '800080',\r\n\tYbeccapurpN: '663399',\r\n\tYd: 'ff0000',\r\n\tPsybrown: 'bc8f8f',\r\n\tPyOXe: '4169e1',\r\n\tsaddNbPwn: '8b4513',\r\n\tsOmon: 'fa8072',\r\n\tsandybPwn: 'f4a460',\r\n\tsHgYF: '2e8b57',\r\n\tsHshell: 'fff5ee',\r\n\tsiFna: 'a0522d',\r\n\tsilver: 'c0c0c0',\r\n\tskyXe: '87ceeb',\r\n\tUXe: '6a5acd',\r\n\tUWay: '708090',\r\n\tUgYy: '708090',\r\n\tsnow: 'fffafa',\r\n\tsprRggYF: 'ff7f',\r\n\tstAlXe: '4682b4',\r\n\ttan: 'd2b48c',\r\n\tteO: '8080',\r\n\ttEstN: 'd8bfd8',\r\n\ttomato: 'ff6347',\r\n\tQe: '40e0d0',\r\n\tviTet: 'ee82ee',\r\n\tJHt: 'f5deb3',\r\n\twEte: 'ffffff',\r\n\twEtesmoke: 'f5f5f5',\r\n\tLw: 'ffff00',\r\n\tLwgYF: '9acd32'\r\n};\r\nfunction unpack() {\r\n  const unpacked = {};\r\n  const keys = Object.keys(names$1);\r\n  const tkeys = Object.keys(map);\r\n  let i, j, k, ok, nk;\r\n  for (i = 0; i < keys.length; i++) {\r\n    ok = nk = keys[i];\r\n    for (j = 0; j < tkeys.length; j++) {\r\n      k = tkeys[j];\r\n      nk = nk.replace(k, map[k]);\r\n    }\r\n    k = parseInt(names$1[ok], 16);\r\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\r\n  }\r\n  return unpacked;\r\n}\r\n\r\nlet names;\r\nfunction nameParse(str) {\r\n  if (!names) {\r\n    names = unpack();\r\n    names.transparent = [0, 0, 0, 0];\r\n  }\r\n  const a = names[str.toLowerCase()];\r\n  return a && {\r\n    r: a[0],\r\n    g: a[1],\r\n    b: a[2],\r\n    a: a.length === 4 ? a[3] : 255\r\n  };\r\n}\r\n\r\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\r\nfunction rgbParse(str) {\r\n  const m = RGB_RE.exec(str);\r\n  let a = 255;\r\n  let r, g, b;\r\n  if (!m) {\r\n    return;\r\n  }\r\n  if (m[7] !== r) {\r\n    const v = +m[7];\r\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\r\n  }\r\n  r = +m[1];\r\n  g = +m[3];\r\n  b = +m[5];\r\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\r\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\r\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\r\n  return {\r\n    r: r,\r\n    g: g,\r\n    b: b,\r\n    a: a\r\n  };\r\n}\r\nfunction rgbString(v) {\r\n  return v && (\r\n    v.a < 255\r\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\r\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\r\n  );\r\n}\r\n\r\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\r\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\r\nfunction interpolate(rgb1, rgb2, t) {\r\n  const r = from(b2n(rgb1.r));\r\n  const g = from(b2n(rgb1.g));\r\n  const b = from(b2n(rgb1.b));\r\n  return {\r\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\r\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\r\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\r\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\r\n  };\r\n}\r\n\r\nfunction modHSL(v, i, ratio) {\r\n  if (v) {\r\n    let tmp = rgb2hsl(v);\r\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\r\n    tmp = hsl2rgb(tmp);\r\n    v.r = tmp[0];\r\n    v.g = tmp[1];\r\n    v.b = tmp[2];\r\n  }\r\n}\r\nfunction clone(v, proto) {\r\n  return v ? Object.assign(proto || {}, v) : v;\r\n}\r\nfunction fromObject(input) {\r\n  var v = {r: 0, g: 0, b: 0, a: 255};\r\n  if (Array.isArray(input)) {\r\n    if (input.length >= 3) {\r\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\r\n      if (input.length > 3) {\r\n        v.a = n2b(input[3]);\r\n      }\r\n    }\r\n  } else {\r\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\r\n    v.a = n2b(v.a);\r\n  }\r\n  return v;\r\n}\r\nfunction functionParse(str) {\r\n  if (str.charAt(0) === 'r') {\r\n    return rgbParse(str);\r\n  }\r\n  return hueParse(str);\r\n}\r\nclass Color {\r\n  constructor(input) {\r\n    if (input instanceof Color) {\r\n      return input;\r\n    }\r\n    const type = typeof input;\r\n    let v;\r\n    if (type === 'object') {\r\n      v = fromObject(input);\r\n    } else if (type === 'string') {\r\n      v = hexParse(input) || nameParse(input) || functionParse(input);\r\n    }\r\n    this._rgb = v;\r\n    this._valid = !!v;\r\n  }\r\n  get valid() {\r\n    return this._valid;\r\n  }\r\n  get rgb() {\r\n    var v = clone(this._rgb);\r\n    if (v) {\r\n      v.a = b2n(v.a);\r\n    }\r\n    return v;\r\n  }\r\n  set rgb(obj) {\r\n    this._rgb = fromObject(obj);\r\n  }\r\n  rgbString() {\r\n    return this._valid ? rgbString(this._rgb) : undefined;\r\n  }\r\n  hexString() {\r\n    return this._valid ? hexString(this._rgb) : undefined;\r\n  }\r\n  hslString() {\r\n    return this._valid ? hslString(this._rgb) : undefined;\r\n  }\r\n  mix(color, weight) {\r\n    if (color) {\r\n      const c1 = this.rgb;\r\n      const c2 = color.rgb;\r\n      let w2;\r\n      const p = weight === w2 ? 0.5 : weight;\r\n      const w = 2 * p - 1;\r\n      const a = c1.a - c2.a;\r\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\r\n      w2 = 1 - w1;\r\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\r\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\r\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\r\n      c1.a = p * c1.a + (1 - p) * c2.a;\r\n      this.rgb = c1;\r\n    }\r\n    return this;\r\n  }\r\n  interpolate(color, t) {\r\n    if (color) {\r\n      this._rgb = interpolate(this._rgb, color._rgb, t);\r\n    }\r\n    return this;\r\n  }\r\n  clone() {\r\n    return new Color(this.rgb);\r\n  }\r\n  alpha(a) {\r\n    this._rgb.a = n2b(a);\r\n    return this;\r\n  }\r\n  clearer(ratio) {\r\n    const rgb = this._rgb;\r\n    rgb.a *= 1 - ratio;\r\n    return this;\r\n  }\r\n  greyscale() {\r\n    const rgb = this._rgb;\r\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\r\n    rgb.r = rgb.g = rgb.b = val;\r\n    return this;\r\n  }\r\n  opaquer(ratio) {\r\n    const rgb = this._rgb;\r\n    rgb.a *= 1 + ratio;\r\n    return this;\r\n  }\r\n  negate() {\r\n    const v = this._rgb;\r\n    v.r = 255 - v.r;\r\n    v.g = 255 - v.g;\r\n    v.b = 255 - v.b;\r\n    return this;\r\n  }\r\n  lighten(ratio) {\r\n    modHSL(this._rgb, 2, ratio);\r\n    return this;\r\n  }\r\n  darken(ratio) {\r\n    modHSL(this._rgb, 2, -ratio);\r\n    return this;\r\n  }\r\n  saturate(ratio) {\r\n    modHSL(this._rgb, 1, ratio);\r\n    return this;\r\n  }\r\n  desaturate(ratio) {\r\n    modHSL(this._rgb, 1, -ratio);\r\n    return this;\r\n  }\r\n  rotate(deg) {\r\n    rotate(this._rgb, deg);\r\n    return this;\r\n  }\r\n}\r\n\r\nfunction index_esm(input) {\r\n  return new Color(input);\r\n}\r\n\r\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\r\n","/**\n * @namespace Chart.helpers\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ActiveDataPoint, ChartEvent} from '../types/index.js';\n\n/**\n * An empty function that can be used, for example, for optional callback.\n */\nexport function noop() {\n  /* noop */\n}\n\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */\nexport const uid = (() => {\n  let id = 0;\n  return () => id++;\n})();\n\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isNullOrUndef(value: unknown): value is null | undefined {\n  return value === null || value === undefined;\n}\n\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */\nexport function isArray<T = unknown>(value: unknown): value is T[] {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isObject(value: unknown): value is AnyObject {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */\nfunction isNumberFinite(value: unknown): value is number {\n  return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\nexport {\n  isNumberFinite as isFinite,\n};\n\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */\nexport function finiteOrDefault(value: unknown, defaultValue: number) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\n\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */\nexport function valueOrDefault<T>(value: T | undefined, defaultValue: T) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\n\nexport const toPercentage = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : +value / dimension;\n\nexport const toDimension = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\n\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */\nexport function callback<T extends (this: TA, ...restArgs: unknown[]) => R, TA, R>(\n  fn: T | undefined,\n  args: unknown[],\n  thisArg?: TA\n): R | undefined {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\n\n/**\n * Note(SB) for performance sake, this method should only be used when loopable type\n * is unknown or in none intensive code (not called often and small loopable). Else\n * it's preferable to use a regular for() loop and save extra function calls.\n * @param loopable - The object or array to be iterated.\n * @param fn - The function to call for each item.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n * @param [reverse] - If true, iterates backward on the loopable.\n */\nexport function each<T, TA>(\n  loopable: Record<string, T>,\n  fn: (this: TA, v: T, i: string) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[],\n  fn: (this: TA, v: T, i: number) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[] | Record<string, T>,\n  fn: (this: TA, v: T, i: any) => void,\n  thisArg?: TA,\n  reverse?: boolean\n) {\n  let i: number, len: number, keys: string[];\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\n\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */\nexport function _elementsEqual(a0: ActiveDataPoint[], a1: ActiveDataPoint[]) {\n  let i: number, ilen: number, v0: ActiveDataPoint, v1: ActiveDataPoint;\n\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */\nexport function clone<T>(source: T): T {\n  if (isArray(source)) {\n    return source.map(clone) as unknown as T;\n  }\n\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone(source[keys[k]]);\n    }\n\n    return target;\n  }\n\n  return source;\n}\n\nfunction isValidKey(key: string) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\n\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */\nexport function _merger(key: string, target: AnyObject, source: AnyObject, options: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone(sval);\n  }\n}\n\nexport interface MergeOptions {\n  merger?: (key: string, target: AnyObject, source: AnyObject, options?: AnyObject) => void;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` with the given `options`.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @param [options] - Merging options:\n * @param [options.merger] - The merge method (key, target, source, options)\n * @returns The `target` object.\n */\nexport function merge<T>(target: T, source: [], options?: MergeOptions): T;\nexport function merge<T, S1>(target: T, source: S1, options?: MergeOptions): T & S1;\nexport function merge<T, S1>(target: T, source: [S1], options?: MergeOptions): T & S1;\nexport function merge<T, S1, S2>(target: T, source: [S1, S2], options?: MergeOptions): T & S1 & S2;\nexport function merge<T, S1, S2, S3>(target: T, source: [S1, S2, S3], options?: MergeOptions): T & S1 & S2 & S3;\nexport function merge<T, S1, S2, S3, S4>(\n  target: T,\n  source: [S1, S2, S3, S4],\n  options?: MergeOptions\n): T & S1 & S2 & S3 & S4;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n\n  if (!isObject(target)) {\n    return target as AnyObject;\n  }\n\n  options = options || {};\n  const merger = options.merger || _merger;\n  let current: AnyObject;\n\n  for (let i = 0; i < ilen; ++i) {\n    current = sources[i];\n    if (!isObject(current)) {\n      continue;\n    }\n\n    const keys = Object.keys(current);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, current, options as AnyObject);\n    }\n  }\n\n  return target;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` *only* if not defined in target.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @returns The `target` object.\n */\nexport function mergeIf<T>(target: T, source: []): T;\nexport function mergeIf<T, S1>(target: T, source: S1): T & S1;\nexport function mergeIf<T, S1>(target: T, source: [S1]): T & S1;\nexport function mergeIf<T, S1, S2>(target: T, source: [S1, S2]): T & S1 & S2;\nexport function mergeIf<T, S1, S2, S3>(target: T, source: [S1, S2, S3]): T & S1 & S2 & S3;\nexport function mergeIf<T, S1, S2, S3, S4>(target: T, source: [S1, S2, S3, S4]): T & S1 & S2 & S3 & S4;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return merge<T>(target, source, {merger: _mergerIf});\n}\n\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */\nexport function _mergerIf(key: string, target: AnyObject, source: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone(sval);\n  }\n}\n\n/**\n * @private\n */\nexport function _deprecated(scope: string, value: unknown, previous: string, current: string) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n      '\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\n\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n  // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n  '': v => v,\n  // default resolvers\n  x: o => o.x,\n  y: o => o.y\n};\n\n/**\n * @private\n */\nexport function _splitKey(key: string) {\n  const parts = key.split('.');\n  const keys: string[] = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\n\nfunction _getKeyResolver(key: string) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        // For backward compatibility:\n        // Chart.helpers.core resolveObjectKey should break at empty key\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\n\nexport function resolveObjectKey(obj: AnyObject, key: string): any {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\n\n/**\n * @private\n */\nexport function _capitalize(str: string) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\nexport const defined = (value: unknown) => typeof value !== 'undefined';\n\nexport const isFunction = (value: unknown): value is (...args: any[]) => any => typeof value === 'function';\n\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nexport const setsEqual = <T>(a: Set<T>, b: Set<T>) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @param e - The event\n * @private\n */\nexport function _isClickEvent(e: ChartEvent) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n","import type {Point} from '../types/geometric.js';\nimport {isFinite as isFiniteNumber} from './helpers.core.js';\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */\n\nexport const PI = Math.PI;\nexport const TAU = 2 * PI;\nexport const PITAU = TAU + PI;\nexport const INFINITY = Number.POSITIVE_INFINITY;\nexport const RAD_PER_DEG = PI / 180;\nexport const HALF_PI = PI / 2;\nexport const QUARTER_PI = PI / 4;\nexport const TWO_THIRDS_PI = PI * 2 / 3;\n\nexport const log10 = Math.log10;\nexport const sign = Math.sign;\n\nexport function almostEquals(x: number, y: number, epsilon: number) {\n  return Math.abs(x - y) < epsilon;\n}\n\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */\nexport function niceNum(range: number) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\n\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */\nexport function _factorize(value: number) {\n  const result: number[] = [];\n  const sqrt = Math.sqrt(value);\n  let i: number;\n\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) { // if value is a square number\n    result.push(sqrt);\n  }\n\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\n\nexport function isNumber(n: unknown): n is number {\n  return !isNaN(parseFloat(n as string)) && isFinite(n as number);\n}\n\nexport function almostWhole(x: number, epsilon: number) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\n\n/**\n * @private\n */\nexport function _setMinAndMaxByKey(\n  array: Record<string, number>[],\n  target: { min: number, max: number },\n  property: string\n) {\n  let i: number, ilen: number, value: number;\n\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\n\nexport function toRadians(degrees: number) {\n  return degrees * (PI / 180);\n}\n\nexport function toDegrees(radians: number) {\n  return radians * (180 / PI);\n}\n\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */\nexport function _decimalPlaces(x: number) {\n  if (!isFiniteNumber(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\n\n// Gets the angle from vertical upright to the point about a centre.\nexport function getAngleFromPoint(\n  centrePoint: Point,\n  anglePoint: Point\n) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n  if (angle < (-0.5 * PI)) {\n    angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n  }\n\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\n\nexport function distanceBetweenPoints(pt1: Point, pt2: Point) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */\nexport function _angleDiff(a: number, b: number) {\n  return (a - b + PITAU) % TAU - PI;\n}\n\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */\nexport function _normalizeAngle(a: number) {\n  return (a % TAU + TAU) % TAU;\n}\n\n/**\n * @private\n */\nexport function _angleBetween(angle: number, start: number, end: number, sameAngleIsFullCircle?: boolean) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\n\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */\nexport function _limitValue(value: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * @param {number} value\n * @private\n */\nexport function _int16Range(value: number) {\n  return _limitValue(value, -32768, 32767);\n}\n\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */\nexport function _isBetween(value: number, start: number, end: number, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n","import {_capitalize} from './helpers.core.js';\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param value - value to find\n * @param cmp\n * @private\n */\nexport function _lookup(\n  table: number[],\n  value: number,\n  cmp?: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup<T>(\n  table: T[],\n  value: number,\n  cmp: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup(\n  table: unknown[],\n  value: number,\n  cmp?: (value: number) => boolean\n) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid: number;\n\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return {lo, hi};\n}\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */\nexport const _lookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number,\n  last?: boolean\n) =>\n  _lookup(table, value, last\n    ? index => {\n      const ti = table[index][key];\n      return ti < value || ti === value && table[index + 1][key] === value;\n    }\n    : index => table[index][key] < value);\n\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */\nexport const _rlookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number\n) =>\n  _lookup(table, value, index => table[index][key] >= value);\n\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */\nexport function _filterBetween(values: number[], min: number, max: number) {\n  let start = 0;\n  let end = values.length;\n\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\n\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'] as const;\n\nexport interface ArrayListener<T> {\n  _onDataPush?(...item: T[]): void;\n  _onDataPop?(): void;\n  _onDataShift?(): void;\n  _onDataSplice?(index: number, deleteCount: number, ...items: T[]): void;\n  _onDataUnshift?(...item: T[]): void;\n}\n\n/**\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n * called on the '_onData*' callbacks (e.g. _onDataPush, etc.) with same arguments.\n */\nexport function listenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n\n        return res;\n      }\n    });\n  });\n}\n\n\n/**\n * Removes the given array event listener and cleanup extra attached properties (such as\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n */\nexport function unlistenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n\n  if (listeners.length > 0) {\n    return;\n  }\n\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n\n  delete array._chartjs;\n}\n\n/**\n * @param items\n */\nexport function _arrayUnique<T>(items: T[]) {\n  const set = new Set<T>(items);\n\n  if (set.size === items.length) {\n    return items;\n  }\n\n  return Array.from(set);\n}\n","import type {ChartMeta, PointElement} from '../types/index.js';\n\nimport {_limitValue} from './helpers.math.js';\nimport {_lookupByKey} from './helpers.collection.js';\n\nexport function fontString(pixelSize: number, fontStyle: string, fontFamily: string) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n\n/**\n* Request animation polyfill\n*/\nexport const requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\n\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */\nexport function throttled<TArgs extends Array<any>>(\n  fn: (...args: TArgs) => void,\n  thisArg: any,\n) {\n  let argsToUse = [] as TArgs;\n  let ticking = false;\n\n  return function(...args: TArgs) {\n    // Save the args for use later\n    argsToUse = args;\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, argsToUse);\n      });\n    }\n  };\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n */\nexport function debounce<TArgs extends Array<any>>(fn: (...args: TArgs) => void, delay: number) {\n  let timeout;\n  return function(...args: TArgs) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\n\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */\nexport const _toLeftRightCenter = (align: 'start' | 'end' | 'center') => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */\nexport const _alignStartEnd = (align: 'start' | 'end' | 'center', start: number, end: number) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */\nexport const _textX = (align: 'left' | 'right' | 'center', left: number, right: number, rtl: boolean) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\n/**\n * Return start and count of visible points.\n * @private\n */\nexport function _getStartAndCountOfVisiblePoints(meta: ChartMeta<'line' | 'scatter'>, points: PointElement[], animationsDisabled: boolean) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count = pointCount;\n\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, axis, min).lo,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {start, count};\n}\n\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */\nexport function _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n","import {PI, TAU, HALF_PI} from './helpers.math.js';\n\nconst atEdge = (t: number) => t === 0 || t === 1;\nconst elasticIn = (t: number, s: number, p: number) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t: number, s: number, p: number) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */\nconst effects = {\n  linear: (t: number) => t,\n\n  easeInQuad: (t: number) => t * t,\n\n  easeOutQuad: (t: number) => -t * (t - 2),\n\n  easeInOutQuad: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n\n  easeInCubic: (t: number) => t * t * t,\n\n  easeOutCubic: (t: number) => (t -= 1) * t * t + 1,\n\n  easeInOutCubic: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n\n  easeInQuart: (t: number) => t * t * t * t,\n\n  easeOutQuart: (t: number) => -((t -= 1) * t * t * t - 1),\n\n  easeInOutQuart: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n\n  easeInQuint: (t: number) => t * t * t * t * t,\n\n  easeOutQuint: (t: number) => (t -= 1) * t * t * t * t + 1,\n\n  easeInOutQuint: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n\n  easeInSine: (t: number) => -Math.cos(t * HALF_PI) + 1,\n\n  easeOutSine: (t: number) => Math.sin(t * HALF_PI),\n\n  easeInOutSine: (t: number) => -0.5 * (Math.cos(PI * t) - 1),\n\n  easeInExpo: (t: number) => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n\n  easeOutExpo: (t: number) => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n\n  easeInOutExpo: (t: number) => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n\n  easeInCirc: (t: number) => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n\n  easeOutCirc: (t: number) => Math.sqrt(1 - (t -= 1) * t),\n\n  easeInOutCirc: (t: number) => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n\n  easeInElastic: (t: number) => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n\n  easeOutElastic: (t: number) => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n\n  easeInOutElastic(t: number) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n\n  easeInBack(t: number) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n\n  easeOutBack(t: number) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n\n  easeInOutBack(t: number) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n\n  easeInBounce: (t: number) => 1 - effects.easeOutBounce(1 - t),\n\n  easeOutBounce(t: number) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n\n  easeInOutBounce: (t: number) => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n} as const;\n\nexport type EasingFunction = keyof typeof effects\n\nexport default effects;\n","import {Color} from '@kurkle/color';\n\nexport function isPatternOrGradient(value: unknown): value is CanvasPattern | CanvasGradient {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n\n  return false;\n}\n\nexport function color(value: CanvasGradient): CanvasGradient;\nexport function color(value: CanvasPattern): CanvasPattern;\nexport function color(\n  value:\n  | string\n  | { r: number; g: number; b: number; a: number }\n  | [number, number, number]\n  | [number, number, number, number]\n): Color;\nexport function color(value) {\n  return isPatternOrGradient(value) ? value : new Color(value);\n}\n\nexport function getHoverColor(value: CanvasGradient): CanvasGradient;\nexport function getHoverColor(value: CanvasPattern): CanvasPattern;\nexport function getHoverColor(value: string): string;\nexport function getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n","const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\n\nexport function applyAnimationsDefaults(defaults) {\n  defaults.set('animation', {\n    delay: undefined,\n    duration: 1000,\n    easing: 'easeOutQuart',\n    fn: undefined,\n    from: undefined,\n    loop: undefined,\n    to: undefined,\n    type: undefined,\n  });\n\n  defaults.describe('animation', {\n    _fallback: false,\n    _indexable: false,\n    _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n  });\n\n  defaults.set('animations', {\n    colors: {\n      type: 'color',\n      properties: colors\n    },\n    numbers: {\n      type: 'number',\n      properties: numbers\n    },\n  });\n\n  defaults.describe('animations', {\n    _fallback: 'animation',\n  });\n\n  defaults.set('transitions', {\n    active: {\n      animation: {\n        duration: 400\n      }\n    },\n    resize: {\n      animation: {\n        duration: 0\n      }\n    },\n    show: {\n      animations: {\n        colors: {\n          from: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          duration: 0 // show immediately\n        },\n      }\n    },\n    hide: {\n      animations: {\n        colors: {\n          to: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          easing: 'linear',\n          fn: v => v | 0 // for keeping the dataset visible all the way through the animation\n        },\n      }\n    }\n  });\n}\n","\nconst intlCache = new Map<string, Intl.NumberFormat>();\n\nfunction getNumberFormat(locale: string, options?: Intl.NumberFormatOptions) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\n\nexport function formatNumber(num: number, locale: string, options?: Intl.NumberFormatOptions) {\n  return getNumberFormat(locale, options).format(num);\n}\n","import {isArray} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {log10} from '../helpers/helpers.math.js';\n\n/**\n * Namespace to hold formatters for different types of ticks\n * @namespace Chart.Ticks.formatters\n */\nconst formatters = {\n  /**\n   * Formatter for value labels\n   * @method Chart.Ticks.formatters.values\n   * @param value the value to display\n   * @return {string|string[]} the label to display\n   */\n  values(value) {\n    return isArray(value) ? /** @type {string[]} */ (value) : '' + value;\n  },\n\n  /**\n   * Formatter for numeric ticks\n   * @method Chart.Ticks.formatters.numeric\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0'; // never show decimal places for 0\n    }\n\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue; // This is used when there are less than 2 ticks as the tick interval.\n\n    if (ticks.length > 1) {\n      // all ticks are small or there huge numbers; use scientific notation\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    const logDelta = log10(Math.abs(delta));\n\n    // When datasets have values approaching Number.MAX_VALUE, the tick calculations might result in\n    // infinity and eventually NaN. Passing NaN for minimumFractionDigits or maximumFractionDigits\n    // will make the number formatter throw. So instead we check for isNaN and use a fallback value.\n    //\n    // toFixed has a max of 20 decimal places\n    const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n\n    return formatNumber(tickValue, locale, options);\n  },\n\n\n  /**\n   * Formatter for logarithmic ticks\n   * @method Chart.Ticks.formatters.logarithmic\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = ticks[index].significand || (tickValue / (Math.pow(10, Math.floor(log10(tickValue)))));\n    if ([1, 2, 3, 5, 10, 15].includes(remain) || index > 0.8 * ticks.length) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n\n};\n\n\nfunction calculateDelta(tickValue, ticks) {\n  // Figure out how many digits to show\n  // The space between the first two ticks might be smaller than normal spacing\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  // If we have a number like 2.5 as the delta, figure out how many decimal places we need\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    // not an integer\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\n\n/**\n * Namespace to hold static tick generation functions\n * @namespace Chart.Ticks\n */\nexport default {formatters};\n","import {getHoverColor} from '../helpers/helpers.color.js';\nimport {isObject, merge, valueOrDefault} from '../helpers/helpers.core.js';\nimport {applyAnimationsDefaults} from './core.animations.defaults.js';\nimport {applyLayoutsDefaults} from './core.layouts.defaults.js';\nimport {applyScaleDefaults} from './core.scale.defaults.js';\n\nexport const overrides = Object.create(null);\nexport const descriptors = Object.create(null);\n\n/**\n * @param {object} node\n * @param {string} key\n * @return {object}\n */\nfunction getScope(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\n\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope(root, scope), values);\n  }\n  return merge(getScope(root, ''), scope);\n}\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Defaults {\n  constructor(_descriptors, _appliers) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n\n    this.describe(_descriptors);\n    this.apply(_appliers);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n\n  /**\n\t * @param {string} scope\n\t */\n  get(scope) {\n    return getScope(this, scope);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n\n  /**\n\t * Routes the named defaults to fallback to another scope/name.\n\t * This routing is useful when those target values, like defaults.color, are changed runtime.\n\t * If the values would be copied, the runtime change would not take effect. By routing, the\n\t * fallback is evaluated at each access, so its always up to date.\n\t *\n\t * Example:\n\t *\n\t * \tdefaults.route('elements.arc', 'backgroundColor', '', 'color')\n\t *   - reads the backgroundColor from defaults.color when undefined locally\n\t *\n\t * @param {string} scope Scope this route applies to.\n\t * @param {string} name Property name that should be routed to different namespace when not defined here.\n\t * @param {string} targetScope The namespace where those properties should be routed to.\n\t * Empty string ('') is the root of defaults.\n\t * @param {string} targetName The target name in the target scope the property should be routed to.\n\t */\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope(this, scope);\n    const targetScopeObject = getScope(this, targetScope);\n    const privateName = '_' + name;\n\n    Object.defineProperties(scopeObject, {\n      // A private property is defined to hold the actual value, when this property is set in its scope (set in the setter)\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      // The actual property is defined as getter/setter so we can do the routing when value is not locally set.\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n\n  apply(appliers) {\n    appliers.forEach((apply) => apply(this));\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n}, [applyAnimationsDefaults, applyLayoutsDefaults, applyScaleDefaults]);\n","export function applyLayoutsDefaults(defaults) {\n  defaults.set('layout', {\n    autoPadding: true,\n    padding: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }\n  });\n}\n","import Ticks from './core.ticks.js';\n\nexport function applyScaleDefaults(defaults) {\n  defaults.set('scale', {\n    display: true,\n    offset: false,\n    reverse: false,\n    beginAtZero: false,\n\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 3.0.0\n     */\n    bounds: 'ticks',\n\n    clip: true,\n\n    /**\n     * Addition grace added to max and reduced from min data value.\n     * @since 3.0.0\n     */\n    grace: 0,\n\n    // grid line settings\n    grid: {\n      display: true,\n      lineWidth: 1,\n      drawOnChartArea: true,\n      drawTicks: true,\n      tickLength: 8,\n      tickWidth: (_ctx, options) => options.lineWidth,\n      tickColor: (_ctx, options) => options.color,\n      offset: false,\n    },\n\n    border: {\n      display: true,\n      dash: [],\n      dashOffset: 0.0,\n      width: 1\n    },\n\n    // scale title\n    title: {\n      // display property\n      display: false,\n\n      // actual label\n      text: '',\n\n      // top/bottom padding\n      padding: {\n        top: 4,\n        bottom: 4\n      }\n    },\n\n    // label settings\n    ticks: {\n      minRotation: 0,\n      maxRotation: 50,\n      mirror: false,\n      textStrokeWidth: 0,\n      textStrokeColor: '',\n      padding: 3,\n      display: true,\n      autoSkip: true,\n      autoSkipPadding: 3,\n      labelOffset: 0,\n      // We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n      callback: Ticks.formatters.values,\n      minor: {},\n      major: {},\n      align: 'center',\n      crossAlign: 'near',\n\n      showLabelBackdrop: false,\n      backdropColor: 'rgba(255, 255, 255, 0.75)',\n      backdropPadding: 2,\n    }\n  });\n\n  defaults.route('scale.ticks', 'color', '', 'color');\n  defaults.route('scale.grid', 'color', '', 'borderColor');\n  defaults.route('scale.border', 'color', '', 'borderColor');\n  defaults.route('scale.title', 'color', '', 'color');\n\n  defaults.describe('scale', {\n    _fallback: false,\n    _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n    _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash',\n  });\n\n  defaults.describe('scales', {\n    _fallback: 'scale',\n  });\n\n  defaults.describe('scale.ticks', {\n    _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n    _indexable: (name) => name !== 'backdropPadding',\n  });\n}\n","import type {\n  Chart,\n  Point,\n  FontSpec,\n  CanvasFontSpec,\n  PointStyle,\n  RenderTextOpts,\n  BackdropOptions\n} from '../types/index.js';\nimport type {\n  TRBL,\n  SplinePoint,\n  RoundedRect,\n  TRBLCorners\n} from '../types/geometric.js';\nimport {isArray, isNullOrUndef} from './helpers.core.js';\nimport {PI, TAU, HALF_PI, QUARTER_PI, TWO_THIRDS_PI, RAD_PER_DEG} from './helpers.math.js';\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */\nexport function toFontString(font: FontSpec) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\n\n/**\n * @private\n */\nexport function _measureText(\n  ctx: CanvasRenderingContext2D,\n  data: Record<string, number>,\n  gc: string[],\n  longest: number,\n  string: string\n) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\n\ntype Thing = string | undefined | null\ntype Things = (Thing | Thing[])[]\n\n/**\n * @private\n */\n// eslint-disable-next-line complexity\nexport function _longestText(\n  ctx: CanvasRenderingContext2D,\n  font: string,\n  arrayOfThings: Things,\n  cache?: {data?: Record<string, number>, garbageCollect?: string[], font?: string}\n) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n\n  ctx.save();\n\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i: number, j: number, jlen: number, thing: Thing | Thing[], nestedThing: Thing | Thing[];\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n\n    // Undefined strings and arrays should not be measured\n    if (thing !== undefined && thing !== null && !isArray(thing)) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      // if it is an array lets measure each element\n      // to do maybe simplify this function a bit so we can do this more recursively?\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        // Undefined strings and arrays should not be measured\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n\n  ctx.restore();\n\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\n\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */\nexport function _alignPixel(chart: Chart, pixel: number, width: number) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n\n/**\n * Clears the entire canvas.\n */\nexport function clearCanvas(canvas?: HTMLCanvasElement, ctx?: CanvasRenderingContext2D) {\n  if (!ctx && !canvas) {\n    return;\n  }\n\n  ctx = ctx || canvas.getContext('2d');\n\n  ctx.save();\n  // canvas.width and canvas.height do not consider the canvas transform,\n  // while clearRect does\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\n\nexport interface DrawPointOptions {\n  pointStyle: PointStyle;\n  rotation?: number;\n  radius: number;\n  borderWidth: number;\n}\n\nexport function drawPoint(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number\n) {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  drawPointLegend(ctx, options, x, y, null);\n}\n\n// eslint-disable-next-line complexity\nexport function drawPointLegend(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number,\n  w: number\n) {\n  let type: string, xOffset: number, yOffset: number, size: number, cornerRadius: number, width: number, xOffsetW: number, yOffsetW: number;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n    default:\n      if (w) {\n        ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n      } else {\n        ctx.arc(x, y, radius, 0, TAU);\n      }\n      ctx.closePath();\n      break;\n    case 'triangle':\n      width = w ? w / 2 : radius;\n      ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      ctx.closePath();\n      break;\n    case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n      cornerRadius = radius * 0.516;\n      size = radius - cornerRadius;\n      xOffset = Math.cos(rad + QUARTER_PI) * size;\n      xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      yOffset = Math.sin(rad + QUARTER_PI) * size;\n      yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n      ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n      ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n      ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n      ctx.closePath();\n      break;\n    case 'rect':\n      if (!rotation) {\n        size = Math.SQRT1_2 * radius;\n        width = w ? w / 2 : size;\n        ctx.rect(x - width, y - size, 2 * width, 2 * size);\n        break;\n      }\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'rectRot':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      ctx.closePath();\n      break;\n    case 'crossRot':\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'cross':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'star':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      rad += QUARTER_PI;\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'line':\n      xOffset = w ? w / 2 : Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      break;\n    case 'dash':\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n      break;\n    case false:\n      ctx.closePath();\n      break;\n  }\n\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\n\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */\nexport function _isPointInArea(\n  point: Point,\n  area: TRBL,\n  margin?: number\n) {\n  margin = margin || 0.5; // margin - default is to match rounded decimals\n\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\n\nexport function clipArea(ctx: CanvasRenderingContext2D, area: TRBL) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\n\nexport function unclipArea(ctx: CanvasRenderingContext2D) {\n  ctx.restore();\n}\n\n/**\n * @private\n */\nexport function _steppedLineTo(\n  ctx: CanvasRenderingContext2D,\n  previous: Point,\n  target: Point,\n  flip?: boolean,\n  mode?: string\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @private\n */\nexport function _bezierCurveTo(\n  ctx: CanvasRenderingContext2D,\n  previous: SplinePoint,\n  target: SplinePoint,\n  flip?: boolean\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\n\nfunction setRenderOpts(ctx: CanvasRenderingContext2D, opts: RenderTextOpts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\n\nfunction decorateText(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  line: string,\n  opts: RenderTextOpts\n) {\n  if (opts.strikethrough || opts.underline) {\n    /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\n\nfunction drawBackdrop(ctx: CanvasRenderingContext2D, opts: BackdropOptions) {\n  const oldColor = ctx.fillStyle;\n\n  ctx.fillStyle = opts.color as string;\n  ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n  ctx.fillStyle = oldColor;\n}\n\n/**\n * Render text onto the canvas\n */\nexport function renderText(\n  ctx: CanvasRenderingContext2D,\n  text: string | string[],\n  x: number,\n  y: number,\n  font: CanvasFontSpec,\n  opts: RenderTextOpts = {}\n) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i: number, line: string;\n\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n\n    if (opts.backdrop) {\n      drawBackdrop(ctx, opts.backdrop);\n    }\n\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n\n    y += Number(font.lineHeight);\n  }\n\n  ctx.restore();\n}\n\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */\nexport function addRoundedRectPath(\n  ctx: CanvasRenderingContext2D,\n  rect: RoundedRect & { radius: TRBLCorners }\n) {\n  const {x, y, w, h, radius} = rect;\n\n  // top left arc\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n\n  // line from top left to bottom left\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n\n  // bottom left arc\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n\n  // line from bottom left to bottom right\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n\n  // bottom right arc\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n\n  // line from bottom right to top right\n  ctx.lineTo(x + w, y + radius.topRight);\n\n  // top right arc\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n\n  // line from top right to top left\n  ctx.lineTo(x + radius.topLeft, y);\n}\n","import defaults from '../core/core.defaults.js';\nimport {isArray, isObject, toDimension, valueOrDefault} from './helpers.core.js';\nimport {toFontString} from './helpers.canvas.js';\nimport type {ChartArea, FontSpec, Point} from '../types/index.js';\nimport type {TRBL, TRBLCorners} from '../types/geometric.js';\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n\n/**\n * @alias Chart.helpers.options\n * @namespace\n */\n/**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */\nexport function toLineHeight(value: number | string, size: number): number {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n\n  value = +matches[2];\n\n  switch (matches[3]) {\n    case 'px':\n      return value;\n    case '%':\n      value /= 100;\n      break;\n    default:\n      break;\n  }\n\n  return size * value;\n}\n\nconst numberOrZero = (v: unknown) => +v || 0;\n\n/**\n * @param value\n * @param props\n */\nexport function _readValueToProps<K extends string>(value: number | Record<K, number>, props: K[]): Record<K, number>;\nexport function _readValueToProps<K extends string, T extends string>(value: number | Record<K & T, number>, props: Record<T, K>): Record<T, number>;\nexport function _readValueToProps(value: number | Record<string, number>, props: string[] | Record<string, string>) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\n\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */\nexport function toTRBL(value: number | TRBL | Point) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\n\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */\nexport function toTRBLCorners(value: number | TRBLCorners) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\n\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */\nexport function toPadding(value?: number | TRBL): ChartArea {\n  const obj = toTRBL(value) as ChartArea;\n\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n\n  return obj;\n}\n\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */\n\nexport function toFont(options: Partial<FontSpec>, fallback?: Partial<FontSpec>) {\n  options = options || {};\n  fallback = fallback || defaults.font as FontSpec;\n\n  let size = valueOrDefault(options.size, fallback.size);\n\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = undefined;\n  }\n\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n\n  font.string = toFontString(font);\n  return font;\n}\n\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */\nexport function resolve(inputs: Array<unknown>, context?: object, index?: number, info?: { cacheable: boolean }) {\n  let cacheable = true;\n  let i: number, ilen: number, value: unknown;\n\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\n\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */\nexport function _addGrace(minmax: { min: number; max: number; }, grace: number | string, beginAtZero: boolean) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value: number, add: number) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\n\n/**\n * Create a context inheriting parentContext\n * @param parentContext\n * @param context\n * @returns\n */\nexport function createContext<T extends object>(parentContext: null, context: T): T;\nexport function createContext<T extends object, P extends T>(parentContext: P, context: T): P & T;\nexport function createContext(parentContext: object, context: object) {\n  return Object.assign(Object.create(parentContext), context);\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartMeta} from '../types/index.js';\nimport type {\n  ResolverObjectKey,\n  ResolverCache,\n  ResolverProxy,\n  DescriptorDefaults,\n  Descriptor,\n  ContextCache,\n  ContextProxy\n} from './helpers.config.types.js';\nimport {isArray, isFunction, isObject, resolveObjectKey, _capitalize} from './helpers.core.js';\n\nexport * from './helpers.config.types.js';\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */\nexport function _createResolver<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  scopes: T,\n  prefixes = [''],\n  rootScopes?: R,\n  fallback?: ResolverObjectKey,\n  getTarget = () => scopes[0]\n) {\n  const finalRootScopes = rootScopes || scopes;\n  if (typeof fallback === 'undefined') {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache: ResolverCache<T, R> = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: finalRootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope: AnyObject) => _createResolver([scope, ...scopes], prefixes, finalRootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop: string) {\n      delete target[prop]; // remove from cache\n      delete target._keys; // remove cached keys\n      delete scopes[0][prop]; // remove from top level scope\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop: string) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop: string, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value; // set to top level scope + cache\n      delete target._keys; // remove cached keys\n      return true;\n    }\n  }) as ResolverProxy<T, R>;\n}\n\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */\nexport function _attachContext<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  proxy: ResolverProxy<T, R>,\n  context: AnyObject,\n  subProxy?: ResolverProxy<T, R>,\n  descriptorDefaults?: DescriptorDefaults\n) {\n  const cache: ContextCache<T, R> = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx: AnyObject) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope: AnyObject) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop) {\n      delete target[prop]; // remove from cache\n      delete proxy[prop]; // remove from proxy\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop, value) {\n      proxy[prop] = value; // set to proxy\n      delete target[prop]; // remove from cache\n      return true;\n    }\n  }) as ContextProxy<T, R>;\n}\n\n/**\n * @private\n */\nexport function _descriptors(\n  proxy: ResolverCache,\n  defaults: DescriptorDefaults = {scriptable: true, indexable: true}\n): Descriptor {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\n\nconst readKey = (prefix: string, name: string) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop: string, value: unknown) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\n\nfunction _cached(\n  target: AnyObject,\n  prop: string,\n  resolve: () => unknown\n) {\n  if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n    return target[prop];\n  }\n\n  const value = resolve();\n  // cache the resolved value\n  target[prop] = value;\n  return value;\n}\n\nfunction _resolveWithContext(\n  target: ContextCache,\n  prop: string,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop]; // resolve from proxy\n\n  // resolve with context\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    // if the resolved value is an object, create a sub resolver for it\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\n\nfunction _resolveScriptable(\n  prop: string,\n  getValue: (ctx: AnyObject, sub: AnyObject) => unknown,\n  target: ContextCache,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  let value = getValue(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    // When scriptable option returns an object, create a resolver on that.\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\n\nfunction _resolveArray(\n  prop: string,\n  value: unknown[],\n  target: ContextCache,\n  isIndexable: (key: string) => boolean\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n\n  if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n    return value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    // Array of objects, return array or resolvers\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\n\nfunction resolveFallback(\n  fallback: ResolverObjectKey | ((prop: ResolverObjectKey, value: unknown) => ResolverObjectKey),\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\n\nconst getScope = (key: ResolverObjectKey, parent: AnyObject) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\n\nfunction addScopes(\n  set: Set<AnyObject>,\n  parentScopes: AnyObject[],\n  key: ResolverObjectKey,\n  parentFallback: ResolverObjectKey,\n  value: unknown\n) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n        // When we reach the descriptor that defines a new _fallback, return that.\n        // The fallback will resume to that new scope.\n        return fallback;\n      }\n    } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n      // Fallback to `false` results to `false`, when falling back to different key.\n      // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n      return null;\n    }\n  }\n  return false;\n}\n\nfunction createSubResolver(\n  parentScopes: AnyObject[],\n  resolver: ResolverCache,\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set<AnyObject>();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (typeof fallback !== 'undefined' && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop as string, value));\n}\n\nfunction addScopesFromKey(\n  set: Set<AnyObject>,\n  allScopes: AnyObject[],\n  key: ResolverObjectKey,\n  fallback: ResolverObjectKey,\n  item: unknown\n) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\n\nfunction subGetTarget(\n  resolver: ResolverCache,\n  prop: string,\n  value: unknown\n) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    // For array of objects, the object is used to store updated values\n    return value;\n  }\n  return target || {};\n}\n\nfunction _resolveWithPrefixes(\n  prop: string,\n  prefixes: string[],\n  scopes: AnyObject[],\n  proxy: ResolverProxy\n) {\n  let value: unknown;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (typeof value !== 'undefined') {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\n\nfunction _resolve(key: string, scopes: AnyObject[]) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (typeof value !== 'undefined') {\n      return value;\n    }\n  }\n}\n\nfunction getKeysFromAllScopes(target: ResolverCache) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\n\nfunction resolveKeysFromAllScopes(scopes: AnyObject[]) {\n  const set = new Set<string>();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nexport function _parseObjectDataRadialScale(\n  meta: ChartMeta<'line' | 'scatter'>,\n  data: AnyObject[],\n  start: number,\n  count: number\n) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array<{r: unknown}>(count);\n  let i: number, ilen: number, index: number, item: AnyObject;\n\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n","import {almostEquals, distanceBetweenPoints, sign} from './helpers.math.js';\nimport {_isPointInArea} from './helpers.canvas.js';\nimport type {ChartArea} from '../types/index.js';\nimport type {SplinePoint} from '../types/geometric.js';\n\nconst EPSILON = Number.EPSILON || 1e-14;\n\ntype OptionalSplinePoint = SplinePoint | false\nconst getPoint = (points: SplinePoint[], i: number): OptionalSplinePoint => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis: 'x' | 'y') => indexAxis === 'x' ? 'y' : 'x';\n\nexport function splineCurve(\n  firstPoint: SplinePoint,\n  middlePoint: SplinePoint,\n  afterPoint: SplinePoint,\n  t: number\n): {\n    previous: SplinePoint\n    next: SplinePoint\n  } {\n  // Props to Rob Spencer at scaled innovation for his post on splining between points\n  // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n  // This function must also respect \"skipped\" points\n\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n\n  // If all points are the same, s01 & s02 will be inf\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n\n  const fa = t * s01; // scaling factor for triangle Ta\n  const fb = t * s12;\n\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\n\n/**\n * Adjust tangents to ensure monotonic properties\n */\nfunction monotoneAdjust(points: SplinePoint[], deltaK: number[], mK: number[]) {\n  const pointsLen = points.length;\n\n  let alphaK: number, betaK: number, tauK: number, squaredMagnitude: number, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\n\nfunction monotoneCompute(points: SplinePoint[], mK: number[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta: number, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\n\n/**\n * This function calculates Bzier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */\nexport function splineCurveMonotone(points: SplinePoint[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK: number[] = Array(pointsLen).fill(0);\n  const mK: number[] = Array(pointsLen);\n\n  // Calculate slopes (deltaK) and initialize tangents (mK)\n  let i, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n\n      // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n        : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n          : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n\n  monotoneAdjust(points, deltaK, mK);\n\n  monotoneCompute(points, mK, indexAxis);\n}\n\nfunction capControlPoint(pt: number, min: number, max: number) {\n  return Math.max(Math.min(pt, max), min);\n}\n\nfunction capBezierPoints(points: SplinePoint[], area: ChartArea) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\n\n/**\n * @private\n */\nexport function _updateBezierControlPoints(\n  points: SplinePoint[],\n  options,\n  area: ChartArea,\n  loop: boolean,\n  indexAxis: 'x' | 'y'\n) {\n  let i: number, ilen: number, point: SplinePoint, controlPoints: ReturnType<typeof splineCurve>;\n\n  // Only consider points that are drawn in case the spanGaps option is used\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n","import type {ChartArea, Scale} from '../types/index.js';\nimport type Chart from '../core/core.controller.js';\nimport type {ChartEvent} from '../types.js';\nimport {INFINITY} from './helpers.math.js';\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */\n\n/**\n * @private\n */\nexport function _isDomSupported(): boolean {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\n/**\n * @private\n */\nexport function _getParentNode(domNode: HTMLCanvasElement): HTMLCanvasElement {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = (parent as ShadowRoot).host;\n  }\n  return parent as HTMLCanvasElement;\n}\n\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */\n\nfunction parseMaxStyle(styleValue: string | number, node: HTMLElement, parentProperty: string) {\n  let valueInPixels: number;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n\n    if (styleValue.indexOf('%') !== -1) {\n      // percentage * size in dimension\n      valueInPixels = (valueInPixels / 100) * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n\n  return valueInPixels;\n}\n\nconst getComputedStyle = (element: HTMLElement): CSSStyleDeclaration =>\n  element.ownerDocument.defaultView.getComputedStyle(element, null);\n\nexport function getStyle(el: HTMLElement, property: string): string {\n  return getComputedStyle(el).getPropertyValue(property);\n}\n\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles: CSSStyleDeclaration, style: string, suffix?: string): ChartArea {\n  const result = {} as ChartArea;\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\n\nconst useOffsetPos = (x: number, y: number, target: HTMLElement | EventTarget) =>\n  (x > 0 || y > 0) && (!target || !(target as HTMLElement).shadowRoot);\n\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */\nfunction getCanvasPosition(\n  e: Event | TouchEvent | MouseEvent,\n  canvas: HTMLCanvasElement\n): {\n    x: number;\n    y: number;\n    box: boolean;\n  } {\n  const touches = (e as TouchEvent).touches;\n  const source = (touches && touches.length ? touches[0] : e) as MouseEvent;\n  const {offsetX, offsetY} = source as MouseEvent;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\n\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */\n\nexport function getRelativePosition(\n  event: Event | ChartEvent | TouchEvent | MouseEvent,\n  chart: Chart\n): { x: number; y: number } {\n  if ('native' in event) {\n    return event;\n  }\n\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(event, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\n\nfunction getContainerSize(canvas: HTMLCanvasElement, width: number, height: number): Partial<Scale> {\n  let maxWidth: number, maxHeight: number;\n\n  if (width === undefined || height === undefined) {\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect(); // this is the border box of the container\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\n\nconst round1 = (v: number) => Math.round(v * 10) / 10;\n\n// eslint-disable-next-line complexity\nexport function getMaximumSize(\n  canvas: HTMLCanvasElement,\n  bbWidth?: number,\n  bbHeight?: number,\n  aspectRatio?: number\n): { width: number; height: number } {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    // https://github.com/chartjs/Chart.js/issues/4659\n    // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n    height = round1(width / 2);\n  }\n\n  const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n\n  if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n    height = containerSize.height;\n    width = round1(Math.floor(height * aspectRatio));\n  }\n\n  return {width, height};\n}\n\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */\nexport function retinaScale(\n  chart: Chart,\n  forceRatio: number,\n  forceStyle?: boolean\n): boolean | void {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n\n  chart.height = Math.floor(chart.height);\n  chart.width = Math.floor(chart.width);\n\n  const canvas = chart.canvas;\n\n  // If no style has been set on the canvas, the render size is used as display size,\n  // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n  // See https://github.com/chartjs/Chart.js/issues/3575\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */\nexport const supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() { // This function will be called when the browser attempts to access the passive property.\n        passiveSupported = true;\n        return false;\n      }\n    } as EventListenerOptions;\n\n    if (_isDomSupported()) {\n      window.addEventListener('test', null, options);\n      window.removeEventListener('test', null, options);\n    }\n  } catch (e) {\n    // continue regardless of error\n  }\n  return passiveSupported;\n}());\n\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */\n\nexport function readUsedSize(\n  element: HTMLElement,\n  property: 'width' | 'height'\n): number | undefined {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n","import type {Point, SplinePoint} from '../types/geometric.js';\n\n/**\n * @private\n */\nexport function _pointInLine(p1: Point, p2: Point, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\n\n/**\n * @private\n */\nexport function _steppedInterpolation(\n  p1: Point,\n  p2: Point,\n  t: number, mode: 'middle' | 'after' | unknown\n) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n      : mode === 'after' ? t < 1 ? p1.y : p2.y\n        : t > 0 ? p2.y : p1.y\n  };\n}\n\n/**\n * @private\n */\nexport function _bezierInterpolation(p1: SplinePoint, p2: SplinePoint, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n","export interface RTLAdapter {\n  x(x: number): number;\n  setWidth(w: number): void;\n  textAlign(align: 'center' | 'left' | 'right'): 'center' | 'left' | 'right';\n  xPlus(x: number, value: number): number;\n  leftForLtr(x: number, itemWidth: number): number;\n}\n\nconst getRightToLeftAdapter = function(rectX: number, width: number): RTLAdapter {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\n\nconst getLeftToRightAdapter = function(): RTLAdapter {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) { // eslint-disable-line no-unused-vars\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) { // eslint-disable-line @typescript-eslint/no-unused-vars\n      return x;\n    },\n  };\n};\n\nexport function getRtlAdapter(rtl: boolean, rectX: number, width: number) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\n\nexport function overrideTextDirection(ctx: CanvasRenderingContext2D, direction: 'ltr' | 'rtl') {\n  let style: CSSStyleDeclaration, original: [string, string];\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n\n    style.setProperty('direction', direction, 'important');\n    (ctx as { prevTextDirection?: [string, string] }).prevTextDirection = original;\n  }\n}\n\nexport function restoreTextDirection(ctx: CanvasRenderingContext2D, original?: [string, string]) {\n  if (original !== undefined) {\n    delete (ctx as { prevTextDirection?: [string, string] }).prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n","import {_angleBetween, _angleDiff, _isBetween, _normalizeAngle} from './helpers.math.js';\nimport {createContext} from './helpers.options.js';\nimport {isPatternOrGradient} from './helpers.color.js';\n\n/**\n * @typedef { import('../elements/element.line.js').default } LineElement\n * @typedef { import('../elements/element.point.js').default } PointElement\n * @typedef {{start: number, end: number, loop: boolean, style?: any}} Segment\n */\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\n\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\n\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  // eslint-disable-next-line prefer-const\n  let {start, end, loop} = segment;\n  let i, ilen;\n\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\n\n/**\n * Returns the sub-segment(s) of a line segment that fall in the given bounds\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} [segment.style] - segment style\n * @param {PointElement[]} points - the points that this segment refers to\n * @param {object} [bounds]\n * @param {string} bounds.property - the property of a `PointElement` we are bounding. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the property\n * @param {number} bounds.end - end value of the property\n * @private\n **/\nexport function _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n\n    if (point.skip) {\n      continue;\n    }\n\n    value = normalize(point[property]);\n\n    if (value === prevValue) {\n      continue;\n    }\n\n    inside = between(value, startBound, endBound);\n\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n\n  return result;\n}\n\n\n/**\n * Returns the segments of the line that are inside given bounds\n * @param {LineElement} line\n * @param {object} [bounds]\n * @param {string} bounds.property - the property we are bounding with. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the `property`\n * @param {number} bounds.end - end value of the `property`\n * @private\n */\nexport function _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\n\n/**\n * Find start and end index of a line.\n */\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n\n  if (loop && !spanGaps) {\n    // loop and not spanning gaps, first find a gap to start from\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n\n  // find first non skipped point (after the first gap possibly)\n  while (start < count && points[start].skip) {\n    start++;\n  }\n\n  // if we looped to count, start needs to be 0\n  start %= count;\n\n  if (loop) {\n    // loop will go past count, if start > 0\n    end += start;\n  }\n\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n\n  // end could be more than count, normalize\n  end %= count;\n\n  return {start, end};\n}\n\n/**\n * Compute solid segments from Points, when spanGaps === false\n * @param {PointElement[]} points - the points\n * @param {number} start - start index\n * @param {number} max - max index (can go past count on a loop)\n * @param {boolean} loop - boolean indicating that this would be a loop if no gaps are found\n */\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        // @ts-ignore\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n\n  return result;\n}\n\n/**\n * Compute the continuous segments that define the whole line\n * There can be skipped points within a segment, if spanGaps is true.\n * @param {LineElement} line\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n * @private\n */\nexport function _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n\n  if (!count) {\n    return [];\n  }\n\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n\n/**\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\n\n/**\n * @param {LineElement} line\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    // Style can not start/end on a skipped point, adjust indices accordingly\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n\n  return result;\n}\n\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\n\nfunction styleChanged(style, prevStyle) {\n  if (!prevStyle) {\n    return false;\n  }\n  const cache = [];\n  const replacer = function(key, value) {\n    if (!isPatternOrGradient(value)) {\n      return value;\n    }\n    if (!cache.includes(value)) {\n      cache.push(value);\n    }\n    return cache.indexOf(value);\n  };\n  return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n","import {requestAnimFrame} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('./core.animation.js').default } Animation\n * @typedef { import('./core.controller.js').default } Chart\n */\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is export for typedoc\n */\nexport class Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n\n  /**\n\t * @private\n\t */\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _update(date = Date.now()) {\n    let remaining = 0;\n\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n\n      for (; i >= 0; --i) {\n        item = items[i];\n\n        if (item._active) {\n          if (item._total > anims.duration) {\n            // if the animation has been updated and its duration prolonged,\n            // update to total duration of current animations run (for progress event)\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          // Remove the item by replacing it with last item and removing the last\n          // A lot faster than splice.\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n\n      remaining += items.length;\n    });\n\n    this._lastDate = date;\n\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} event - event name\n\t * @param {Function} cb - callback\n\t */\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n\n  /**\n\t * Add animations\n\t * @param {Chart} chart\n\t * @param {Animation[]} items - animations\n\t */\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n\n  /**\n\t * Counts number of active animations for the chart\n\t * @param {Chart} chart\n\t */\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n\n  /**\n\t * Start animating (all charts)\n\t * @param {Chart} chart\n\t */\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n\t * Stop all animations for the chart\n\t * @param {Chart} chart\n\t */\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n\n  /**\n\t * Remove chart from Animator\n\t * @param {Chart} chart\n\t */\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Animator();\n","import effects from '../helpers/helpers.easing.js';\nimport {resolve} from '../helpers/helpers.options.js';\nimport {color as helpersColor} from '../helpers/helpers.color.js';\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  /**\n   * @param {string} from\n   * @param {string} to\n   * @param {number} factor\n   */\n  color(from, to, factor) {\n    const c0 = helpersColor(from || transparent);\n    const c1 = c0.valid && helpersColor(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nexport default class Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  active() {\n    return this._active;\n  }\n\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n\n  cancel() {\n    if (this._active) {\n      // update current evaluated value, for smoother animations\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n\n    this._active = from !== to && (loop || (elapsed < duration));\n\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n\n    this._target[prop] = this._fn(from, to, factor);\n  }\n\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n","import animator from './core.animator.js';\nimport Animation from './core.animation.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isObject} from '../helpers/helpers.core.js';\n\nexport default class Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n\n    const animationOptions = Object.keys(defaults.animation);\n    const animatedProps = this._properties;\n\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n\n  /**\n\t * Utility to handle animation of `options`.\n\t * @private\n\t */\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      // Going to shared options:\n      // After all animations are done, assign the shared options object to the element\n      // So any new updates to the shared options are observed\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n        // rejected, noop\n      });\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @private\n\t */\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n\n      if (animation) {\n        if (cfg && animation.active()) {\n          // There is an existing active animation, let's update that\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        // not animated, set directly to new value\n        target[prop] = value;\n        continue;\n      }\n\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n\n\n  /**\n\t * Update `target` properties to new values, using configured animations\n\t * @param {object} target - object to update\n\t * @param {object} values - new target properties\n\t * @returns {boolean|undefined} - `true` if animations were started\n\t **/\n  update(target, values) {\n    if (this._properties.size === 0) {\n      // Nothing is animated, just apply the new values.\n      Object.assign(target, values);\n      return;\n    }\n\n    const animations = this._createAnimations(target, values);\n\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\n\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  // @ts-ignore\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    // Going from shared options to distinct one:\n    // Create new options object containing the old shared values and start updating that.\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n","import Animations from './core.animations.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isFinite, isObject, valueOrDefault, resolveObjectKey, defined} from '../helpers/helpers.core.js';\nimport {listenArrayEvents, unlistenArrayEvents} from '../helpers/helpers.collection.js';\nimport {createContext, sign} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('./core.scale.js').default } Scale\n */\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  let t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\n\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  let found = false;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      found = true;\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n\n  if (!found && !options.all) {\n    return 0;\n  }\n\n  return value;\n}\n\nfunction convertObjectDataToArray(data, meta) {\n  const {iScale, vScale} = meta;\n  const iAxisKey = iScale.axis === 'x' ? 'x' : 'y';\n  const vAxisKey = vScale.axis === 'x' ? 'x' : 'y';\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      [iAxisKey]: key,\n      [vAxisKey]: data[key]\n    };\n  }\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\n\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n\n  return null;\n}\n\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {}); // map structure is {stackKey: {datasetIndex: value}}\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n\n    const visualValues = stack._visualValues || (stack._visualValues = {});\n    visualValues[datasetIndex] = value;\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\n\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  // Not using meta.index here, because it might be already updated if the dataset changed location\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n    if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n      delete stacks[axis]._visualValues[datasetIndex];\n    }\n  }\n}\n\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\n\nexport default class DatasetController {\n\n  /**\n   * @type {any}\n   */\n  static defaults = {};\n\n  /**\n   * Element type used to generate a meta dataset (e.g. Chart.element.LineElement).\n   */\n  static datasetElementType = null;\n\n  /**\n   * Element type used to generate a meta data (e.g. Chart.element.PointElement).\n   */\n  static dataElementType = null;\n\n  /**\n\t * @param {Chart} chart\n\t * @param {number} datasetIndex\n\t */\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    /** @type {boolean | object} */\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.datasetElementType = new.target.datasetElementType;\n    this.dataElementType = new.target.dataElementType;\n\n    this.initialize();\n  }\n\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n\n    if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n      console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n    }\n  }\n\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n\n  /**\n\t * @param {string} scaleID\n\t * @return {Scale}\n\t */\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n\n  /**\n\t * @private\n\t */\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n\n  reset() {\n    this._update('reset');\n  }\n\n  /**\n\t * @private\n\t */\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n\n    // In order to correctly handle data addition/deletion animation (and thus simulate\n    // real-time charts), we need to monitor these data modifications and synchronize\n    // the internal metadata accordingly.\n\n    if (isObject(data)) {\n      const meta = this._cachedMeta;\n      this._data = convertObjectDataToArray(data, meta);\n    } else if (_data !== data) {\n      if (_data) {\n        // This case happens when the user replaced the data array instance.\n        unlistenArrayEvents(_data, this);\n        // Discard old parsed data and stacks\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n\n  addElements() {\n    const meta = this._cachedMeta;\n\n    this._dataCheck();\n\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n\n    this._dataCheck();\n\n    // make sure cached _stacked status is current\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n\n    // detect change in stack option\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      // remove values from old stack\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n\n    // Re-sync meta data in case the user replaced the data array or if we missed\n    // any updates and so make sure that we handle number of datapoints changing.\n    this._resyncElements(resetNewElements);\n\n    // if stack changed, update stack values for the whole dataset\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n      meta._stacked = isStacked(meta.vScale, meta);\n    }\n  }\n\n  /**\n\t * Merges user-supplied and default dataset-level options\n\t * @private\n\t */\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n\n  /**\n\t * @param {number} start\n\t * @param {number} count\n\t */\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [1,3,4]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {xScale0: 0, yScale0: 1}\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [[1,2],[3,4]]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {x: 0, y: 1}\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [{x:1, y:5}, {x:2, y:10}]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id. _custom is optional\n\t * Example: {xScale0: 0, yScale0: 1, _custom: {r: 10, foo: 'bar'}}\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]._visualValues\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        // if the data is sorted, we don't need to check further from this end of array\n        break;\n      }\n    }\n    if (sorted) {\n      // in the sorted case, find first non-skipped value from other end of array\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return false;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {} // eslint-disable-line no-unused-vars\n\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n\n  /**\n\t * Returns a set of predefined style properties that should be used to represent the dataset\n\t * or the data if the index is specified\n\t * @param {number} index - data index\n\t * @param {boolean} [active] - true if hover\n\t * @return {object} style object\n\t */\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n\n  /**\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    // context is provided as a function, and is called only if needed,\n    // so we don't create a context for each element if not needed.\n    const context = () => this.getContext(index, active, mode);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n    if (values.$shared) {\n      // `$shared` indicates this set of options can be shared between multiple elements.\n      // Sharing is used to reduce number of properties to change during animation.\n      values.$shared = sharing;\n\n      // We cache options by `mode`, which can be 'active' for example. This enables us\n      // to have the 'active' element options and 'default' options to switch between\n      // when interacting.\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n\n    return values;\n  }\n\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n\n  /**\n\t * Utility for getting the options object shared between elements\n\t * @protected\n\t */\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n\n  /**\n\t * Utility for determining if `options` should be included in the updated properties\n\t * @protected\n\t */\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n\n  /**\n   * @todo v4, rename to getSharedOptions and remove excess functions\n   */\n  _getSharedOptions(start, mode) {\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const previouslySharedOptions = this._sharedOptions;\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    return {sharedOptions, includeOptions};\n  }\n\n  /**\n\t * Utility for updating an element with new properties, using animations when appropriate.\n\t * @protected\n\t */\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n\n  /**\n\t * Utility to animate the shared options, that are potentially affecting multiple elements.\n\t * @protected\n\t */\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      // When going from active to inactive, we need to update to the shared options.\n      // This way the once hovered element will end up with the same original shared options instance, after animation.\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n\n  /**\n\t * @private\n\t */\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n\n    // Apply changes detected through array listeners\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n\n    if (count) {\n      // TODO: It is not optimal to always parse the old data\n      // This is done because we are not detecting direct assignments:\n      // chart.data.datasets[0].data[5] = 10;\n      // chart.data.datasets[0].data[5].y = 10;\n      this.parse(0, count);\n    }\n\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n\n  updateElements(element, start, count, mode) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @private\n\t */\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n\n  /**\n\t * @private\n   */\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {\n  _arrayUnique, isArray, isNullOrUndef,\n  valueOrDefault, resolveObjectKey, sign, defined\n} from '../helpers/index.js';\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\n\n/**\n * Computes the \"optimal\" sample size to maintain bars equally sized while preventing overlap.\n * @private\n */\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      // Ignore truncated pixels\n      return;\n    }\n    if (defined(prev)) {\n      // curr - prev === 0 is ignored\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n\n  return min;\n}\n\n/**\n * Computes an \"ideal\" category based on the absolute bar thickness or, if undefined or null,\n * uses the smallest interval (see computeMinSampleSize) that prevents bar overlapping. This\n * mode currently always generates bars equally sized (until we introduce scriptable options?).\n * @private\n */\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    // When bar thickness is enforced, category and bar percentages are ignored.\n    // Note(SB): we could add support for relative bar thickness (e.g. barThickness: '50%')\n    // and deprecate barPercentage since this value is ignored when thickness is absolute.\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\n\n/**\n * Computes an \"optimal\" category that globally arranges bars side by side (no gap when\n * percentage options are 1), based on the previous and following categories. This mode\n * generates bars with different widths when data are not evenly spaced.\n * @private\n */\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n\n  if (prev === null) {\n    // first data: its size is double based on the next point or,\n    // if it's also the last data, we use the scale size.\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n\n  if (next === null) {\n    // last data: its size is also double based on the previous point.\n    next = curr + curr - prev;\n  }\n\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\n\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n\n  // Store `barEnd` (furthest away from origin) as parsed value,\n  // to make stacking straight forward\n  item[vScale.axis] = barEnd;\n\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\n\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\n\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\n\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\n\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\n\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\n\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n\n  if (edge === true) {\n    properties.borderSkipped = {top: true, right: true, bottom: true, left: true};\n    return;\n  }\n\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\n\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\n\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\n\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\n\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\n\nexport default class BarController extends DatasetController {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'bar',\n\n    categoryPercentage: 0.8,\n    barPercentage: 0.9,\n    grouped: true,\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'base', 'width', 'height']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n        offset: true,\n        grid: {\n          offset: true\n        }\n      },\n      _value_: {\n        type: 'linear',\n        beginAtZero: true,\n      }\n    }\n  };\n\n\n  /**\n\t * Overriding primitive data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding array data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding object data parsing since we support mixed primitive/array\n\t * value-scale data for float bars\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      // float bar: only one end of the bar is considered by `super`\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n\n  initialize() {\n    this.enableOptionSharing = true;\n\n    super.initialize();\n\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n\n  /**\n\t * Returns the stacks based on groups and bar visibility.\n\t * @param {number} [last] - The dataset index\n\t * @param {number} [dataIndex] - The data index of the ruler\n\t * @returns {string[]} The list of stack IDs\n\t * @private\n\t */\n  _getStacks(last, dataIndex) {\n    const {iScale} = this._cachedMeta;\n    const metasets = iScale.getMatchingVisibleMetas(this._type)\n      .filter(meta => meta.controller.options.grouped);\n    const stacked = iScale.options.stacked;\n    const stacks = [];\n    const currentParsed = this._cachedMeta.controller.getParsed(dataIndex);\n    const iScaleValue = currentParsed && currentParsed[iScale.axis];\n\n    const skipNull = (meta) => {\n      const parsed = meta._parsed.find(item => item[iScale.axis] === iScaleValue);\n      const val = parsed && parsed[meta.vScale.axis];\n\n      if (isNullOrUndef(val) || isNaN(val)) {\n        return true;\n      }\n    };\n\n    for (const meta of metasets) {\n      if (dataIndex !== undefined && skipNull(meta)) {\n        continue;\n      }\n\n      // stacked   | meta.stack\n      //           | found | not found | undefined\n      // false     |   x   |     x     |     x\n      // true      |       |     x     |\n      // undefined |       |     x     |     x\n      if (stacked === false || stacks.indexOf(meta.stack) === -1 ||\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\n        stacks.push(meta.stack);\n      }\n      if (meta.index === last) {\n        break;\n      }\n    }\n\n    // No stacks? that means there is no visible data. Let's still initialize an `undefined`\n    // stack where possible invisible bars will be located.\n    // https://github.com/chartjs/Chart.js/issues/6368\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n\n    return stacks;\n  }\n\n  /**\n\t * Returns the effective number of stacks based on groups and bar visibility.\n\t * @private\n\t */\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n\n  /**\n\t * Returns the stack index for the given dataset based on groups and bar visibility.\n\t * @param {number} [datasetIndex] - The dataset index\n\t * @param {string} [name] - The stack name to find\n   * @param {number} [dataIndex]\n\t * @returns {number} The stack index\n\t * @private\n\t */\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1; // indexOf returns -1 if element is not present\n\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      // bar thickness ratio used for non-grouped bars\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n\n  /**\n\t * Note: pixel values are not clamped to the scale area.\n\t * @private\n\t */\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked, index: datasetIndex}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      // bars crossing origin are not stacked\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      // When not visible, no height\n      head = base;\n    }\n\n    size = head - base;\n\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      const startPixel = vScale.getPixelForDecimal(0);\n      const endPixel = vScale.getPixelForDecimal(1);\n      const min = Math.min(startPixel, endPixel);\n      const max = Math.max(startPixel, endPixel);\n      base = Math.max(Math.min(base, max), min);\n      head = base + size;\n\n      if (_stacked && !floating) {\n        // visual data coordinates after applying minBarLength\n        parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n      }\n    }\n\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      // For non-grouped bar charts, exact pixel values are used\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null && !rects[i].hidden) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isObject, resolveObjectKey, toPercentage, toDimension, valueOrDefault} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {toRadians, PI, TAU, HALF_PI, _angleBetween} from '../helpers/helpers.math.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  // If the chart's circumference isn't a full circle, calculate size as a ratio of the width/height of the arc\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\n\nexport default class DoughnutController extends DatasetController {\n\n  static id = 'doughnut';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'arc',\n    animation: {\n      // Boolean - Whether we animate the rotation of the Doughnut\n      animateRotate: true,\n      // Boolean - Whether we animate scaling the Doughnut from the centre\n      animateScale: false\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n      },\n    },\n    // The percentage of the chart that we cut out of the middle.\n    cutout: '50%',\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%',\n\n    // Spacing between arcs\n    spacing: 0,\n\n    indexAxis: 'r',\n  };\n\n  static descriptors = {\n    _scriptable: (name) => name !== 'spacing',\n    _indexable: (name) => name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash'),\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    // Need to override these to give a nice default\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n\n  linkScales() {}\n\n  /**\n\t * Override data parsing, since we are not using scales\n\t */\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n\n  /**\n\t * @private\n\t */\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n\n  /**\n\t * Get the maximal rotation & circumference extents\n\t * across all visible datasets.\n\t */\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n\n    // Compute the maximal rotation & circumference limits.\n    // If we only consider our dataset, this can cause problems when two datasets\n    // are both less than a circle with different rotations (starting angles)\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n\n    meta.total = this.calculateTotal();\n\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @private\n   */\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    let startAngle = this._getRotation();\n    let i;\n\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n\n    return total;\n  }\n\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n\n    if (!arcs) {\n      // Find the outmost visible dataset\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n\n    if (!arcs) {\n      return 0;\n    }\n\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n\n  getMaxOffset(arcs) {\n    let max = 0;\n\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n\n  /**\n\t * Get radius length offset of the dataset in relation to the visible datasets weights. This allows determining the inner and outer radius correctly\n\t * @private\n\t */\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n\n    return ringWeightOffset;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n\n  /**\n\t * Returns the sum of all visible data set weights.\n\t * @private\n\t */\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {toRadians, PI, formatNumber, _parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class PolarAreaController extends DatasetController {\n\n  static id = 'polarArea';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    dataElementType: 'arc',\n    animation: {\n      animateRotate: true,\n      animateScale: true\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n      },\n    },\n    indexAxis: 'r',\n    startAngle: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    },\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n        angleLines: {\n          display: false\n        },\n        beginAtZero: true,\n        grid: {\n          circular: true\n        },\n        pointLabels: {\n          display: false\n        },\n        startAngle: 0\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @protected\n   */\n  getMinMax() {\n    const meta = this._cachedMeta;\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n\n    meta.data.forEach((element, index) => {\n      const parsed = this.getParsed(index).r;\n\n      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n        if (parsed < range.min) {\n          range.min = parsed;\n        }\n\n        if (parsed > range.max) {\n          range.max = parsed;\n        }\n      }\n    });\n\n    return range;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n\n    const defaultAngle = 360 / this.countVisibleElements();\n\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n      angle = endAngle;\n\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  countVisibleElements() {\n    const meta = this._cachedMeta;\n    let count = 0;\n\n    meta.data.forEach((element, index) => {\n      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {valueOrDefault} from '../helpers/helpers.core.js';\n\nexport default class BubbleController extends DatasetController {\n\n  static id = 'bubble';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'borderWidth', 'radius']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n\n  update(mode) {\n    const points = this._cachedMeta.data;\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n\n    // In case values were cached (and thus frozen), we need to clone the values\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n\n    // Custom radius resolution\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n\n    return values;\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class LineController extends DatasetController {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n\n    showLine: true,\n    spanGaps: false,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n      },\n      _value_: {\n        type: 'linear',\n      },\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    // Update Line\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    const end = start + count;\n    const pointsCount = points.length;\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = 0; i < pointsCount; ++i) {\n      const point = points[i];\n      const properties = directUpdate ? point : {};\n\n      if (i < start || i >= end) {\n        properties.skip = true;\n        continue;\n      }\n\n      const parsed = this.getParsed(i);\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\n","import DoughnutController from './controller.doughnut.js';\n\n// Pie charts are Doughnut chart with different defaults\nexport default class PieController extends DoughnutController {\n\n  static id = 'pie';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    // The percentage of the chart that we cut out of the middle.\n    cutout: 0,\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%'\n  };\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {_parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class RadarController extends DatasetController {\n\n  static id = 'radar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n    indexAxis: 'r',\n    showLine: true,\n    elements: {\n      line: {\n        fill: 'start'\n      }\n    },\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n\n    // Update Line\n    line.points = points;\n    // In resize mode only point locations change, so no need to set the points or options.\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n\n      this.updateElement(line, undefined, properties, mode);\n    }\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class ScatterController extends DatasetController {\n\n  static id = 'scatter';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n    showLine: false,\n    fill: false\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n\n    interaction: {\n      mode: 'point'\n    },\n\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + ')'\n    };\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {data: points = []} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    if (this.options.showLine) {\n\n      // https://github.com/chartjs/Chart.js/issues/11333\n      if (!this.datasetElementType) {\n        this.addElements();\n      }\n      const {dataset: line, _dataset} = meta;\n\n      // Update Line\n      line._chart = this.chart;\n      line._datasetIndex = this.index;\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n\n      const options = this.resolveDatasetElementOptions(mode);\n      options.segment = this.options.segment;\n      this.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options\n      }, mode);\n    } else if (this.datasetElementType) {\n      // https://github.com/chartjs/Chart.js/issues/11333\n      delete meta.dataset;\n      this.datasetElementType = false;\n    }\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  addElements() {\n    const {showLine} = this.options;\n\n    if (!this.datasetElementType && showLine) {\n      this.datasetElementType = this.chart.registry.getElement('line');\n    }\n\n    super.addElements();\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const data = meta.data || [];\n\n    if (!this.options.showLine) {\n      let max = 0;\n      for (let i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n      }\n      return max > 0 && max;\n    }\n\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n\n    if (!data.length) {\n      return border;\n    }\n\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n}\n","/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartOptions} from '../types/index.js';\n\nexport type TimeUnit = 'millisecond' | 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'quarter' | 'year';\n\nexport interface DateAdapter<T extends AnyObject = AnyObject> {\n  readonly options: T;\n  /**\n   * Will called with chart options after adapter creation.\n   */\n  init(this: DateAdapter<T>, chartOptions: ChartOptions): void;\n  /**\n   * Returns a map of time formats for the supported formatting units defined\n   * in Unit as well as 'datetime' representing a detailed date/time string.\n   */\n  formats(this: DateAdapter<T>): Record<string, string>;\n  /**\n   * Parses the given `value` and return the associated timestamp.\n   * @param value - the value to parse (usually comes from the data)\n   * @param [format] - the expected data format\n   */\n  parse(this: DateAdapter<T>, value: unknown, format?: TimeUnit): number | null;\n  /**\n   * Returns the formatted date in the specified `format` for a given `timestamp`.\n   * @param timestamp - the timestamp to format\n   * @param format - the date/time token\n   */\n  format(this: DateAdapter<T>, timestamp: number, format: TimeUnit): string;\n  /**\n   * Adds the specified `amount` of `unit` to the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param amount - the amount to add\n   * @param unit - the unit as string\n   */\n  add(this: DateAdapter<T>, timestamp: number, amount: number, unit: TimeUnit): number;\n  /**\n   * Returns the number of `unit` between the given timestamps.\n   * @param a - the input timestamp (reference)\n   * @param b - the timestamp to subtract\n   * @param unit - the unit as string\n   */\n  diff(this: DateAdapter<T>, a: number, b: number, unit: TimeUnit): number;\n  /**\n   * Returns start of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   * @param [weekday] - the ISO day of the week with 1 being Monday\n   * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\n   */\n  startOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek', weekday?: number): number;\n  /**\n   * Returns end of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   */\n  endOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek'): number;\n}\n\nfunction abstract<T = void>(): T {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */\nclass DateAdapterBase implements DateAdapter {\n\n  /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */\n  static override<T extends AnyObject = AnyObject>(\n    members: Partial<Omit<DateAdapter<T>, 'options'>>\n  ) {\n    Object.assign(DateAdapterBase.prototype, members);\n  }\n\n  readonly options: AnyObject;\n\n  constructor(options: AnyObject) {\n    this.options = options || {};\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  init() {}\n\n  formats(): Record<string, string> {\n    return abstract();\n  }\n\n  parse(): number | null {\n    return abstract();\n  }\n\n  format(): string {\n    return abstract();\n  }\n\n  add(): number {\n    return abstract();\n  }\n\n  diff(): number {\n    return abstract();\n  }\n\n  startOf(): number {\n    return abstract();\n  }\n\n  endOf(): number {\n    return abstract();\n  }\n}\n\nexport default {\n  _date: DateAdapterBase\n};\n","import {_lookupByKey, _rlookupByKey} from '../helpers/helpers.collection.js';\nimport {getRelativePosition} from '../helpers/helpers.dom.js';\nimport {_angleBetween, getAngleFromPoint} from '../helpers/helpers.math.js';\nimport {_isPointInArea} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef {{axis?: string, intersect?: boolean, includeInvisible?: boolean}} InteractionOptions\n * @typedef {{datasetIndex: number, index: number, element: import('./core.element.js').default}} InteractionItem\n * @typedef { import('../types/index.js').Point } Point\n */\n\n/**\n * Helper function to do binary search when possible\n * @param {object} metaset - the dataset meta\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {number} value - the value to find\n * @param {boolean} [intersect] - should the element intersect\n * @returns {{lo:number, hi:number}} indices to search data array between\n */\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      // _sharedOptions indicates that each element has equal options -> equal proportions\n      // So we can do a ranged binary search based on the range of first element and\n      // be confident to get the full range of indices that can intersect with the value.\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  // Default to all elements, when binary search can not be used.\n  return {lo: 0, hi: data.length - 1};\n}\n\n/**\n * Helper function to select candidate elements for interaction\n * @param {Chart} chart - the chart\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {function} handler - the callback to execute for each visible item\n * @param {boolean} [intersect] - consider intersecting items\n */\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\n/**\n * Get a distance metric function for two points based on the\n * axis mode setting\n * @param {string} axis - the axis mode. x|y|xy|r\n */\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\n/**\n * Helper function to get the items that intersect the event position\n * @param {Chart} chart - the chart\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a radial chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a cartesian chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      // Can have multiple items at the same distance in which case we sort by size\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position considering all visible items in the chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n\n/**\n * Helper function to get the items matching along the given X or Y axis\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis to match\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod] && element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n\n  // If we want to trigger on an intersect and we don't have any items\n  // that intersect the position, return nothing\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\n\n/**\n * Contains interaction related functions\n * @namespace Chart.Interaction\n */\nexport default {\n  // Part of the public API to facilitate developers creating their own modes\n  evaluateInteractionItems,\n\n  // Helper function for different modes\n  modes: {\n    /**\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\n\t\t * @function Chart.Interaction.modes.index\n\t\t * @since v2.4.0\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      // Default axis for index mode is 'x' to match old behaviour\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n\n        // don't count items that are skipped (null data)\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n\n      return elements;\n    },\n\n    /**\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\n\t\t * @function Chart.Interaction.modes.dataset\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n\n      return items;\n    },\n\n    /**\n\t\t * Point mode returns all elements that hit test based on the event position\n\t\t * of the event\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * nearest mode returns the element closest to the point\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * x mode returns the elements that hit-test at the current x coordinate\n\t\t * @function Chart.Interaction.modes.x\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n\n    /**\n\t\t * y mode returns the elements that hit-test at the current y coordinate\n\t\t * @function Chart.Interaction.modes.y\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n","import {defined, each, isObject} from '../helpers/helpers.core.js';\nimport {toPadding} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n */\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\n\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\n\n/**\n * store dimensions used instead of available chartArea in fitBoxes\n **/\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\n\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n\n  // dynamically placed boxes size is not considered\n  if (!isObject(pos)) {\n    if (layout.size) {\n      // this layout was already counted for, lets first reduce old size\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n\n  // return booleans on the changes per direction\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\n\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n\n    // Dimensions changed and there were non full width boxes before this\n    // -> we have to refit those\n    refit |= same && refitBoxes.length;\n\n    // Chart area changed in the opposite direction\n    changed = changed || other;\n\n    if (!box.fullSize) { // fullSize boxes don't need to be re-fitted in any case\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\n\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\n\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\n/**\n * @interface LayoutItem\n * @typedef {object} LayoutItem\n * @prop {string} position - The position of the item in the chart layout. Possible values are\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\n * @prop {boolean} fullSize - if true, and the item is horizontal, then push vertical boxes down\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\n * @prop {function} draw - Draws the element\n * @prop {function} [getPadding] -  Returns an object with padding on the edges\n * @prop {number} width - Width of item. Must be valid after update()\n * @prop {number} height - Height of item. Must be valid after update()\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\n */\n\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n// It is this service's responsibility of carrying out that layout.\nexport default {\n\n  /**\n\t * Register a box to a chart.\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\n\t * @param {Chart} chart - the chart to use\n\t * @param {LayoutItem} item - the item to add to be laid out\n\t */\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    // initialize item with default values\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    // @ts-ignore\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n\n  /**\n\t * Remove a layoutItem from a chart\n\t * @param {Chart} chart - the chart to remove the box from\n\t * @param {LayoutItem} layoutItem - the item to remove from the layout\n\t */\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n\n  /**\n\t * Sets (or updates) options on the given `item`.\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\n\t * @param {LayoutItem} item - the item to configure with the given options\n\t * @param {object} options - the new item options.\n\t */\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n\n  /**\n\t * Fits boxes of the given chart into the given size by having each box measure itself\n\t * then running a fitting algorithm\n\t * @param {Chart} chart - the chart\n\t * @param {number} width - the width to fit into\n\t * @param {number} height - the height to fit into\n   * @param {number} minPadding - minimum padding required for each side of chart area\n\t */\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n\n    // Before any changes are made, notify boxes that an update is about to being\n    // This is used to clear any cached data (e.g. scale limits)\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n\n    // Essentially we now have any number of boxes on each of the 4 sides.\n    // Our canvas looks like the following.\n    // The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n    // B1 is the bottom axis\n    // There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n    // These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n    // an error will be thrown.\n    //\n    // |----------------------------------------------------|\n    // |                  T1 (Full Width)                   |\n    // |----------------------------------------------------|\n    // |    |    |                 T2                  |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    | C1 |                           | C2 |    |\n    // |    |    |----|                           |----|    |\n    // |    |    |                                     |    |\n    // | L1 | L2 |           ChartArea (C0)            | R1 |\n    // |    |    |                                     |    |\n    // |    |    |----|                           |----|    |\n    // |    |    | C3 |                           | C4 |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    |                 B1                  |    |\n    // |----------------------------------------------------|\n    // |                  B2 (Full Width)                   |\n    // |----------------------------------------------------|\n    //\n\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n\n    // First fit the fullSize boxes, to reduce probability of re-fitting.\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n\n    // Then fit vertical boxes\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n\n    // Then fit horizontal boxes\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      // if the area changed, re-fit vertical boxes\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n\n    handleMaxPadding(chartArea);\n\n    // Finally place the boxes to correct coordinates\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n\n    // Move to opposite side of chart\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n\n    // Finally update boxes in chartArea (radial scale for example)\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n","\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\n/**\n * Abstract class that allows abstracting platform dependencies away from the chart.\n */\nexport default class BasePlatform {\n  /**\n\t * Called at chart construction time, returns a context2d instance implementing\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\n\t * @param {HTMLCanvasElement} canvas - The canvas from which to acquire context (platform specific)\n\t * @param {number} [aspectRatio] - The chart options\n\t */\n  acquireContext(canvas, aspectRatio) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Called at chart destruction time, releases any resources associated to the context\n\t * previously returned by the acquireContext() method.\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\n\t * @returns {boolean} true if the method succeeded, else false\n\t */\n  releaseContext(context) { // eslint-disable-line no-unused-vars\n    return false;\n  }\n\n  /**\n\t * Registers the specified listener on the given chart.\n\t * @param {Chart} chart - Chart from which to listen for event\n\t * @param {string} type - The ({@link ChartEvent}) type to listen for\n\t * @param {function} listener - Receives a notification (an object that implements\n\t * the {@link ChartEvent} interface) when an event of the specified type occurs.\n\t */\n  addEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Removes the specified listener previously registered with addEventListener.\n\t * @param {Chart} chart - Chart from which to remove the listener\n\t * @param {string} type - The ({@link ChartEvent}) type to remove\n\t * @param {function} listener - The listener function to remove from the event target.\n\t */\n  removeEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @returns {number} the current devicePixelRatio of the device this platform is connected to.\n\t */\n  getDevicePixelRatio() {\n    return 1;\n  }\n\n  /**\n\t * Returns the maximum size in pixels of given canvas element.\n\t * @param {HTMLCanvasElement} element\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @returns {boolean} true if the canvas is attached to the platform, false if not.\n\t */\n  isAttached(canvas) { // eslint-disable-line no-unused-vars\n    return true;\n  }\n\n  /**\n   * Updates config with platform specific requirements\n   * @param {import('../core/core.config.js').default} config\n   */\n  updateConfig(config) { // eslint-disable-line no-unused-vars\n    // no-op\n  }\n}\n","/**\n * Platform fallback implementation (minimal).\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\n */\n\nimport BasePlatform from './platform.base.js';\n\n/**\n * Platform class for charts without access to the DOM or to many element properties\n * This platform is used by default for any chart passed an OffscreenCanvas.\n * @extends BasePlatform\n */\nexport default class BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n","/**\n * Chart.Platform implementation for targeting a web browser\n */\n\nimport BasePlatform from './platform.base.js';\nimport {_getParentNode, getRelativePosition, supportsEventListenerOptions, readUsedSize, getMaximumSize} from '../helpers/helpers.dom.js';\nimport {throttled} from '../helpers/helpers.extras.js';\nimport {isNullOrUndef} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nconst EXPANDO_KEY = '$chartjs';\n\n/**\n * DOM event types -> Chart.js event types.\n * Note: only events with different types are mapped.\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\n */\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nconst isNullOrEmpty = value => value === null || value === '';\n/**\n * Initializes the canvas style and render size without modifying the canvas display size,\n * since responsiveness is handled by the controller.resize() method. The config is used\n * to determine the aspect ratio to apply in case no explicit height has been specified.\n * @param {HTMLCanvasElement} canvas\n * @param {number} [aspectRatio]\n */\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n\n  // NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\n  // returns null or '' if no explicit value has been set to the canvas attribute.\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n\n  // Chart.js modifies some canvas values that we want to restore on destroy\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n\n  // Force canvas to display as block to avoid extra space caused by inline\n  // elements, which would interfere with the responsive resize process.\n  // https://github.com/chartjs/Chart.js/issues/2538\n  style.display = style.display || 'block';\n  // Include possible borders in the size\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      // If no explicit render height and style height, let's apply the aspect ratio,\n      // which one can be specified by the user but also by charts as default option\n      // (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n// https://github.com/chartjs/Chart.js/issues/4287\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\n\nfunction addListener(node, type, listener) {\n  if (node) {\n    node.addEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction removeListener(chart, type, listener) {\n  if (chart && chart.canvas) {\n    chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\n\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      // If the container size shrank during chart resize, let's assume\n      // scrollbar appeared. So we resize again with the scrollbar visible -\n      // effectively making chart smaller and the scrollbar hidden again.\n      // Because we are inside `throttled`, and currently `ticking`, scroll\n      // events are ignored during this whole 2 resize process.\n      // If we assumed wrong and something else happened, we are resizing\n      // twice in a frame (potential performance issue)\n      listener();\n    }\n  }, window);\n\n  // @ts-ignore until https://github.com/microsoft/TypeScript/issues/37861 implemented\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    // When its container's display is set to 'none' the callback will be called with a\n    // size of (0, 0), which will cause the chart to lose its original height, so skip\n    // resizing in such case.\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    // This case can occur if the chart is destroyed while waiting\n    // for the throttled function to occur. We prevent crashes by checking\n    // for a destroyed chart\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart);\n\n  addListener(canvas, type, proxy);\n\n  return proxy;\n}\n\n/**\n * Platform class for charts that can access the DOM and global window/document properties\n * @extends BasePlatform\n */\nexport default class DomPlatform extends BasePlatform {\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [aspectRatio]\n\t * @return {CanvasRenderingContext2D|null}\n\t */\n  acquireContext(canvas, aspectRatio) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n\n    // `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the canvas is\n    // inside an iframe or when running in a protected environment. We could guess the\n    // types from their toString() value but let's keep things flexible and assume it's\n    // a sufficient condition if the canvas has a context2D which has canvas as `canvas`.\n    // https://github.com/chartjs/Chart.js/issues/3887\n    // https://github.com/chartjs/Chart.js/issues/4102\n    // https://github.com/chartjs/Chart.js/issues/4152\n    if (context && context.canvas === canvas) {\n      // Load platform resources on first chart creation, to make it possible to\n      // import the library before setting platform options.\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n\n    return null;\n  }\n\n  /**\n\t * @param {CanvasRenderingContext2D} context\n\t */\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n\n    // The canvas render size might have been changed (and thus the state stack discarded),\n    // we can't use save() and restore() to restore the initial state. So make sure that at\n    // least the canvas context is reset to the default state by setting the canvas width.\n    // https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\n    // eslint-disable-next-line no-self-assign\n    canvas.width = canvas.width;\n\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n\n  /**\n\t *\n\t * @param {Chart} chart\n\t * @param {string} type\n\t * @param {function} listener\n\t */\n  addEventListener(chart, type, listener) {\n    // Can have only one listener per type, so make sure previous is removed\n    this.removeEventListener(chart, type);\n\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} type\n\t */\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n\n    if (!proxy) {\n      return;\n    }\n\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t */\n  isAttached(canvas) {\n    const container = canvas && _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n","import type {AnyObject} from '../types/basic.js';\nimport type {Point} from '../types/geometric.js';\nimport type {Animation} from '../types/animation.js';\nimport {isNumber} from '../helpers/helpers.math.js';\n\nexport default class Element<T = AnyObject, O = AnyObject> {\n\n  static defaults = {};\n  static defaultRoutes = undefined;\n\n  x: number;\n  y: number;\n  active = false;\n  options: O;\n  $animations: Record<keyof T, Animation>;\n\n  tooltipPosition(useFinalPosition: boolean): Point {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y} as Point;\n  }\n\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n\n  /**\n   * Gets the current or final value of each prop. Can return extra properties (whole object).\n   * @param props - properties to get\n   * @param [final] - get the final value (animation target)\n   */\n  getProps<P extends (keyof T)[]>(props: P, final?: boolean): Pick<T, P[number]>;\n  getProps<P extends string>(props: P[], final?: boolean): Partial<Record<P, unknown>>;\n  getProps(props: string[], final?: boolean): Partial<Record<string, unknown>> {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      // let's not create an object, if not needed\n      return this as Record<string, unknown>;\n    }\n    const ret: Record<string, unknown> = {};\n    props.forEach((prop) => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop as string];\n    });\n    return ret;\n  }\n}\n","import {isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\nimport {_factorize} from '../helpers/helpers.math.js';\n\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a subset of ticks to be plotted to avoid overlapping labels.\n * @param {import('./core.scale.js').default} scale\n * @param {Tick[]} ticks\n * @return {Tick[]}\n * @private\n */\nexport function autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const determinedMaxTicks = determineMaxTicks(scale);\n  const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n\n  // If there are too many major ticks to display them all\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\n/**\n * @param {number[]} majorIndices\n * @param {Tick[]} ticks\n * @param {number} ticksLimit\n */\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n\n  // If the major ticks are evenly spaced apart, place the minor ticks\n  // so that they divide the major ticks into even chunks\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\n\n/**\n * @param {Tick[]} ticks\n */\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number[]} majorIndices\n * @param {number} spacing\n */\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number} spacing\n * @param {number} [majorStart]\n * @param {number} [majorEnd]\n */\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\n\n/**\n * @param {number[]} arr\n */\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n","import Element from './core.element.js';\nimport {_alignPixel, _measureText, renderText, clipArea, unclipArea} from '../helpers/helpers.canvas.js';\nimport {callback as call, each, finiteOrDefault, isArray, isFinite, isNullOrUndef, isObject, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toDegrees, toRadians, _int16Range, _limitValue, HALF_PI} from '../helpers/helpers.math.js';\nimport {_alignStartEnd, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {createContext, toFont, toPadding, _addGrace} from '../helpers/helpers.options.js';\nimport {autoSkip} from './core.scale.autoskip.js';\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit) => Math.min(maxTicksLimit || ticksLength, ticksLength);\n\n/**\n * @typedef { import('../types/index.js').Chart } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a new array containing numItems from arr\n * @param {any[]} arr\n * @param {number} numItems\n */\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @param {boolean} offsetGridLines\n */\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n\n    // Return undefined if the pixel is out of the range\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\n\n/**\n * @param {object} caches\n * @param {number} length\n */\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\n/**\n * @param {object} options\n */\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\n/**\n * @param {object} options\n */\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n\n  return (lines * font.lineHeight) + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  /** @type {CanvasTextAlign} */\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\n\nexport default class Scale extends Element {\n\n  // eslint-disable-next-line max-statements\n  constructor(cfg) {\n    super();\n\n    /** @type {string} */\n    this.id = cfg.id;\n    /** @type {string} */\n    this.type = cfg.type;\n    /** @type {any} */\n    this.options = undefined;\n    /** @type {CanvasRenderingContext2D} */\n    this.ctx = cfg.ctx;\n    /** @type {Chart} */\n    this.chart = cfg.chart;\n\n    // implements box\n    /** @type {number} */\n    this.top = undefined;\n    /** @type {number} */\n    this.bottom = undefined;\n    /** @type {number} */\n    this.left = undefined;\n    /** @type {number} */\n    this.right = undefined;\n    /** @type {number} */\n    this.width = undefined;\n    /** @type {number} */\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    /** @type {number} */\n    this.maxWidth = undefined;\n    /** @type {number} */\n    this.maxHeight = undefined;\n    /** @type {number} */\n    this.paddingTop = undefined;\n    /** @type {number} */\n    this.paddingBottom = undefined;\n    /** @type {number} */\n    this.paddingLeft = undefined;\n    /** @type {number} */\n    this.paddingRight = undefined;\n\n    // scale-specific properties\n    /** @type {string=} */\n    this.axis = undefined;\n    /** @type {number=} */\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    /** @type {Tick[]} */\n    this.ticks = [];\n    /** @type {object[]|null} */\n    this._gridLineItems = null;\n    /** @type {object[]|null} */\n    this._labelItems = null;\n    /** @type {object|null} */\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    /** @type {number} */\n    this._startPixel = undefined;\n    /** @type {number} */\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @param {any} options\n\t * @since 3.0\n\t */\n  init(options) {\n    this.options = options.setContext(this.getContext());\n\n    this.axis = options.axis;\n\n    // parse min/max value, so we can properly determine min/max for other scales\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n\n  /**\n\t * Parse a supported input value to internal representation.\n\t * @param {*} raw\n\t * @param {number} [index]\n\t * @since 3.0\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    return raw;\n  }\n\n  /**\n\t * @return {{min: number, max: number, minDefined: boolean, maxDefined: boolean}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isFinite(_userMin),\n      maxDefined: isFinite(_userMax)\n    };\n  }\n\n  /**\n\t * @param {boolean} canStack\n\t * @return {{min: number, max: number}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n\n    // Make sure min <= max when only min or max is defined by user and the data is outside that range\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n\n  /**\n\t * Get the padding needed for the scale\n\t * @return {{top: number, left: number, bottom: number, right: number}} the necessary padding\n\t * @private\n\t */\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n\n  /**\n\t * Returns the scale tick objects\n\t * @return {Tick[]}\n\t * @since 2.7\n\t */\n  getTicks() {\n    return this.ticks;\n  }\n\n  /**\n\t * @return {string[]}\n\t */\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n\n  /**\n   * @return {import('../types.js').LabelItem[]}\n   */\n  getLabelItems(chartArea = this.chart.chartArea) {\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    return items;\n  }\n\n  // When a new layout is created, reset the data limits cache\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n\n  // These methods are ordered by lifecycle. Utilities then follow.\n  // Any function defined here is inherited by all scale types.\n  // Any function can be extended by the scale type\n\n  beforeUpdate() {\n    call(this.options.beforeUpdate, [this]);\n  }\n\n  /**\n\t * @param {number} maxWidth - the max width in pixels\n\t * @param {number} maxHeight - the max height in pixels\n\t * @param {{top: number, left: number, bottom: number, right: number}} margins - the space between the edge of the other scales and edge of the chart\n\t *   This space comes from two sources:\n\t *     - padding - space that's required to show the labels at the edges of the scale\n\t *     - thickness of scales or legends in another orientation\n\t */\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n\n    // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n    this.beforeUpdate();\n\n    // Absorb the master measurements\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n\n    // Dimensions\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n\n    // Data min/max\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n\n    this.beforeBuildTicks();\n\n    this.ticks = this.buildTicks() || [];\n\n    // Allow modification of ticks in callback.\n    this.afterBuildTicks();\n\n    // Compute tick rotation and fit using a sampled subset of labels\n    // We generally don't need to compute the size of every single label for determining scale size\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n\n    // configure is called twice, once here, once from core.controller.updateLayout.\n    // Here we haven't been positioned yet, but dimensions are correct.\n    // Variables set in configure are needed for calculateLabelRotation, and\n    // it's ok that coordinates are not correct there, only dimensions matter.\n    this.configure();\n\n    // Tick Rotation\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation(); // Preconditions: number of ticks and sizes of largest labels must be calculated beforehand\n    this.afterCalculateLabelRotation();\n\n    // Auto-skip\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n\n    if (samplingEnabled) {\n      // Generate labels using all non-skipped ticks\n      this._convertTicksToLabels(this.ticks);\n    }\n\n    this.beforeFit();\n    this.fit(); // Preconditions: label rotation and label sizes must be calculated beforehand\n    this.afterFit();\n\n    // IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\n\n    this.afterUpdate();\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      // by default vertical scales are from bottom to top, so pixels are reversed\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n\n  afterUpdate() {\n    call(this.options.afterUpdate, [this]);\n  }\n\n  //\n\n  beforeSetDimensions() {\n    call(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    if (this.isHorizontal()) {\n      // Reset position before calculating rotation\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n\n      // Reset position before calculating rotation\n      this.top = 0;\n      this.bottom = this.height;\n    }\n\n    // Reset padding\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    call(this.options.afterSetDimensions, [this]);\n  }\n\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    call(this.options[name], [this]);\n  }\n\n  // Data limits\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n\n  //\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  /**\n\t * @return {object[]} the ticks\n\t */\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n\n  beforeTickToLabelConversion() {\n    call(this.options.beforeTickToLabelConversion, [this]);\n  }\n  /**\n\t * Convert ticks to label strings\n\t * @param {Tick[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = call(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    call(this.options.afterTickToLabelConversion, [this]);\n  }\n\n  //\n\n  beforeCalculateLabelRotation() {\n    call(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n\n    // Estimate the width of each grid based on the canvas width, the maximum\n    // label width and the number of tick intervals\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n    // Allow 3 pixels x2 padding either side for label readability\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    call(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n\n  //\n\n  beforeFit() {\n    call(this.options.beforeFit, [this]);\n  }\n  fit() {\n    // Reset\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight; // fill all the height\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n\n      // Don't bother fitting the ticks if we are not showing the labels\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n\n        if (isHorizontal) {\n        // A horizontal axis is more constrained by the height.\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n        // A vertical axis is more constrained by the width. Labels are the\n        // dominant factor here, so get that length first and account for padding\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n\n    this._handleMargins();\n\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n\n      // Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\n      // which means that the right padding is dominated by the font height\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n\n      // Adjust padding taking into account changes in offsets\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n\n  /**\n\t * Handle margins and padding interactions\n\t * @private\n\t */\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n\n  afterFit() {\n    call(this.options.afterFit, [this]);\n  }\n\n  // Shared Methods\n  /**\n\t * @return {boolean}\n\t */\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  /**\n\t * @return {boolean}\n\t */\n  isFullSize() {\n    return this.options.fullSize;\n  }\n\n  /**\n\t * @param {Tick[]} ticks\n\t * @private\n\t */\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n\n    this.generateTickLabels(ticks);\n\n    // Ticks should be skipped when callback returns null or undef, so lets remove those.\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n\n    this.afterTickToLabelConversion();\n  }\n\n  /**\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n    }\n\n    return labelSizes;\n  }\n\n  /**\n\t * Returns {width, height, offset} objects for the first, last, widest, highest tick\n\t * labels where offset indicates the anchor point offset from the top in pixels.\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _computeLabelSizes(ticks, length, maxTicksLimit) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n    for (i = 0; i < length; i += increment) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      // Undefined labels and arrays should not be measured\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        // if it is an array let's measure each element\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = /** @type {string} */ (label[j]);\n          // Undefined labels and arrays should not be measured\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n\n  /**\n\t * Used to get the label to display in the tooltip for the given value\n\t * @param {*} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value;\n  }\n\n  /**\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {*} value\n\t * @param {number} [index]\n\t * @return {number}\n\t */\n  getPixelForValue(value, index) { // eslint-disable-line no-unused-vars\n    return NaN;\n  }\n\n  /**\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} pixel\n\t * @return {*}\n\t */\n  getValueForPixel(pixel) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Returns the location of the tick at the given index\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} index\n\t * @return {number}\n\t */\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  /**\n\t * Utility for getting the pixel location of a percentage of scale\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} decimal\n\t * @return {number}\n\t */\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n\n  /**\n\t * Returns the pixel for the minimum chart value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @return {number}\n\t */\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n\n  /**\n\t * @return {number}\n\t */\n  getBaseValue() {\n    const {min, max} = this;\n\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index) {\n    const ticks = this.ticks || [];\n\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n\n  /**\n\t * @return {number}\n\t * @private\n\t */\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n\n    // Calculate space needed by label in axis direction.\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n\n    // Calculate space needed for 1 tick in axis direction.\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n\n  /**\n\t * @return {boolean}\n\t * @private\n\t */\n  _isVisible() {\n    const display = this.options.display;\n\n    if (display !== 'auto') {\n      return !!display;\n    }\n\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position, border} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = borderOpts.display ? borderOpts.width : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const context = this.getContext(i);\n      const optsAtIndex = grid.setContext(context);\n      const optsAtIndexBorder = border.setContext(context);\n\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = optsAtIndexBorder.dash || [];\n      const borderDashOffset = optsAtIndexBorder.dashOffset;\n\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n\n      lineValue = getPixelForGridLine(this, i, offset);\n\n      // Skip if the pixel is out of the range\n      if (lineValue === undefined) {\n        continue;\n      }\n\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n\n    return items;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n\n      if (isHorizontal) {\n        x = pixel;\n\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          // eslint-disable-next-line no-lonely-if\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n        if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n          x += (lineHeight / 2) * Math.sin(rotation);\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n\n      let backdrop;\n\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n\n        let top = textOffset - labelPadding.top;\n        let left = 0 - labelPadding.left;\n\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        default:\n          break;\n        }\n\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        case 'inner':\n          if (i === ilen - 1) {\n            left -= width;\n          } else if (i > 0) {\n            left -= width / 2;\n          }\n          break;\n        default:\n          break;\n        }\n\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n\n          color: optsAtIndex.backdropColor,\n        };\n      }\n\n      items.push({\n        label,\n        font,\n        textOffset,\n        options: {\n          rotation,\n          color,\n          strokeColor,\n          strokeWidth,\n          textAlign: tickTextAlign,\n          textBaseline,\n          translation: [x, y],\n          backdrop,\n        }\n      });\n    }\n\n    return items;\n  }\n\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n\n    let align = 'center';\n\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n\n    return align;\n  }\n\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n\n    let textAlign;\n    let x;\n\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n\n    return {textAlign, x};\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n\n    const chart = this.chart;\n    const position = this.options.position;\n\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n\n  /**\n   * @protected\n   */\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {\n    const {chart, ctx, options: {border, grid}} = this;\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = border.display ? borderOpts.width : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.width;\n    ctx.strokeStyle = borderOpts.color;\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n\n    if (!optionTicks.display) {\n      return;\n    }\n\n    const ctx = this.ctx;\n\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n\n    const items = this.getLabelItems(chartArea);\n    for (const item of items) {\n      const renderTextOptions = item.options;\n      const tickFont = item.font;\n      const label = item.label;\n      const y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n    }\n\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n\n    if (!title.display) {\n      return;\n    }\n\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n\n  /**\n\t * @return {object[]}\n\t * @private\n\t */\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    const bz = valueOrDefault(opts.border && opts.border.z, 0);\n\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      // backward compatibility: draw has been overridden by custom scale\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: bz,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n\n  /**\n\t * Returns visible dataset metas that are attached to this scale\n\t * @param {string} [type] - if specified, also filter by dataset type\n\t * @return {object[]}\n\t */\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n\n  /**\n\t * @param {number} index\n\t * @return {object}\n\t * @protected\n \t */\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n\n  /**\n   * @protected\n   */\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n","import {merge} from '../helpers/index.js';\nimport defaults, {overrides} from './core.defaults.js';\n\n/**\n * @typedef {{id: string, defaults: any, overrides?: any, defaultRoutes: any}} IChartComponent\n */\n\nexport default class TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t * @returns {string} The scope where items defaults were registered to.\n\t */\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n\n    if (isIChartComponent(proto)) {\n      // Make sure the parent is registered and note the scope where its defaults are.\n      parentScope = this.register(proto);\n    }\n\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n\n    if (id in items) {\n      // already registered\n      return scope;\n    }\n\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n\n    return scope;\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object?}\n\t */\n  get(id) {\n    return this.items[id];\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t */\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n\n    if (id in items) {\n      delete items[id];\n    }\n\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\n\nfunction registerDefaults(item, scope, parentScope) {\n  // Inherit the parent's defaults and keep existing defaults\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n","import DatasetController from './core.datasetController.js';\nimport Element from './core.element.js';\nimport Scale from './core.scale.js';\nimport TypedRegistry from './core.typedRegistry.js';\nimport {each, callback as call, _capitalize} from '../helpers/helpers.core.js';\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    // Order is important, Scale has Element in prototype chain,\n    // so Scales must be before Elements. Plugins are a fallback, so not listed here.\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  add(...args) {\n    this._each('register', args);\n  }\n\n  remove(...args) {\n    this._each('unregister', args);\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof DatasetController}\n\t */\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Element}\n\t */\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object}\n\t */\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Scale}\n\t */\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n\n  /**\n\t * @private\n\t */\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        // Handle loopable args\n        // Use case:\n        //  import * as plugins from './plugins.js';\n        //  Chart.register(plugins);\n        each(arg, item => {\n          // If there are mixed types in the loopable, make sure those are\n          // registered in correct registry\n          // Use case: (treemap exporting controller, elements etc)\n          //  import * as treemap from 'chartjs-chart-treemap.js';\n          //  Chart.register(treemap);\n\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    call(component['before' + camelMethod], [], component); // beforeRegister / beforeUnregister\n    registry[method](component);\n    call(component['after' + camelMethod], [], component); // afterRegister / afterUnregister\n  }\n\n  /**\n\t * @private\n\t */\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    // plugins is the fallback registry\n    return this.plugins;\n  }\n\n  /**\n\t * @private\n\t */\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Registry();\n","import registry from './core.registry.js';\nimport {callback as callCallback, isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../plugins/plugin.tooltip.js').default } Tooltip\n */\n\n/**\n * @callback filterCallback\n * @param {{plugin: object, options: object}} value\n * @param {number} [index]\n * @param {array} [array]\n * @param {object} [thisArg]\n * @return {boolean}\n */\n\n\nexport default class PluginService {\n  constructor() {\n    this._init = [];\n  }\n\n  /**\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {object} [args] - Extra arguments to apply to the hook call.\n   * @param {filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callCallback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  invalidate() {\n    // When plugins are registered, there is the possibility of a double\n    // invalidate situation. In this case, we only want to invalidate once.\n    // If we invalidate multiple times, the `_oldCache` is lost and all of the\n    // plugins are restarted without being correctly stopped.\n    // See https://github.com/chartjs/Chart.js/issues/8147\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n\n    const descriptors = this._cache = this._createDescriptors(chart);\n\n    this._notifyStateChanges(chart);\n\n    return descriptors;\n  }\n\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    // options === false => all plugins are disabled\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\n\n/**\n * @param {import('./core.config.js').default} config\n */\nfunction allPlugins(config) {\n  const localIds = {};\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n      localIds[plugin.id] = true;\n    }\n  }\n\n  return {plugins, localIds};\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\n\nfunction createDescriptors(chart, {plugins, localIds}, options, all) {\n  const result = [];\n  const context = chart.getContext();\n\n  for (const plugin of plugins) {\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, {plugin, local}, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  if (local && plugin.defaults) {\n    // make sure plugin defaults are in scopes for local (not registered) plugins\n    scopes.push(plugin.defaults);\n  }\n  return config.createResolver(scopes, context, [''], {\n    // These are just defaults that plugins can override\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n","import defaults, {overrides, descriptors} from './core.defaults.js';\nimport {mergeIf, resolveObjectKey, isArray, isFunction, valueOrDefault, isObject} from '../helpers/helpers.core.js';\nimport {_attachContext, _createResolver, _descriptors} from '../helpers/helpers.config.js';\n\nexport function getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction idMatchesAxis(id) {\n  if (id === 'x' || id === 'y' || id === 'r') {\n    return id;\n  }\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nexport function determineAxis(id, ...scaleOptions) {\n  if (idMatchesAxis(id)) {\n    return id;\n  }\n  for (const opts of scaleOptions) {\n    const axis = opts.axis\n      || axisFromPosition(opts.position)\n      || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n    if (axis) {\n      return axis;\n    }\n  }\n  throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\n\nfunction getAxisFromDataset(id, axis, dataset) {\n  if (dataset[axis + 'AxisID'] === id) {\n    return {axis};\n  }\n}\n\nfunction retrieveAxisFromDatasets(id, config) {\n  if (config.data && config.data.datasets) {\n    const boundDs = config.data.datasets.filter((d) => d.xAxisID === id || d.yAxisID === id);\n    if (boundDs.length) {\n      return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n    }\n  }\n  return {};\n}\n\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const scales = Object.create(null);\n\n  // First figure out first scale id's per axis.\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n\n  // Then merge dataset defaults to scale configs\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n\n  // apply scale defaults, if not overridden by dataset defaults\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n\n  return scales;\n}\n\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n\n  initOptions(config);\n\n  return config;\n}\n\nconst keyCache = new Map();\nconst keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\n\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nexport default class Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  get platform() {\n    return this._config.platform;\n  }\n\n  get type() {\n    return this._config.type;\n  }\n\n  set type(type) {\n    this._config.type = type;\n  }\n\n  get data() {\n    return this._config.data;\n  }\n\n  set data(data) {\n    this._config.data = initData(data);\n  }\n\n  get options() {\n    return this._config.options;\n  }\n\n  set options(options) {\n    this._config.options = options;\n  }\n\n  get plugins() {\n    return this._config.plugins;\n  }\n\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @return {string[][]}\n   */\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset animation options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @param {string} transition\n   * @return {string[][]}\n   */\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        // The following are used for looking up the `animations` and `animation` keys\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving element options that belong\n   * to an dataset. These keys do not include the dataset itself, because it\n   * is not under options.\n   * @param {string} datasetType\n   * @param {string} elementType\n   * @return {string[][]}\n   */\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving plugin options.\n   * @param {{id: string, additionalOptionScopes?: string[]}} plugin\n   * @return {string[][]}\n   */\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n\n  /**\n   * @private\n   */\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n\n  /**\n   * Resolves the objects from options and defaults for option value resolution.\n   * @param {object} mainScope - The main scope object for options\n   * @param {string[][]} keyLists - The arrays of keys in resolution order\n   * @param {boolean} [resetCache] - reset the cache for this mainScope\n   */\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n\n    const scopes = new Set();\n\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n\n  /**\n   * Returns the option scopes for resolving chart options\n   * @return {object[]}\n   */\n  chartOptionScopes() {\n    const {options, type} = this;\n\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {}, // https://github.com/chartjs/Chart.js/issues/8531\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {string[]} names\n   * @param {function|object} context\n   * @param {string[]} [prefixes]\n   * @return {object}\n   */\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      // subResolver is passed to scriptable options. It should not resolve to hover options.\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {object} [context]\n   * @param {string[]} [prefixes]\n   * @param {{scriptable: boolean, indexable: boolean, allKeys?: boolean}} [descriptorDefaults]\n   */\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\n\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).some((key) => isFunction(value[key]));\n\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n","import animator from './core.animator.js';\nimport defaults, {overrides} from './core.defaults.js';\nimport Interaction from './core.interaction.js';\nimport layouts from './core.layouts.js';\nimport {_detectPlatform} from '../platform/index.js';\nimport PluginService from './core.plugins.js';\nimport registry from './core.registry.js';\nimport Config, {determineAxis, getIndexAxis} from './core.config.js';\nimport {retinaScale, _isDomSupported} from '../helpers/helpers.dom.js';\nimport {each, callback as callCallback, uid, valueOrDefault, _elementsEqual, isNullOrUndef, setsEqual, defined, isFunction, _isClickEvent} from '../helpers/helpers.core.js';\nimport {clearCanvas, clipArea, createContext, unclipArea, _isPointInArea} from '../helpers/index.js';\n// @ts-ignore\nimport {version} from '../../package.json';\nimport {debounce} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').Point } Point\n */\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\n\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n\n  chart.notifyPlugins('afterRender');\n  callCallback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callCallback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\n/**\n * Chart.js can take a string id of a canvas element, a 2d context, or a canvas element itself.\n * Attempt to unwrap the item passed into the chart constructor so that it is a canvas element (if possible).\n */\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    // Support for array based queries (such as jQuery)\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    // Support for any object associated to a canvas (including a context2d)\n    item = item.canvas;\n  }\n  return item;\n}\n\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\n\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\n\n/**\n * @param {ChartEvent} e\n * @param {ChartEvent|null} lastEvent\n * @param {boolean} inChartArea\n * @param {boolean} isClick\n * @returns {ChartEvent|null}\n */\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\n\nfunction getSizeForArea(scale, chartArea, field) {\n  return scale.options.clip ? scale[field] : chartArea[field];\n}\n\nfunction getDatasetArea(meta, chartArea) {\n  const {xScale, yScale} = meta;\n  if (xScale && yScale) {\n    return {\n      left: getSizeForArea(xScale, chartArea, 'left'),\n      right: getSizeForArea(xScale, chartArea, 'right'),\n      top: getSizeForArea(yScale, chartArea, 'top'),\n      bottom: getSizeForArea(yScale, chartArea, 'bottom')\n    };\n  }\n  return chartArea;\n}\n\nclass Chart {\n\n  static defaults = defaults;\n  static instances = instances;\n  static overrides = overrides;\n  static registry = registry;\n  static version = version;\n  static getChart = getChart;\n\n  static register(...items) {\n    registry.add(...items);\n    invalidatePlugins();\n  }\n\n  static unregister(...items) {\n    registry.remove(...items);\n    invalidatePlugins();\n  }\n\n  // eslint-disable-next-line max-statements\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.'\n      );\n    }\n\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    // Store the previously used aspect ratio to determine if a resize\n    // is needed during updates. Do this after _options is set since\n    // aspectRatio uses a getter\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    /** @type {?{attach?: function, detach?: function, resize?: function}} */\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n\n    // Add the chart instance to the global namespace\n    instances[this.id] = this;\n\n    if (!context || !canvas) {\n      // The given item is not a compatible context2d element, let's return before finalizing\n      // the chart initialization but after setting basic chart / controller properties that\n      // can help to figure out that the chart is not valid (e.g chart.canvas !== null);\n      // https://github.com/chartjs/Chart.js/issues/2807\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      // If aspectRatio is defined in options, use that.\n      return aspectRatio;\n    }\n\n    if (maintainAspectRatio && _aspectRatio) {\n      // If maintainAspectRatio is truthly and we had previously determined _aspectRatio, use that\n      return _aspectRatio;\n    }\n\n    // Calculate\n    return height ? width / height : null;\n  }\n\n  get data() {\n    return this.config.data;\n  }\n\n  set data(data) {\n    this.config.data = data;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(options) {\n    this.config.options = options;\n  }\n\n  get registry() {\n    return registry;\n  }\n\n  /**\n\t * @private\n\t */\n  _initialize() {\n    // Before init plugin notification\n    this.notifyPlugins('beforeInit');\n\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n\n    this.bindEvents();\n\n    // After init plugin notification\n    this.notifyPlugins('afterInit');\n\n    return this;\n  }\n\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n\n  /**\n\t * Resize the chart to its container or to explicit dimensions.\n\t * @param {number} [width]\n\t * @param {number} [height]\n\t */\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n\n    this.notifyPlugins('resize', {size: newSize});\n\n    callCallback(options.onResize, [this, newSize], this);\n\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        // The resize update is delayed, only draw without updating.\n        this.render();\n      }\n    }\n  }\n\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n\n  /**\n\t * Builds a map of scale ID to scale object for future lookup.\n\t */\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n\n      scale.init(scaleOptions, options);\n    });\n    // clear up discarded scales\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n\n  /**\n\t * @private\n\t */\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n\n    this._removeUnreferencedMetasets();\n\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n\n    this._updateMetasets();\n    return newControllers;\n  }\n\n  /**\n\t * Reset the elements of all datasets\n\t * @private\n\t */\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n\n  /**\n\t* Resets the chart back to its state before the initial animation\n\t*/\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n\n  update(mode) {\n    const config = this.config;\n\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n\n    // plugins options references might have change, let's invalidate the cache\n    // https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\n    this._plugins.invalidate();\n\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    // Make sure dataset controllers are updated and new controllers are reset\n    const newControllers = this.buildOrUpdateControllers();\n\n    this.notifyPlugins('beforeElementsUpdate');\n\n    // Make sure all dataset controllers have correct meta data counts\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      // New controllers will be reset after the layout pass, so we only want to modify\n      // elements added to new datasets\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n\n    // Only reset the controllers if we have animations\n    if (!animsDisabled) {\n      // Can only reset the new controllers after the scales have been updated\n      // Reset is done to get the starting point for the initial animation\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n\n    this._updateDatasets(mode);\n\n    // Do this before render so that any plugins that need final scale updates can use it\n    this.notifyPlugins('afterUpdate', {mode});\n\n    this._layers.sort(compare2Level('z', '_idx'));\n\n    // Replay last event from before update, or set hover styles on active elements\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n\n    this.render();\n  }\n\n  /**\n   * @private\n   */\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n\n  /**\n   * @private\n   */\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      // The configured events have changed. Rebind.\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n\n  /**\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\n\t * hook, in which case, plugins will not be called on `afterLayout`.\n\t * @private\n\t */\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n\n    layouts.update(this, this.width, this.height, minPadding);\n\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        // Skip drawing and configuring chartArea boxes when chartArea is zero or negative\n        return;\n      }\n\n      // configure is called twice, once in core.scale.update and once here.\n      // Here the boxes are fully updated and at their final positions.\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n\n    this.notifyPlugins('afterLayout');\n  }\n\n  /**\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\n\t * @private\n\t */\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n\n  /**\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\n\t * @private\n\t */\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n\n    meta.controller._update(mode);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      // Unset pending resize request now to avoid possible recursion within _resize\n      this._resizeBeforeDraw = null;\n      this._resize(width, height);\n    }\n    this.clear();\n\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    // Because of plugin hooks (before/afterDatasetsDraw), datasets can't\n    // currently be part of layers. Instead, we draw\n    // layers <= 0 before(default, backward compat), and the rest after\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this._drawDatasets();\n\n    // Rest of layers\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this.notifyPlugins('afterDraw');\n  }\n\n  /**\n\t * @private\n\t */\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n\t * Gets the visible dataset metas in drawing order\n\t * @return {object[]}\n\t */\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n\n  /**\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\n\t * @private\n\t */\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n\n  /**\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\n\t * @private\n\t */\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = getDatasetArea(meta, this.chartArea);\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n\n    meta.controller.draw();\n\n    if (useClip) {\n      unclipArea(ctx);\n    }\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n\n  /**\n   * Checks whether the given point is in the chart area.\n   * @param {Point} point - in relative coordinates (see, e.g., getRelativePosition)\n   * @returns {boolean}\n   */\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n\n    return [];\n  }\n\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\t\t\t// See isDatasetVisible() comment\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n\n    return meta;\n  }\n\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n\n    const meta = this.getDatasetMeta(datasetIndex);\n\n    // meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n    // the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n\n  /**\n\t * @private\n\t */\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      // Animate visible state, so hide animation can be seen. This could be handled better if update / updateDataset returned a Promise.\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n\n  /**\n\t * @private\n\t */\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n\n    this._stop();\n    this.config.clearCache();\n\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n\n    delete instances[this.id];\n\n    this.notifyPlugins('afterDestroy');\n  }\n\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n\n  /**\n\t * @private\n\t */\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n\n  /**\n   * @private\n   */\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n\n    each(this.options.events, (type) => _add(type, listener));\n  }\n\n  /**\n   * @private\n   */\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n\n    let detached; // eslint-disable-line prefer-const\n    const attached = () => {\n      _remove('attach', attached);\n\n      this.attached = true;\n      this.resize();\n\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n\n    detached = () => {\n      this.attached = false;\n\n      _remove('resize', listener);\n\n      // Stop animating and remove metasets, so when re-attached, the animations start from beginning.\n      this._stop();\n      this._resize(0, 0);\n\n      _add('attach', attached);\n    };\n\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n\n  /**\n\t * Get active (hovered) elements\n\t * @returns array\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active (hovered) elements\n\t * @param {array} activeElements New active data points\n\t */\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n\n    if (changed) {\n      this._active = active;\n      // Make sure we don't use the previous mouse event to override the active elements in update.\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n\n  /**\n\t * Calls enabled plugins on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {Object} [args] - Extra arguments to apply to the hook call.\n   * @param {import('./core.plugins.js').filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n\n  /**\n   * Check if a plugin with the specific ID is registered and enabled\n   * @param {string} pluginId - The ID of the plugin of which to check if it is enabled\n   * @returns {boolean}\n   */\n  isPluginEnabled(pluginId) {\n    return this._plugins._cache.filter(p => p.plugin.id === pluginId).length === 1;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n\n    if (changed || args.changed) {\n      this.render();\n    }\n\n    return this;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e the event to handle\n\t * @param {boolean} [replay] - true if the event was replayed by `update`\n   * @param {boolean} [inChartArea] - true if the event is inside chartArea\n\t * @return {boolean} true if the chart needs to re-render\n\t * @private\n\t */\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n\n    // If the event is replayed from `update`, we should evaluate with the final positions.\n    //\n    // The `replay`:\n    // It's the last event (excluding click) that has occurred before `update`.\n    // So mouse has not moved. It's also over the chart, because there is a `replay`.\n    //\n    // The why:\n    // If animations are active, the elements haven't moved yet compared to state before update.\n    // But if they will, we are activating the elements that would be active, if this check\n    // was done after the animations have completed. => \"final positions\".\n    // If there is no animations, the \"final\" and \"current\" positions are equal.\n    // This is done so we do not have to evaluate the active elements each animation frame\n    // - it would be expensive.\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n\n    if (inChartArea) {\n      // Set _lastEvent to null while we are processing the event handlers.\n      // This prevents recursion if the handler calls chart.update()\n      this._lastEvent = null;\n\n      // Invoke onHover hook\n      callCallback(options.onHover, [e, active, this], this);\n\n      if (isClick) {\n        callCallback(options.onClick, [e, active, this], this);\n      }\n    }\n\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n\n    this._lastEvent = lastEvent;\n\n    return changed;\n  }\n\n  /**\n   * @param {ChartEvent} e - The event\n   * @param {import('../types/index.js').ActiveElement[]} lastActive - Previously active elements\n   * @param {boolean} inChartArea - Is the event inside chartArea\n   * @param {boolean} useFinalPosition - Should the evaluation be done with current or final (after animation) element positions\n   * @returns {import('../types/index.js').ActiveElement[]} - The active elements\n   * @pravate\n   */\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      return lastActive;\n    }\n\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\n\n// @ts-ignore\nfunction invalidatePlugins() {\n  return each(Chart.instances, (chart) => chart._plugins.invalidate());\n}\n\nexport default Chart;\n","import {_isDomSupported} from '../helpers/index.js';\nimport BasePlatform from './platform.base.js';\nimport BasicPlatform from './platform.basic.js';\nimport DomPlatform from './platform.dom.js';\n\nexport function _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nexport {BasePlatform, BasicPlatform, DomPlatform};\n","import Element from '../core/core.element.js';\nimport {_angleBetween, getAngleFromPoint, TAU, HALF_PI, valueOrDefault} from '../helpers/index.js';\nimport {PI, _isBetween, _limitValue} from '../helpers/helpers.math.js';\nimport {_readValueToProps} from '../helpers/helpers.options.js';\nimport type {ArcOptions, Point} from '../types/index.js';\n\n\nfunction clipArc(ctx: CanvasRenderingContext2D, element: ArcElement, endAngle: number) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n\n  // Draw an inner border by clipping the arc and drawing a double-width border\n  // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\n\n/**\n * Parse border radius from the provided options\n */\nfunction parseBorderRadius(arc: ArcElement, innerRadius: number, outerRadius: number, angleDelta: number) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n\n  // Outer limits are complicated. We want to compute the available angular distance at\n  // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n  // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n  //\n  // If the borderRadius is large, that value can become negative.\n  // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n  // we know that the thickness term will dominate and compute the limits at that point\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\n\n/**\n * Convert (r, ) to (x, y)\n */\nfunction rThetaToXY(r: number, theta: number, x: number, y: number) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\n\n\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */\nfunction pathArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  end: number,\n  circular: boolean,\n) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n\n  let spacingOffset = 0;\n  const alpha = end - start;\n\n  if (spacing) {\n    // When spacing is present, it is the same for all items\n    // So we adjust the start and end angle of the arc such that\n    // the distance is the same as it would be without the spacing\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius(element, innerRadius, outerRadius, endAngle - startAngle);\n\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n\n  ctx.beginPath();\n\n  if (circular) {\n    // The first arc segments from point 1 to point a to point 2\n    const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n    ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n\n    // The corner segment from point 2 to point 3\n    if (outerEnd > 0) {\n      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n    }\n\n    // The line from point 3 to point 4\n    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n    ctx.lineTo(p4.x, p4.y);\n\n    // The corner segment from point 4 to point 5\n    if (innerEnd > 0) {\n      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n    }\n\n    // The inner arc from point 5 to point b to point 6\n    const innerMidAdjustedAngle = ((endAngle - (innerEnd / innerRadius)) + (startAngle + (innerStart / innerRadius))) / 2;\n    ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), innerMidAdjustedAngle, true);\n    ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + (innerStart / innerRadius), true);\n\n    // The corner segment from point 6 to point 7\n    if (innerStart > 0) {\n      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n    }\n\n    // The line from point 7 to point 8\n    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n    ctx.lineTo(p8.x, p8.y);\n\n    // The corner segment from point 8 to point 1\n    if (outerStart > 0) {\n      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n    }\n  } else {\n    ctx.moveTo(x, y);\n\n    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerStartX, outerStartY);\n\n    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerEndX, outerEndY);\n  }\n\n  ctx.closePath();\n}\n\nfunction drawArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.fill();\n  return endAngle;\n}\n\nfunction drawBorder(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference, options} = element;\n  const {borderWidth, borderJoinStyle, borderDash, borderDashOffset} = options;\n  const inner = options.borderAlign === 'inner';\n\n  if (!borderWidth) {\n    return;\n  }\n\n  ctx.setLineDash(borderDash || []);\n  ctx.lineDashOffset = borderDashOffset;\n\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.stroke();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n\n  if (!fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.stroke();\n  }\n}\n\nexport interface ArcProps extends Point {\n  startAngle: number;\n  endAngle: number;\n  innerRadius: number;\n  outerRadius: number;\n  circumference: number;\n}\n\nexport default class ArcElement extends Element<ArcProps, ArcOptions> {\n\n  static id = 'arc';\n\n  static defaults = {\n    borderAlign: 'center',\n    borderColor: '#fff',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: undefined,\n    borderRadius: 0,\n    borderWidth: 2,\n    offset: 0,\n    spacing: 0,\n    angle: undefined,\n    circular: true,\n  };\n\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor'\n  };\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash'\n  };\n\n  circumference: number;\n  endAngle: number;\n  fullCircles: number;\n  innerRadius: number;\n  outerRadius: number;\n  pixelMargin: number;\n  startAngle: number;\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(chartX: number, chartY: number, useFinalPosition: boolean) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const nonZeroBetween = _angleBetween(angle, startAngle, endAngle) && startAngle !== endAngle;\n    const betweenAngles = _circumference >= TAU || nonZeroBetween;\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n\n    return (betweenAngles && withinRadius);\n  }\n\n  getCenterPoint(useFinalPosition: boolean) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius'\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n\n  tooltipPosition(useFinalPosition: boolean) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 4;\n    const spacing = (options.spacing || 0) / 2;\n    const circular = options.circular;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n\n    ctx.save();\n\n    const halfAngle = (this.startAngle + this.endAngle) / 2;\n    ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n    const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n    const radiusOffset = offset * fix;\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n\n    drawArc(ctx, this, radiusOffset, spacing, circular);\n    drawBorder(ctx, this, radiusOffset, spacing, circular);\n\n    ctx.restore();\n  }\n}\n","import Element from '../core/core.element.js';\nimport {_bezierInterpolation, _pointInLine, _steppedInterpolation} from '../helpers/helpers.interpolation.js';\nimport {_computeSegments, _boundSegments} from '../helpers/helpers.segment.js';\nimport {_steppedLineTo, _bezierCurveTo} from '../helpers/helpers.canvas.js';\nimport {_updateBezierControlPoints} from '../helpers/helpers.curve.js';\nimport {valueOrDefault} from '../helpers/index.js';\n\n/**\n * @typedef { import('./element.point.js').default } PointElement\n */\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @returns {any}\n */\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  // eslint-disable-next-line prefer-const\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      // Draw line to maxY and minY, using the average x-coordinate\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      // Line to y-value of last point in group. So the line continues\n      // from correct position. Not using move, to have solid path.\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    }\n\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0; // truncated x-coordinate\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      // Draw line to next x-position, using the first (or only)\n      // y-value in that group\n      ctx.lineTo(x, y);\n\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    // Keep track of the last y-value in group\n    lastY = y;\n  }\n  drawX();\n}\n\n/**\n * @param {LineElement} line - the line\n * @returns {function}\n * @private\n */\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\n/**\n * @private\n */\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\n\nconst usePath2D = typeof Path2D === 'function';\n\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nexport default class LineElement extends Element {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderCapStyle: 'butt',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderWidth: 3,\n    capBezierPoints: true,\n    cubicInterpolationMode: 'default',\n    fill: false,\n    spanGaps: false,\n    stepped: false,\n    tension: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n  };\n\n\n  constructor(cfg) {\n    super();\n\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n\n  get points() {\n    return this._points;\n  }\n\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n\n  /**\n\t * First non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n\n  /**\n\t * Last non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n\n  /**\n\t * Interpolate a point in this line at the same value on `property` as\n\t * the reference `point` provided\n\t * @param {PointElement} point - the reference point\n\t * @param {string} property - the property to match on\n\t * @returns {PointElement|undefined}\n\t */\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n\n    if (!segments.length) {\n      return;\n    }\n\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n\n  /**\n\t * Append a segment of this line to current path.\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} segment\n\t * @param {number} segment.start - start index of the segment, referring the points array\n \t * @param {number} segment.end - end index of the segment, referring the points array\n \t * @param {boolean} segment.loop - indicates that the segment is a loop\n\t * @param {object} params\n\t * @param {boolean} params.move - move to starting point (vs line to it)\n\t * @param {boolean} params.reverse - path the segment from end to start\n\t * @param {number} params.start - limit segment to points starting from `start` index\n\t * @param {number} params.end - limit segment to points ending at `start` + `count` index\n\t * @returns {undefined|boolean} - true if the segment is a full loop (path should be closed)\n\t */\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n\n  /**\n\t * Append all segments of this line to current path.\n\t * @param {CanvasRenderingContext2D|Path2D} ctx\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t * @returns {undefined|boolean} - true if line is a full loop (path should be closed)\n\t */\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n\n    start = start || 0;\n    count = count || (this.points.length - start);\n\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n\n  /**\n\t * Draw\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} chartArea\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t */\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n\n    if (points.length && options.borderWidth) {\n      ctx.save();\n\n      draw(ctx, this, start, count);\n\n      ctx.restore();\n    }\n\n    if (this.animated) {\n      // When line is animated, the control points and path are not cached.\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\n","import Element from '../core/core.element.js';\nimport {drawPoint, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport type {\n  CartesianParsedData,\n  ChartArea,\n  Point,\n  PointHoverOptions,\n  PointOptions,\n} from '../types/index.js';\n\nfunction inRange(el: PointElement, pos: number, axis: 'x' | 'y', useFinalPosition?: boolean) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\n\nexport type PointProps = Point\n\nexport default class PointElement extends Element<PointProps, PointOptions & PointHoverOptions> {\n\n  static id = 'point';\n\n  parsed: CartesianParsedData;\n  skip?: boolean;\n  stop?: boolean;\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderWidth: 1,\n    hitRadius: 1,\n    hoverBorderWidth: 1,\n    hoverRadius: 4,\n    pointStyle: 'circle',\n    radius: 3,\n    rotation: 0\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(mouseX: number, mouseY: number, useFinalPosition?: boolean) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n\n  inXRange(mouseX: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseX, 'x', useFinalPosition);\n  }\n\n  inYRange(mouseY: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseY, 'y', useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition?: boolean) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n\n  size(options?: Partial<PointOptions & PointHoverOptions>) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n\n  draw(ctx: CanvasRenderingContext2D, area: ChartArea) {\n    const options = this.options;\n\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n\n  getRange() {\n    const options = this.options || {};\n    // @ts-expect-error Fallbacks should never be hit in practice\n    return options.radius + options.hitRadius;\n  }\n}\n","import Element from '../core/core.element.js';\nimport {isObject, _isBetween, _limitValue} from '../helpers/index.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {toTRBL, toTRBLCorners} from '../helpers/helpers.options.js';\n\n/** @typedef {{ x: number, y: number, base: number, horizontal: boolean, width: number, height: number }} BarProps */\n\n/**\n * Helper function to get the bounds of the bar regardless of the orientation\n * @param {BarElement} bar the bar\n * @param {boolean} [useFinalPosition]\n * @return {object} bounds of the bar\n * @private\n */\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = /** @type {BarProps} */ (bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition));\n\n  let left, right, top, bottom, half;\n\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n\n  return {left, top, right, bottom};\n}\n\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\n\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\n\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n\n  // If the value is an object, assume the user knows what they are doing\n  // and apply as directed.\n  const enableBorder = enableBorderRadius || isObject(value);\n\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\n\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\n\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\n\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n\n/**\n * Add a path of a rectangle to the current sub-path\n * @param {CanvasRenderingContext2D} ctx Context\n * @param {*} rect Bounding rect\n */\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\n\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\n\nexport default class BarElement extends Element {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderSkipped: 'start',\n    borderWidth: 0,\n    borderRadius: 0,\n    inflateAmount: 'auto',\n    pointStyle: undefined\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n\n    ctx.save();\n\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n\n    ctx.restore();\n  }\n\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = /** @type {BarProps} */ (this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition));\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\n","import {DoughnutController, PolarAreaController, defaults} from '../index.js';\nimport type {Chart, ChartDataset} from '../types.js';\n\nexport interface ColorsPluginOptions {\n  enabled?: boolean;\n  forceOverride?: boolean;\n}\n\ninterface ColorsDescriptor {\n  backgroundColor?: unknown;\n  borderColor?: unknown;\n}\n\nconst BORDER_COLORS = [\n  'rgb(54, 162, 235)', // blue\n  'rgb(255, 99, 132)', // red\n  'rgb(255, 159, 64)', // orange\n  'rgb(255, 205, 86)', // yellow\n  'rgb(75, 192, 192)', // green\n  'rgb(153, 102, 255)', // purple\n  'rgb(201, 203, 207)' // grey\n];\n\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map(color => color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\n\nfunction getBorderColor(i: number) {\n  return BORDER_COLORS[i % BORDER_COLORS.length];\n}\n\nfunction getBackgroundColor(i: number) {\n  return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\n\nfunction colorizeDefaultDataset(dataset: ChartDataset, i: number) {\n  dataset.borderColor = getBorderColor(i);\n  dataset.backgroundColor = getBackgroundColor(i);\n\n  return ++i;\n}\n\nfunction colorizeDoughnutDataset(dataset: ChartDataset, i: number) {\n  dataset.backgroundColor = dataset.data.map(() => getBorderColor(i++));\n\n  return i;\n}\n\nfunction colorizePolarAreaDataset(dataset: ChartDataset, i: number) {\n  dataset.backgroundColor = dataset.data.map(() => getBackgroundColor(i++));\n\n  return i;\n}\n\nfunction getColorizer(chart: Chart) {\n  let i = 0;\n\n  return (dataset: ChartDataset, datasetIndex: number) => {\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n\n    if (controller instanceof DoughnutController) {\n      i = colorizeDoughnutDataset(dataset, i);\n    } else if (controller instanceof PolarAreaController) {\n      i = colorizePolarAreaDataset(dataset, i);\n    } else if (controller) {\n      i = colorizeDefaultDataset(dataset, i);\n    }\n  };\n}\n\nfunction containsColorsDefinitions(\n  descriptors: ColorsDescriptor[] | Record<string, ColorsDescriptor>\n) {\n  let k: number | string;\n\n  for (k in descriptors) {\n    if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction containsColorsDefinition(\n  descriptor: ColorsDescriptor\n) {\n  return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\n\nfunction containsDefaultColorsDefenitions() {\n  return defaults.borderColor !== 'rgba(0,0,0,0.1)' || defaults.backgroundColor !== 'rgba(0,0,0,0.1)';\n}\n\nexport default {\n  id: 'colors',\n\n  defaults: {\n    enabled: true,\n    forceOverride: false\n  } as ColorsPluginOptions,\n\n  beforeLayout(chart: Chart, _args, options: ColorsPluginOptions) {\n    if (!options.enabled) {\n      return;\n    }\n\n    const {\n      data: {datasets},\n      options: chartOptions\n    } = chart.config;\n    const {elements} = chartOptions;\n\n    const containsColorDefenition = (\n      containsColorsDefinitions(datasets) ||\n      containsColorsDefinition(chartOptions) ||\n      (elements && containsColorsDefinitions(elements)) ||\n      containsDefaultColorsDefenitions());\n\n    if (!options.forceOverride && containsColorDefenition) {\n      return;\n    }\n\n    const colorizer = getColorizer(chart);\n\n    datasets.forEach(colorizer);\n  }\n};\n","import {_limitValue, _lookupByKey, isNullOrUndef, resolve} from '../helpers/index.js';\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  /**\n   * Implementation of the Largest Triangle Three Buckets algorithm.\n   *\n   * This implementation is based on the original implementation by Sveinn Steinarsson\n   * in https://github.com/sveinn-steinarsson/flot-downsample/blob/master/jquery.flot.downsample.js\n   *\n   * The original implementation is MIT licensed.\n   */\n  const samples = options.samples || availableWidth;\n  // There are less points than the threshold, returning the whole array\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n\n  const decimated = [];\n\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  // Starting from offset\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n\n  decimated[sampledIndex++] = data[a];\n\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n\n    // Adding offset\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n\n    // Adding offset\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n\n    // Note that this is changed from the original algorithm which initializes these\n    // values to 1. The reason for this change is that if the area is small, nextA\n    // would never be set and thus a crash would occur in the next loop as `a` would become\n    // `undefined`. Since the area is always positive, but could be 0 in the case of a flat trace,\n    // initializing with a negative number is the correct solution.\n    maxArea = area = -1;\n\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n\n  // Include the last point\n  decimated[sampledIndex++] = data[endIndex];\n\n  return decimated;\n}\n\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      // Use point.x here because we're computing the average data `x` value\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      // Push up to 4 points, 3 for the last interval and the first point for this interval\n      const lastIndex = i - 1;\n\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        // The interval is defined by 4 points: start, min, max, end.\n        // The starting point is already considered at this point, so we need to determine which\n        // of the other points to add. We need to sort these points to ensure the decimated data\n        // is still sorted and then ensure there are no duplicates.\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n\n      // lastIndex === startIndex will occur when a range has only 1 point which could\n      // happen with very uneven data\n      if (i > 0 && lastIndex !== startIndex) {\n        // Last point in the previous interval\n        decimated.push(data[lastIndex]);\n      }\n\n      // Start of the new interval\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n\n  return decimated;\n}\n\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: data,\n    });\n  }\n}\n\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\n\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count;\n\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n\n  return {start, count};\n}\n\nexport default {\n  id: 'decimation',\n\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      // The decimation plugin may have been previously enabled. Need to remove old `dataset._data` handlers\n      cleanDecimatedData(chart);\n      return;\n    }\n\n    // Assume the entire chart is available to show a few more points than needed\n    const availableWidth = chart.width;\n\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        // Decimation is only supported for lines that have an X indexAxis\n        return;\n      }\n\n      if (!meta.controller.supportsDecimation) {\n        // Only line datasets are supported\n        return;\n      }\n\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        // Only linear interpolation is supported\n        return;\n      }\n\n      if (chart.options.parsing) {\n        // Plugin only supports data that does not need parsing\n        return;\n      }\n\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        // No decimation is required until we are above this threshold\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n\n      if (isNullOrUndef(_data)) {\n        // First time we are seeing this dataset\n        // We override the 'data' property with a setter that stores the\n        // raw data in _data, but reads the decimated data from _decimated\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n\n      // Point the chart to the decimated data\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n\n      dataset._decimated = decimated;\n    });\n  },\n\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n","import {_boundSegment, _boundSegments, _normalizeAngle} from '../../helpers/index.js';\n\nexport function _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = _findSegmentEnd(start, end, points);\n\n    const bounds = _getBounds(property, points[start], points[end], segment.loop);\n\n    if (!target.segments) {\n      // Special case for boundary not supporting `segments` (simpleArc)\n      // Bounds are provided as `target` for partial circle, or undefined for full circle\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n\n    // Get all segments from `target` that intersect the bounds of current segment of `line`\n    const targetSegments = _boundSegments(target, bounds);\n\n    for (const tgt of targetSegments) {\n      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\n\nexport function _getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\n\nexport function _pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = _findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\n\nexport function _findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\n\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n","/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nimport {LineElement} from '../../elements/index.js';\nimport {isArray} from '../../helpers/index.js';\nimport {_pointsFromSegments} from './filler.segment.js';\n\n/**\n * @param {PointElement[] | { x: number; y: number; }} boundary\n * @param {LineElement} line\n * @return {LineElement?}\n */\nexport function _createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n\n  if (isArray(boundary)) {\n    _loop = true;\n    // @ts-ignore\n    points = boundary;\n  } else {\n    points = _pointsFromSegments(boundary, line);\n  }\n\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\n\nexport function _shouldApplyFill(source) {\n  return source && source.fill !== false;\n}\n","import {isObject, isFinite, valueOrDefault} from '../../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.line.js').default } LineElement\n * @typedef { import('../../types/index.js').FillTarget } FillTarget\n * @typedef { import('../../types/index.js').ComplexFillTarget } ComplexFillTarget\n */\n\nexport function _resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n\n  if (!propagate) {\n    return fill;\n  }\n\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isFinite(fill)) {\n      return fill;\n    }\n\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n\n    if (target.visible) {\n      return fill;\n    }\n\n    visited.push(fill);\n    fill = target.fill;\n  }\n\n  return false;\n}\n\n/**\n * @param {LineElement} line\n * @param {number} index\n * @param {number} count\n */\nexport function _decodeFill(line, index, count) {\n  /** @type {string | {value: number}} */\n  const fill = parseFillOption(line);\n\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n\n  let target = parseFloat(fill);\n\n  if (isFinite(target) && Math.floor(target) === target) {\n    return decodeTargetIndex(fill[0], index, target, count);\n  }\n\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\n\nfunction decodeTargetIndex(firstCh, index, target, count) {\n  if (firstCh === '-' || firstCh === '+') {\n    target = index + target;\n  }\n\n  if (target === index || target < 0 || target >= count) {\n    return false;\n  }\n\n  return target;\n}\n\n/**\n * @param {FillTarget | ComplexFillTarget} fill\n * @param {Scale} scale\n * @returns {number | null}\n */\nexport function _getTargetPixel(fill, scale) {\n  let pixel = null;\n  if (fill === 'start') {\n    pixel = scale.bottom;\n  } else if (fill === 'end') {\n    pixel = scale.top;\n  } else if (isObject(fill)) {\n    // @ts-ignore\n    pixel = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    pixel = scale.getBasePixel();\n  }\n  return pixel;\n}\n\n/**\n * @param {FillTarget | ComplexFillTarget} fill\n * @param {Scale} scale\n * @param {number} startValue\n * @returns {number | undefined}\n */\nexport function _getTargetValue(fill, scale, startValue) {\n  let value;\n\n  if (fill === 'start') {\n    value = startValue;\n  } else if (fill === 'end') {\n    value = scale.options.reverse ? scale.min : scale.max;\n  } else if (isObject(fill)) {\n    // @ts-ignore\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  return value;\n}\n\n/**\n * @param {LineElement} line\n */\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n\n  if (fill === false || fill === null) {\n    return false;\n  }\n\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\n","/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nimport {LineElement} from '../../elements/index.js';\nimport {_isBetween} from '../../helpers/index.js';\nimport {_createBoundaryLine} from './filler.helper.js';\n\n/**\n * @param {{ chart: Chart; scale: Scale; index: number; line: LineElement; }} source\n * @return {LineElement}\n */\nexport function _buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line));\n\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @return {LineElement[]}\n */\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\n\n/**\n * @param {PointElement[]} points\n * @param {PointElement} sourcePoint\n * @param {LineElement[]} linesBelow\n */\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      // First point of an segment -> need to add another point before this,\n      // from next line below.\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        // In the middle of an segment, no need to add more points.\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\n\n/**\n * @param {LineElement} line\n * @param {PointElement} sourcePoint\n * @param {string} property\n * @returns {{point?: PointElement, first?: boolean, last?: boolean}}\n */\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\n","import {TAU} from '../../helpers/index.js';\n\n// TODO: use elements.ArcElement instead\nexport class simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\n","import {isFinite} from '../../helpers/index.js';\nimport {_createBoundaryLine} from './filler.helper.js';\nimport {_getTargetPixel, _getTargetValue} from './filler.options.js';\nimport {_buildStackLine} from './filler.target.stack.js';\nimport {simpleArc} from './simpleArc.js';\n\n/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nexport function _getTarget(source) {\n  const {chart, fill, line} = source;\n\n  if (isFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n\n  if (fill === 'stack') {\n    return _buildStackLine(source);\n  }\n\n  if (fill === 'shape') {\n    return true;\n  }\n\n  const boundary = computeBoundary(source);\n\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n\n  return _createBoundaryLine(boundary, line);\n}\n\n/**\n * @param {Chart} chart\n * @param {number} index\n */\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\n\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\n\n\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  const pixel = _getTargetPixel(fill, scale);\n\n  if (isFinite(pixel)) {\n    const horizontal = scale.isHorizontal();\n\n    return {\n      x: horizontal ? pixel : null,\n      y: horizontal ? null : pixel\n    };\n  }\n\n  return null;\n}\n\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const start = options.reverse ? scale.max : scale.min;\n  const value = _getTargetValue(fill, scale, start);\n  const target = [];\n\n  if (options.grid.circular) {\n    const center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n\n  for (let i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\n\n","import {clipArea, unclipArea} from '../../helpers/index.js';\nimport {_findSegmentEnd, _getBounds, _segments} from './filler.segment.js';\nimport {_getTarget} from './filler.target.js';\n\nexport function _drawfill(ctx, source, area) {\n  const target = _getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\n\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n\n  ctx.save();\n\n  if (property === 'x' && below !== above) {\n    clipVertical(ctx, target, area.top);\n    fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    clipVertical(ctx, target, area.bottom);\n  }\n  fill(ctx, {line, target, color: below, scale, property});\n\n  ctx.restore();\n}\n\nfunction clipVertical(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[_findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n\n    clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n\n    ctx.beginPath();\n\n    const lineLoop = !!line.pathSegment(ctx, src);\n\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n\n    ctx.restore();\n  }\n}\n\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\n\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\n","/**\n * Plugin based on discussion from the following Chart.js issues:\n * @see https://github.com/chartjs/Chart.js/issues/2380#issuecomment-279961569\n * @see https://github.com/chartjs/Chart.js/issues/2440#issuecomment-256461897\n */\n\nimport LineElement from '../../elements/element.line.js';\nimport {_drawfill} from './filler.drawing.js';\nimport {_shouldApplyFill} from './filler.helper.js';\nimport {_decodeFill, _resolveTarget} from './filler.options.js';\n\nexport default {\n  id: 'filler',\n\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: _decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n\n      meta.$filler = source;\n      sources.push(source);\n    }\n\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n\n      source.fill = _resolveTarget(sources, i, options.propagate);\n    }\n  },\n\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n\n      source.line.updateControlPoints(area, source.axis);\n      if (draw && source.fill) {\n        _drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n\n      if (_shouldApplyFill(source)) {\n        _drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n\n    if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n\n    _drawfill(chart.ctx, source, chart.chartArea);\n  },\n\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n","import defaults from '../core/core.defaults.js';\nimport Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {addRoundedRectPath, drawPointLegend, renderText} from '../helpers/helpers.canvas.js';\nimport {\n  _isBetween,\n  callback as call,\n  clipArea,\n  getRtlAdapter,\n  overrideTextDirection,\n  restoreTextDirection,\n  toFont,\n  toPadding,\n  unclipArea,\n  valueOrDefault,\n} from '../helpers/index.js';\nimport {_alignStartEnd, _textX, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {toTRBLCorners} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n */\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n\nexport class Legend extends Element {\n\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this._added = false;\n\n    // Contains hit boxes for each dataset (in dataset order)\n    this.legendHitBoxes = [];\n\n    /**\n \t\t * @private\n \t\t */\n    this._hoveredItem = null;\n\n    // Are we in doughnut mode which has a different data type\n    this.doughnutMode = false;\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = call(labelOpts.generateLabels, [this.chart], this) || [];\n\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n\n    this.legendItems = legendItems;\n  }\n\n  fit() {\n    const {options, ctx} = this;\n\n    // The legend may not be displayed for a variety of reasons including\n    // the fact that the defaults got set to `false`.\n    // When the legend is not displayed, there are no guarantees that the options\n    // are correctly formatted so we need to bail out as early as possible.\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    let width, height;\n\n    ctx.font = labelFont.string;\n\n    if (this.isHorizontal()) {\n      width = this.maxWidth; // fill all the width\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight; // fill all the height\n      width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n    }\n\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n\n  /**\n\t * @private\n\t */\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n\n    return totalHeight;\n  }\n\n  _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n\n    let left = 0;\n    let col = 0;\n\n    this.legendItems.forEach((legendItem, i) => {\n      const {itemWidth, itemHeight} = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n\n      // If too tall, go to new column\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n\n      // Store the hitbox width and height here. Final position will be updated in `draw`\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n\n      // Get max width\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n\n    return totalWidth;\n  }\n\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n\n      this._draw();\n\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n\n    this.drawTitle();\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    // current position\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n\n      // Set the ctx for the box\n      ctx.save();\n\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n      if (labelOpts.usePointStyle) {\n        // Recalculate x and y for drawPoint() because its expecting\n        // x and y to be center of figure (instead of top left)\n        const drawOptions = {\n          radius: boxHeight * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n\n        // Draw pointStyle as legend symbol\n        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n      } else {\n        // Draw box as legend symbol\n        // Adjust position when boxHeight < fontSize (want it centered)\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n\n        ctx.beginPath();\n\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n\n      ctx.restore();\n    };\n\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n\n    // Horizontal\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n\n    overrideTextDirection(this.ctx, opts.textDirection);\n\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor; // for strikethrough effect\n      ctx.fillStyle = legendItem.fontColor; // render in correct colour\n\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n\n      rtlHelper.setWidth(this.width);\n\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n\n      const realX = rtlHelper.x(x);\n\n      drawLegendBox(realX, y, legendItem);\n\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n\n      // Fill the actual label\n      fillText(rtlHelper.x(x), y, legendItem);\n\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else if (typeof legendItem.text !== 'string') {\n        const fontLineHeight = labelFont.lineHeight;\n        cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n\n    if (!titleOpts.display) {\n      return;\n    }\n\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n\n    // These defaults are used when the legend is vertical.\n    // When horizontal, they are computed below.\n    let left = this.left;\n    let maxWidth = this.width;\n\n    if (this.isHorizontal()) {\n      // Move left / right so that the title is above the legend lines\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      // Move down so that the title is above the legend stack in every alignment\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n\n    // Now that we know the left edge of the inner legend box, compute the correct\n    // X coordinate from the title alignment\n    const x = _alignStartEnd(position, left, left + maxWidth);\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n\n  /**\n\t * @private\n\t */\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      // See if we are touching one of the dataset boxes\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          // Touching an element\n          return this.legendItems[i];\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t */\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n\n    // Chart event already has relative position in it\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        call(opts.onLeave, [e, previous, this], this);\n      }\n\n      this._hoveredItem = hoveredItem;\n\n      if (hoveredItem && !sameItem) {\n        call(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      call(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\n\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n  const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n  const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n  return {itemWidth, itemHeight};\n}\n\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n  let legendItemText = legendItem.text;\n  if (legendItemText && typeof legendItemText !== 'string') {\n    legendItemText = legendItemText.reduce((a, b) => a.length > b.length ? a : b);\n  }\n  return boxWidth + (labelFont.size / 2) + ctx.measureText(legendItemText).width;\n}\n\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n  let itemHeight = _itemHeight;\n  if (typeof legendItem.text !== 'string') {\n    itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n  }\n  return itemHeight;\n}\n\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n  const labelHeight = legendItem.text ? legendItem.text.length : 0;\n  return fontLineHeight * labelHeight;\n}\n\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\n\nexport default {\n  id: 'legend',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Legend,\n\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n\n  // During the beforeUpdate step, the layout configuration needs to run\n  // This ensures that if the legend position changes (via an option update)\n  // the layout system respects the change. See https://github.com/chartjs/Chart.js/issues/7527\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n\n  // The labels need to be built after datasets are updated to ensure that colors\n  // and other styling are correct. See https://github.com/chartjs/Chart.js/issues/6968\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n\n\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n\n    // a callback that will handle\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n\n    onHover: null,\n    onLeave: null,\n\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      // Generates labels shown in the legend\n      // Valid properties to return:\n      // text : text to display\n      // fillStyle : fill of coloured box\n      // strokeStyle: stroke of coloured box\n      // hidden : if this legend item refers to a hidden item\n      // lineCap : cap style for line\n      // lineDash\n      // lineDashOffset :\n      // lineJoin :\n      // lineWidth :\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color, useBorderRadius, borderRadius}} = chart.legend.options;\n\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n\n            // Below is extra data used for toggling the datasets\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n","import Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {PI, isArray, toPadding, toFont} from '../helpers/index.js';\nimport {_toLeftRightCenter, _alignStartEnd} from '../helpers/helpers.extras.js';\nimport {renderText} from '../helpers/helpers.canvas.js';\n\nexport class Title extends Element {\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n\n    this.left = 0;\n    this.top = 0;\n\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n\n    if (!opts.display) {\n      return;\n    }\n\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\n\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\n\nexport default {\n  id: 'title',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Title,\n\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000         // by default greater than legend (1000) to be above\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n","import {Title} from './plugin.title.js';\nimport layouts from '../core/core.layouts.js';\n\nconst map = new WeakMap();\n\nexport default {\n  id: 'subtitle',\n\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500         // by default greater than legend (1000) and smaller than title (2000)\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n","import Animations from '../core/core.animations.js';\nimport Element from '../core/core.element.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {each, noop, isNullOrUndef, isArray, _elementsEqual, isObject} from '../helpers/helpers.core.js';\nimport {toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\nimport {getRtlAdapter, overrideTextDirection, restoreTextDirection} from '../helpers/helpers.rtl.js';\nimport {distanceBetweenPoints, _limitValue} from '../helpers/helpers.math.js';\nimport {createContext, drawPoint} from '../helpers/index.js';\n\n/**\n * @typedef { import('../platform/platform.base.js').Chart } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').ActiveElement } ActiveElement\n * @typedef { import('../core/core.interaction.js').InteractionItem } InteractionItem\n */\n\nconst positioners = {\n  /**\n\t * Average mode places the tooltip at the average position of the elements shown\n\t */\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    let i, len;\n    let xSet = new Set();\n    let y = 0;\n    let count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        xSet.add(pos.x);\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    // No visible items where found, return false so we don't have to divide by 0 which reduces in NaN\n    if (count === 0 || xSet.size === 0) {\n      return false;\n    }\n\n    const xAverage = [...xSet].reduce((a, b) => a + b) / xSet.size;\n\n    return {\n      x: xAverage,\n      y: y / count\n    };\n  },\n\n  /**\n\t * Gets the tooltip position nearest of the item nearest to the event position\n\t */\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x,\n      y\n    };\n  }\n};\n\n// Helper to push or concat based on if the 2nd parameter is an array or not\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      // base = base.concat(toPush);\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\n/**\n * Returns array of strings split by newline\n * @param {*} str - The value to split by newline.\n * @returns {string|string[]} value if newline present - Returned from String split() method\n * @function\n */\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\n\n\n/**\n * Private helper to create a tooltip item model\n * @param {Chart} chart\n * @param {ActiveElement} item - {element, index, datasetIndex} to create the tooltip item for\n * @return new tooltip item\n */\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\n\n/**\n * Get the size of the tooltip\n */\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n\n  // Count of all lines in the body\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    // Body lines may include some extra height depending on boxHeight\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  // Title width\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n\n  // Body width\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n\n  // Body lines may include some extra width due to the color box\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n\n  // Reset back to 0\n  widthPadding = 0;\n\n  // Footer width\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n\n  ctx.restore();\n\n  // Add padding\n  width += padding.width;\n\n  return {width, height};\n}\n\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\n/**\n * Helper to get the alignment of a tooltip given the size\n */\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  // eslint-disable-next-line prefer-const\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\n\n/**\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\n */\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\n\n/**\n * Helper to build before and after body lines\n */\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nconst defaultCallbacks = {\n  // Args are: (tooltipItems, data)\n  beforeTitle: noop,\n  title(tooltipItems) {\n    if (tooltipItems.length > 0) {\n      const item = tooltipItems[0];\n      const labels = item.chart.data.labels;\n      const labelCount = labels ? labels.length : 0;\n\n      if (this && this.options && this.options.mode === 'dataset') {\n        return item.dataset.label || '';\n      } else if (item.label) {\n        return item.label;\n      } else if (labelCount > 0 && item.dataIndex < labelCount) {\n        return labels[item.dataIndex];\n      }\n    }\n\n    return '';\n  },\n  afterTitle: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeBody: noop,\n\n  // Args are: (tooltipItem, data)\n  beforeLabel: noop,\n  label(tooltipItem) {\n    if (this && this.options && this.options.mode === 'dataset') {\n      return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n    }\n\n    let label = tooltipItem.dataset.label || '';\n\n    if (label) {\n      label += ': ';\n    }\n    const value = tooltipItem.formattedValue;\n    if (!isNullOrUndef(value)) {\n      label += value;\n    }\n    return label;\n  },\n  labelColor(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      borderColor: options.borderColor,\n      backgroundColor: options.backgroundColor,\n      borderWidth: options.borderWidth,\n      borderDash: options.borderDash,\n      borderDashOffset: options.borderDashOffset,\n      borderRadius: 0,\n    };\n  },\n  labelTextColor() {\n    return this.options.bodyColor;\n  },\n  labelPointStyle(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      pointStyle: options.pointStyle,\n      rotation: options.rotation,\n    };\n  },\n  afterLabel: noop,\n\n  // Args are: (tooltipItems, data)\n  afterBody: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeFooter: noop,\n  footer: noop,\n  afterFooter: noop\n};\n\n/**\n * Invoke callback from object with context and arguments.\n * If callback returns `undefined`, then will be invoked default callback.\n * @param {Record<keyof typeof defaultCallbacks, Function>} callbacks\n * @param {keyof typeof defaultCallbacks} name\n * @param {*} ctx\n * @param {*} arg\n * @returns {any}\n */\nfunction invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n  const result = callbacks[name].call(ctx, arg);\n\n  if (typeof result === 'undefined') {\n    return defaultCallbacks[name].call(ctx, arg);\n  }\n\n  return result;\n}\n\nexport class Tooltip extends Element {\n\n  /**\n   * @namespace Chart.Tooltip.positioners\n   */\n  static positioners = positioners;\n\n  constructor(config) {\n    super();\n\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    // TODO: V4, make this private, rename to `_labelStyles`, and combine with `labelPointStyles`\n    // and `labelTextColors` to create a single variable\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n\n    if (cached) {\n      return cached;\n    }\n\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n\n  getTitle(context, options) {\n    const {callbacks} = options;\n\n    const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n    const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n    const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n\n    return lines;\n  }\n\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems)\n    );\n  }\n\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n      pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n\n      bodyItems.push(bodyItem);\n    });\n\n    return bodyItems;\n  }\n\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems)\n    );\n  }\n\n  // Get the footer and beforeFooter and afterFooter lines\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n\n    const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n    const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n    const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n\n    return lines;\n  }\n\n  /**\n\t * @private\n\t */\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n\n    // If the user provided a filter function, use it to modify the tooltip items\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n\n    // If the user provided a sorting function, use it to modify the tooltip items\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n\n    // Determine colors for boxes\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n      labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n      labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n    });\n\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n\n        // Left draws bottom -> top, this y1 is on the bottom\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n\n        // Right draws top -> bottom, thus y1 is on the top\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n\n        // Top draws left -> right, thus x1 is on the left\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n\n        // Bottom draws right -> left, thus x1 is on the right\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.titleAlign, options);\n\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing; // Line Height and spacing\n\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n        }\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColor = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2, // fit the circle in the box\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      // Recalculate x and y for drawPoint() because its expecting\n      // x and y to be center of figure (instead of top left)\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n\n      // Fill the point with white so that colours merge nicely if the opacity is < 1\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n\n      // Draw the point\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.fillStyle = labelColor.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      // Border\n      ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : (labelColor.borderWidth || 1); // TODO, v4 remove fallback\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.setLineDash(labelColor.borderDash || []);\n      ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n\n      // Fill a white rect so that colours merge nicely if the opacity is < 1\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n      const borderRadius = toTRBLCorners(labelColor.borderRadius);\n\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        // Normal rect\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n\n    // restore fillStyle\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n\n    // Before body lines\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n\n    // Draw body lines now\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n\n      lines = bodyItem.lines;\n      // Draw Legend-like boxes if needed\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        // Reset for any lines that don't include colorbox\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n\n      each(bodyItem.after, fillLineOfText);\n    }\n\n    // Reset back to 0 for after body\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n\n    // After body lines\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing; // Remove last body spacing\n  }\n\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n\n      footerFont = toFont(options.footerFont);\n\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n\n    ctx.fill();\n\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n\n  /**\n\t * Update x/y animation targets when _active elements are animating too\n\t * @private\n\t */\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n\n  /**\n   * Determine if the tooltip will draw anything\n   * @returns {boolean} True if the tooltip will render\n   */\n  _willRender() {\n    return !!this.opacity;\n  }\n\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n\n    if (!opacity) {\n      return;\n    }\n\n    this._updateAnimationTarget(options);\n\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n\n    // IE11/Edge does not like very small opacities, so snap to 0\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n\n    const padding = toPadding(options.padding);\n\n    // Truthy/falsey value for empty tooltip\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n\n      // Draw Background\n      this.drawBackground(pt, ctx, tooltipSize, options);\n\n      overrideTextDirection(ctx, options.textDirection);\n\n      pt.y += padding.top;\n\n      // Titles\n      this.drawTitle(pt, ctx, options);\n\n      // Body\n      this.drawBody(pt, ctx, options);\n\n      // Footer\n      this.drawFooter(pt, ctx, options);\n\n      restoreTextDirection(ctx, options.textDirection);\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * Get active elements in the tooltip\n\t * @returns {Array} Array of elements that are active in the tooltip\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active elements in the tooltip\n\t * @param {array} activeElements Array of active datasetIndex/index pairs.\n\t * @param {object} eventPosition Synthetic event position used in positioning\n\t */\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {boolean} true if the tooltip changed\n\t */\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n\n    // When there are multiple items shown, but the tooltip position is nearest mode\n    // an update may need to be made because our position may have changed even though\n    // the items are the same as before.\n    const positionChanged = this._positionChanged(active, e);\n\n    // Remember Last Actives\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n    // Only handle target event on tooltip change\n    if (changed) {\n      this._active = active;\n\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n\n        this.update(true, replay);\n      }\n    }\n\n    return changed;\n  }\n\n  /**\n\t * Helper for determining the active elements for event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {InteractionItem[]} lastActive - Previously active elements\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {InteractionItem[]} - Active elements\n\t * @private\n\t */\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      // But make sure that active elements are still valid.\n      return lastActive.filter(i =>\n        this.chart.data.datasets[i.datasetIndex] &&\n        this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined\n      );\n    }\n\n    // Find Active Elements for tooltips\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n    if (options.reverse) {\n      active.reverse();\n    }\n\n    return active;\n  }\n\n  /**\n\t * Determine if the active elements + event combination changes the\n\t * tooltip position\n\t * @param {array} active - Active elements\n\t * @param {ChartEvent} e - Event that triggered the position change\n\t * @returns {boolean} True if the position has changed\n\t */\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\n\nexport default {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n\n      if (chart.notifyPlugins('beforeTooltipDraw', {...args, cancelable: true}) === false) {\n        return;\n      }\n\n      tooltip.draw(chart.ctx);\n\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      // If the event is replayed from `update`, we should evaluate with the final positions.\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        // notify chart about the change, so it will render\n        args.changed = true;\n      }\n    }\n  },\n\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: defaultCallbacks\n  },\n\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n\n  // Resolve additionally from `interaction` options and defaults.\n  additionalOptionScopes: ['interaction']\n};\n","import Scale from '../core/core.scale.js';\nimport {isNullOrUndef, valueOrDefault, _limitValue} from '../helpers/index.js';\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\n\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\n\nfunction _getLabelForValue(value) {\n  const labels = this.getLabels();\n\n  if (value >= 0 && value < labels.length) {\n    return labels[value];\n  }\n  return value;\n}\n\nexport default class CategoryScale extends Scale {\n\n  static id = 'category';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: _getLabelForValue\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n\n    // If we are viewing some subset of labels, slice the original array\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n\n  getLabelForValue(value) {\n    return _getLabelForValue.call(this, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    super.configure();\n\n    if (!this.isHorizontal()) {\n      // For backward compatibility, vertical category scale reverse is inverted.\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n\n  // Used to get data value locations. Value can either be an index or a numerical value\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  // Must override base implementation because it calls getPixelForValue\n  // and category scale can have duplicate values\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n\n  getBasePixel() {\n    return this.bottom;\n  }\n}\n","import {isNullOrUndef} from '../helpers/helpers.core.js';\nimport {almostEquals, almostWhole, niceNum, _decimalPlaces, _setMinAndMaxByKey, sign, toRadians} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\n\n/**\n * Generate a set of linear ticks for an axis\n * 1. If generationOptions.min, generationOptions.max, and generationOptions.step are defined:\n *    if (max - min) / step is an integer, ticks are generated as [min, min + step, ..., max]\n *    Note that the generationOptions.maxCount setting is respected in this scenario\n *\n * 2. If generationOptions.min, generationOptions.max, and generationOptions.count is defined\n *    spacing = (max - min) / count\n *    Ticks are generated as [min, min + spacing, ..., max]\n *\n * 3. If generationOptions.count is defined\n *    spacing = (niceMax - niceMin) / count\n *\n * 4. Compute optimal spacing of ticks using niceNum algorithm\n *\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, dataRange) {\n  const ticks = [];\n  // To get a \"nice\" value for the tick spacing, we will use the appropriately named\n  // \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n  // for details.\n\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n\n  // Beyond MIN_SPACING floating point numbers being to lose precision\n  // such that we can't do the math necessary to generate ticks\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    // If the calculated num of spaces exceeds maxNumSpaces, recalculate it\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    // If the user specified a precision, round to that number of decimal places\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    // Case 1: If min, max and stepSize are set and they make an evenly spaced scale use it.\n    // spacing = step;\n    // numSpaces = (max - min) / spacing;\n    // Note that we round here to handle the case where almostWhole translated an FP error\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    // Cases 2 & 3, we have a count specified. Handle optional user defined edges to the range.\n    // Sometimes these are no-ops, but it makes the code a lot clearer\n    // and when a user defined range is specified, we want the correct ticks\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    // Case 4\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    // If very close to our rounded value, use it.\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  // The spacing will have changed in cases 1, 2, and 3 so the factor cannot be computed\n  // until this point\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n\n      if (niceMin < min) {\n        j++; // Skip niceMin\n      }\n      // If the next nice tick is close to min, skip it\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n    if (maxDefined && tickValue > max) {\n      break;\n    }\n    ticks.push({value: tickValue});\n  }\n\n  if (maxDefined && includeBounds && niceMax !== max) {\n    // If the previous tick is too close to max, replace it with max, else add max\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n\n  return ticks;\n}\n\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\n\nexport default class LinearScaleBase extends Scale {\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    /** @type {number} */\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n\n    return +raw;\n  }\n\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n\n    if (min === max) {\n      let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n\n      setMax(max + offset);\n\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    // eslint-disable-next-line prefer-const\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n\n    return maxTicks;\n  }\n\n  /**\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    // Figure out what the max number of ticks we can support it is based on the size of\n    // the axis area. For now, we say that the minimum tick spacing in pixels must be 40\n    // We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n    // the graph. Make sure we always have at least 2 ticks\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks(numericGeneratorOptions, dataRange);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n\n    super.configure();\n\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n","import {isFinite} from '../helpers/helpers.core.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {toRadians} from '../helpers/index.js';\n\nexport default class LinearScale extends LinearScaleBase {\n\n  static id = 'linear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.numeric\n    }\n  };\n\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? min : 0;\n    this.max = isFinite(max) ? max : 1;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n \t */\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n\n  // Utils\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\n","import {finiteOrDefault, isFinite} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {_setMinAndMaxByKey, log10} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\n\nconst log10Floor = v => Math.floor(log10(v));\nconst changeExponent = (v, m) => Math.pow(10, log10Floor(v) + m);\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, log10Floor(tickVal)));\n  return remain === 1;\n}\n\nfunction steps(min, max, rangeExp) {\n  const rangeStep = Math.pow(10, rangeExp);\n  const start = Math.floor(min / rangeStep);\n  const end = Math.ceil(max / rangeStep);\n  return end - start;\n}\n\nfunction startExp(min, max) {\n  const range = max - min;\n  let rangeExp = log10Floor(range);\n  while (steps(min, max, rangeExp) > 10) {\n    rangeExp++;\n  }\n  while (steps(min, max, rangeExp) < 10) {\n    rangeExp--;\n  }\n  return Math.min(rangeExp, log10Floor(min));\n}\n\n\n/**\n * Generate a set of logarithmic ticks\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, {min, max}) {\n  min = finiteOrDefault(generationOptions.min, min);\n  const ticks = [];\n  const minExp = log10Floor(min);\n  let exp = startExp(min, max);\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  const stepSize = Math.pow(10, exp);\n  const base = minExp > exp ? Math.pow(10, minExp) : 0;\n  const start = Math.round((min - base) * precision) / precision;\n  const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n  let significand = Math.floor((start - offset) / Math.pow(10, exp));\n  let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n  while (value < max) {\n    ticks.push({value, major: isMajor(value), significand});\n    if (significand >= 10) {\n      significand = significand < 15 ? 15 : 20;\n    } else {\n      significand++;\n    }\n    if (significand >= 20) {\n      exp++;\n      significand = 2;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n  }\n  const lastTick = finiteOrDefault(generationOptions.max, value);\n  ticks.push({value: lastTick, major: isMajor(lastTick), significand});\n\n  return ticks;\n}\n\nexport default class LogarithmicScale extends Scale {\n\n  static id = 'logarithmic';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.logarithmic,\n      major: {\n        enabled: true\n      }\n    }\n  };\n\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isFinite(value) && value > 0 ? value : null;\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? Math.max(0, min) : null;\n    this.max = isFinite(max) ? Math.max(0, max) : null;\n\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n\n    // if data has `0` in it or `beginAtZero` is true, min (non zero) value is at bottom\n    // of scale, and it does not equal suggestedMin, lower the min bound by one exp.\n    if (this._zero && this.min !== this._suggestedMin && !isFinite(this._userMin)) {\n      this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n    }\n\n    this.handleTickRangeOptions();\n  }\n\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (min === max) {\n      if (min <= 0) { // includes null\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(changeExponent(min, -1));\n        setMax(changeExponent(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(changeExponent(max, -1));\n    }\n    if (max <= 0) {\n\n      setMax(changeExponent(min, +1));\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const start = this.min;\n\n    super.configure();\n\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\n","import defaults from '../core/core.defaults.js';\nimport {_longestText, addRoundedRectPath, renderText, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport {HALF_PI, TAU, toDegrees, toRadians, _normalizeAngle, PI} from '../helpers/helpers.math.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {valueOrDefault, isArray, isFinite, callback as callCallback, isNullOrUndef} from '../helpers/helpers.core.js';\nimport {createContext, toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\n\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\n/**\n * Helper function to fit a radial linear scale with point labels\n */\nfunction fitWithPointLabels(scale) {\n\n  // Right, this is really confusing and there is a lot of maths going on here\n  // The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n  //\n  // Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n  //\n  // Solution:\n  //\n  // We assume the radius of the polygon is half the size of the canvas at first\n  // at each index we check if the text overlaps.\n  //\n  // Where it does, we store that angle and that index.\n  //\n  // After finding the largest index and angle we calculate how much we need to remove\n  // from the shape radius to move the point inwards by that x.\n  //\n  // We average the left and right distances to get the maximum shape radius that can fit in the box\n  // along with labels.\n  //\n  // Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n  // on each side, removing that from the size, halving it and adding the left x protrusion width.\n  //\n  // This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n  // and position it in the most space efficient manner\n  //\n  // https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\n  // Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n  // Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n\n  // Now that text size is determined, compute the full positions\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\n\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\n\nfunction createPointLabelItem(scale, index, itemOpts) {\n  const outerDistance = scale.drawingArea;\n  const {extra, additionalAngle, padding, size} = itemOpts;\n  const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n  const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n  const y = yForAngle(pointLabelPosition.y, size.h, angle);\n  const textAlign = getTextAlignForAngle(angle);\n  const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n  return {\n    // if to draw or overlapped\n    visible: true,\n\n    // Text position\n    x: pointLabelPosition.x,\n    y,\n\n    // Text rendering data\n    textAlign,\n\n    // Bounding box\n    left,\n    top: y,\n    right: left + size.w,\n    bottom: y + size.h\n  };\n}\n\nfunction isNotOverlapped(item, area) {\n  if (!area) {\n    return true;\n  }\n  const {left, top, right, bottom} = item;\n  const apexesInArea = _isPointInArea({x: left, y: top}, area) || _isPointInArea({x: left, y: bottom}, area) ||\n    _isPointInArea({x: right, y: top}, area) || _isPointInArea({x: right, y: bottom}, area);\n  return !apexesInArea;\n}\n\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const {centerPointLabels, display} = opts.pointLabels;\n  const itemOpts = {\n    extra: getTickBackdropHeight(opts) / 2,\n    additionalAngle: centerPointLabels ? PI / valueCount : 0\n  };\n  let area;\n\n  for (let i = 0; i < valueCount; i++) {\n    itemOpts.padding = padding[i];\n    itemOpts.size = labelSizes[i];\n\n    const item = createPointLabelItem(scale, i, itemOpts);\n    items.push(item);\n    if (display === 'auto') {\n      item.visible = isNotOverlapped(item, area);\n      if (item.visible) {\n        area = item;\n      }\n    }\n  }\n  return items;\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\n\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\n\nfunction drawPointLabelBox(ctx, opts, item) {\n  const {left, top, right, bottom} = item;\n  const {backdropColor} = opts;\n\n  if (!isNullOrUndef(backdropColor)) {\n    const borderRadius = toTRBLCorners(opts.borderRadius);\n    const padding = toPadding(opts.backdropPadding);\n    ctx.fillStyle = backdropColor;\n\n    const backdropLeft = left - padding.left;\n    const backdropTop = top - padding.top;\n    const backdropWidth = right - left + padding.width;\n    const backdropHeight = bottom - top + padding.height;\n\n    if (Object.values(borderRadius).some(v => v !== 0)) {\n      ctx.beginPath();\n      addRoundedRectPath(ctx, {\n        x: backdropLeft,\n        y: backdropTop,\n        w: backdropWidth,\n        h: backdropHeight,\n        radius: borderRadius,\n      });\n      ctx.fill();\n    } else {\n      ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n    }\n  }\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const item = scale._pointLabelItems[i];\n    if (!item.visible) {\n      // overlapping\n      continue;\n    }\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    drawPointLabelBox(ctx, optsAtIndex, item);\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign} = item;\n\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    // Draw circular arcs between the points\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    // Draw straight lines connecting each index\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n\n  const {color, lineWidth} = gridLineOpts;\n\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(borderOpts.dash || []);\n  ctx.lineDashOffset = borderOpts.dashOffset;\n\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\n\nexport default class RadialLinearScale extends LinearScaleBase {\n\n  static id = 'radialLinear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    display: true,\n\n    // Boolean - Whether to animate scaling the chart from the centre\n    animate: true,\n    position: 'chartArea',\n\n    angleLines: {\n      display: true,\n      lineWidth: 1,\n      borderDash: [],\n      borderDashOffset: 0.0\n    },\n\n    grid: {\n      circular: false\n    },\n\n    startAngle: 0,\n\n    // label settings\n    ticks: {\n      // Boolean - Show a backdrop to the scale label\n      showLabelBackdrop: true,\n\n      callback: Ticks.formatters.numeric\n    },\n\n    pointLabels: {\n      backdropColor: undefined,\n\n      // Number - The backdrop padding above & below the label in pixels\n      backdropPadding: 2,\n\n      // Boolean - if true, show point labels\n      display: true,\n\n      // Number - Point label font size in pixels\n      font: {\n        size: 10\n      },\n\n      // Function - Used to convert point labels\n      callback(label) {\n        return label;\n      },\n\n      // Number - Additionl padding between scale and pointLabel\n      padding: 5,\n\n      // Boolean - if true, center point labels to slices in polar chart\n      centerPointLabels: false\n    }\n  };\n\n  static defaultRoutes = {\n    'angleLines.color': 'borderColor',\n    'pointLabels.color': 'color',\n    'ticks.color': 'color'\n  };\n\n  static descriptors = {\n    angleLines: {\n      _fallback: 'grid'\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.xCenter = undefined;\n    /** @type {number} */\n    this.yCenter = undefined;\n    /** @type {number} */\n    this.drawingArea = undefined;\n    /** @type {string[]} */\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n\n    this.min = isFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isFinite(max) && !isNaN(max) ? max : 0;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n\n    // Point labels\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callCallback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n\n  fit() {\n    const opts = this.options;\n\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n\n    // Take into account half font size + the yPadding of the top value\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid, border} = opts;\n    const labelCount = this._pointLabels.length;\n\n    let i, offset, position;\n\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0 || (index === 0 && this.min < 0)) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const context = this.getContext(index);\n          const optsAtIndex = grid.setContext(context);\n          const optsAtIndexBorder = border.setContext(context);\n\n          drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n        }\n      });\n    }\n\n    if (angleLines.display) {\n      ctx.save();\n\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n\n        if (!lineWidth || !color) {\n          continue;\n        }\n\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n\n        offset = this.getDistanceFromCenterForValue(opts.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {}\n\n  /**\n\t * @protected\n\t */\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    if (!tickOpts.display) {\n      return;\n    }\n\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    this.ticks.forEach((tick, index) => {\n      if ((index === 0 && this.min >= 0) && !opts.reverse) {\n        return;\n      }\n\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n        strokeColor: optsAtIndex.textStrokeColor,\n        strokeWidth: optsAtIndex.textStrokeWidth,\n      });\n    });\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {}\n}\n","import adapters from '../core/core.adapters.js';\nimport {callback as call, isFinite, isNullOrUndef, mergeIf, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toRadians, isNumber, _limitValue} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {_arrayUnique, _filterBetween, _lookup} from '../helpers/helpers.collection.js';\n\n/**\n * @typedef { import('../core/core.adapters.js').TimeUnit } Unit\n * @typedef {{common: boolean, size: number, steps?: number}} Interval\n * @typedef { import('../core/core.adapters.js').DateAdapter } DateAdapter\n */\n\n/**\n * @type {Object<Unit, Interval>}\n */\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\n\n/**\n * @type {Unit[]}\n */\nconst UNITS = /** @type Unit[] */ /* #__PURE__ */ (Object.keys(INTERVALS));\n\n/**\n * @param {number} a\n * @param {number} b\n */\nfunction sorter(a, b) {\n  return a - b;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {*} input\n * @return {number}\n */\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  // Only parse if it's not a timestamp already\n  if (!isFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, /** @type {Unit} */ (parser))\n      : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\n/**\n * Figures out what unit results in an appropriate number of auto-generated ticks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @param {number} capacity\n * @return {object}\n */\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\n/**\n * Figures out what unit to format a set of ticks with\n * @param {TimeScale} scale\n * @param {number} numTicks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @return {Unit}\n */\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\n/**\n * @param {Unit} unit\n * @return {object}\n */\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\n/**\n * @param {object} ticks\n * @param {number} time\n * @param {number[]} [timestamps] - if defined, snap to these timestamps\n */\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\n/**\n * @param {TimeScale} scale\n * @param {object[]} ticks\n * @param {object} map\n * @param {Unit} majorUnit\n * @return {object[]}\n */\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {number[]} values\n * @param {Unit|undefined} [majorUnit]\n * @return {object[]}\n */\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  /** @type {Object<number,object>} */\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n\n  // We set the major ticks separately from the above loop because calling startOf for every tick\n  // is expensive when there is a large number of ticks\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nexport default class TimeScale extends Scale {\n\n  static id = 'time';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 2.7.0\n     */\n    bounds: 'data',\n\n    adapters: {},\n    time: {\n      parser: false, // false == a pattern string from or a custom callback that converts its argument to a timestamp\n      unit: false, // false == automatic or override with week, month, year, etc.\n      round: false, // none, or override with week, month, year, etc.\n      isoWeekday: false, // override week start day\n      minUnit: 'millisecond',\n      displayFormats: {}\n    },\n    ticks: {\n      /**\n       * Ticks generation input values:\n       * - 'auto': generates \"optimal\" ticks based on scale size and time options.\n       * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\n       * - 'labels': generates ticks from user given `data.labels` values ONLY.\n       * @see https://github.com/chartjs/Chart.js/pull/4507\n       * @since 2.7.0\n       */\n      source: 'auto',\n\n      callback: false,\n\n      major: {\n        enabled: false\n      }\n    }\n  };\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {{data: number[], labels: number[], all: number[]}} */\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n\n    /** @type {Unit} */\n    this._unit = 'day';\n    /** @type {Unit=} */\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n\n  init(scaleOpts, opts = {}) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    /** @type {DateAdapter} */\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n\n    adapter.init(opts);\n\n    // Backward compatibility: before introducing adapter, `displayFormats` was\n    // supposed to contain *all* unit/string pairs but this can't be resolved\n    // when loading the scale (adapters are loaded afterward), so let's populate\n    // missing formats on update\n    mergeIf(time.displayFormats, adapter.formats());\n\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n\n    super.init(scaleOpts);\n\n    this._normalized = opts.normalized;\n  }\n\n  /**\n\t * @param {*} raw\n\t * @param {number?} [index]\n\t * @return {number}\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    // eslint-disable-next-line prefer-const\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n\n    /**\n\t\t * @param {object} bounds\n\t\t */\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n\n    // If we have user provided `min` and `max` labels / data bounds can be ignored\n    if (!minDefined || !maxDefined) {\n      // Labels are always considered, when user did not force bounds\n      _applyBounds(this._getLabelBounds());\n\n      // If `bounds` is `'ticks'` and `ticks.source` is `'labels'`,\n      // data bounds are ignored (and don't need to be determined)\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n\n    min = isFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n\n    // Make sure that max is strictly higher than min (required by the timeseries lookup table)\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n\n  /**\n\t * @private\n\t */\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n\n  /**\n\t * @return {object[]}\n\t */\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n\n    const min = this.min;\n    const max = this.max;\n\n    const ticks = _filterBetween(timestamps, min, max);\n\n    // PRIVATE\n    // determineUnitForFormatting relies on the number of ticks so we don't use it when\n    // autoSkip is enabled because we don't yet know what the final number of ticks will be\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n\n    if (options.reverse) {\n      ticks.reverse();\n    }\n\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n\n  afterAutoSkip() {\n    // Offsets for bar charts need to be handled with the auto skipped\n    // ticks. Once ticks have been skipped, we re-compute the offsets.\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n\n  /**\n\t * Returns the start and end offsets from edges in the form of {start, end}\n\t * where each value is a relative width to the scale and ranges between 0 and 1.\n\t * They add extra margins on the both sides by scaling down the original scale.\n\t * Offsets are added when the `offset` option is true.\n\t * @param {number[]} timestamps\n\t * @protected\n\t */\n  initOffsets(timestamps = []) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n\n  /**\n\t * Generates a maximum of `capacity` timestamps between min and max, rounded to the\n\t * `minor` unit using the given scale time `options`.\n\t * Important: this method can return ticks outside the min and max range, it's the\n\t * responsibility of the calling code to clamp values if needed.\n\t * @protected\n\t */\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    // @ts-ignore\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n\n    // For 'week' unit, handle the first day of week option\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n\n    // Align first ticks on unit\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n    // Prevent browser from freezing in case user options request millions of milliseconds\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n\n    // @ts-ignore\n    return Object.keys(ticks).sort(sorter).map(x => +x);\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n\n  /**\n\t * @param {number} value\n\t * @param {string|undefined} format\n\t * @return {string}\n\t */\n  format(value, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const fmt = format || formats[unit];\n    return this._adapter.format(value, fmt);\n  }\n\n  /**\n\t * Function to format an individual tick mark\n\t * @param {number} time\n\t * @param {number} index\n\t * @param {object[]} ticks\n\t * @param {string|undefined} [format]\n\t * @return {string}\n\t * @private\n\t */\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formatter = options.ticks.callback;\n\n    if (formatter) {\n      return call(formatter, [time, index, ticks], this);\n    }\n\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n\n    return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n  }\n\n  /**\n\t * @param {object[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n\n  /**\n\t * @param {string} label\n\t * @return {{w:number, h:number}}\n\t * @private\n\t */\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n\n  /**\n\t * @param {number} exampleTime\n\t * @return {number}\n\t * @private\n\t */\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n\n    // pick the longest format (milliseconds) for guesstimation\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    // subtract 1 - if offset then there's one less label than tick\n    // if not offset then one half label padding is added to each end leaving room for one less label\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n\n    return (this._cache.data = this.normalize(timestamps));\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n\n  /**\n\t * @param {number[]} values\n\t * @protected\n\t */\n  normalize(values) {\n    // It seems to be somewhat faster to do sorting first\n    return _arrayUnique(values.sort(sorter));\n  }\n}\n","import TimeScale from './scale.time.js';\nimport {_lookupByKey} from '../helpers/helpers.collection.js';\n\n/**\n * Linearly interpolates the given source `val` using the table. If value is out of bounds, values\n * at edges are used for the interpolation.\n * @param {object} table\n * @param {number} val\n * @param {boolean} [reverse] lookup time based on position instead of vice versa\n * @return {object}\n */\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\n\nclass TimeSeriesScale extends TimeScale {\n\n  static id = 'timeseries';\n\n  /**\n   * @type {any}\n   */\n  static defaults = TimeScale.defaults;\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {object[]} */\n    this._table = [];\n    /** @type {number} */\n    this._minPos = undefined;\n    /** @type {number} */\n    this._tableRange = undefined;\n  }\n\n  /**\n\t * @protected\n\t */\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n\n  /**\n\t * Returns an array of {time, pos} objects used to interpolate a specific `time` or position\n\t * (`pos`) on the scale, by searching entries before and after the requested value. `pos` is\n\t * a decimal between 0 and 1: 0 being the start of the scale (left or top) and 1 the other\n\t * extremity (left + width or top + height). Note that it would be more optimized to directly\n\t * store pre-computed pixels, but the scale dimensions are not guaranteed at the time we need\n\t * to create the lookup table. The table ALWAYS contains at least two items: min and max.\n\t * @param {number[]} timestamps\n\t * @return {object[]}\n\t * @protected\n\t */\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n\n    if (items.length < 2) {\n      // In case there is less that 2 timestamps between min and max, the scale is defined by min and max\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n\n      // only add points that breaks the scale linearity\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n\n  /**\n    * Generates all timestamps defined in the data.\n    * Important: this method can return ticks outside the min and max range, it's the\n    * responsibility of the calling code to clamp values if needed.\n    * @protected\n    */\n  _generate() {\n    const min = this.min;\n    const max = this.max;\n    let timestamps = super.getDataTimestamps();\n    if (!timestamps.includes(min) || !timestamps.length) {\n      timestamps.splice(0, 0, min);\n    }\n    if (!timestamps.includes(max) || timestamps.length === 1) {\n      timestamps.push(max);\n    }\n    return timestamps.sort((a, b) => a - b);\n  }\n\n  /**\n\t * Returns all timestamps\n\t * @return {number[]}\n\t * @private\n\t */\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      // If combining labels and data (data might not contain all labels),\n      // we need to recheck uniqueness and sort\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n\n    return timestamps;\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\n\nexport default TimeSeriesScale;\n","export * from './controllers/index.js';\nexport * from './core/index.js';\nexport * from './elements/index.js';\nexport * from './platform/index.js';\nexport * from './plugins/index.js';\nexport * from './scales/index.js';\n\nimport * as controllers from './controllers/index.js';\nimport * as elements from './elements/index.js';\nimport * as plugins from './plugins/index.js';\nimport * as scales from './scales/index.js';\n\nexport {\n  controllers,\n  elements,\n  plugins,\n  scales,\n};\n\nexport const registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n","import {Chart, registerables} from '../dist/chart.js';\r\n\r\nChart.register(...registerables);\r\n\r\nexport * from '../dist/chart.js';\r\nexport default Chart;\r\n"],"names":["bind","fn","thisArg","apply","arguments","toString","Object","prototype","getPrototypeOf","kindOf","cache","create","thing","str","call","slice","toLowerCase","kindOfTest","type","typeOfTest","isArray","Array","isUndefined","isArrayBuffer","isString","isFunction","isNumber","isObject","isPlainObject","val","Symbol","toStringTag","iterator","isDate","isFile","isBlob","isFileList","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","map","forEach","obj","i","l","allOwnKeys","length","undefined","keys","getOwnPropertyNames","len","key","findKey","_key","_global","globalThis","self","window","global","isContextDefined","context","isTypedArray","TypedArray","Uint8Array","isHTMLForm","hasOwnProperty","_ref","prop","isRegExp","reduceDescriptors","reducer","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","name","ret","defineProperties","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","toUpperCase","isAsyncFn","_setImmediate","setImmediateSupported","postMessageSupported","setImmediate","token","Math","random","callbacks","addEventListener","_ref2","source","data","shift","cb","push","postMessage","setTimeout","asap","queueMicrotask","process","nextTick","isBuffer","constructor","isFormData","kind","FormData","append","isArrayBufferView","result","ArrayBuffer","isView","buffer","isBoolean","isStream","pipe","merge","caseless","this","assignValue","targetKey","extend","a","b","trim","replace","stripBOM","content","charCodeAt","inherits","superConstructor","props","defineProperty","value","assign","toFlatObject","sourceObj","destObj","filter","propFilter","merged","endsWith","searchString","position","String","lastIndex","indexOf","toArray","arr","forEachEntry","next","done","pair","matchAll","regExp","matches","exec","hasOwnProp","freezeMethods","enumerable","writable","set","Error","toObjectSet","arrayOrString","delimiter","define","split","toCamelCase","m","p1","p2","noop","toFiniteNumber","defaultValue","Number","isFinite","generateString","size","alphabet","isSpecCompliantForm","toJSONObject","stack","visit","target","reducedValue","isThenable","then","catch","AxiosError","message","code","config","request","response","captureStackTrace","status","utils","toJSON","description","number","fileName","lineNumber","columnNumber","from","error","customProps","axiosError","cause","isVisitable","removeBrackets","renderKey","path","dots","concat","join","predicates","test","formData","options","TypeError","metaTokens","indexes","option","visitor","defaultVisitor","useBlob","Blob","convertValue","toISOString","Buffer","JSON","stringify","some","isFlatArray","el","index","exposedHelpers","build","pop","encode","charMap","encodeURIComponent","match","AxiosURLSearchParams","params","_pairs","toFormData","encoder","_encode","buildURL","url","serialize","serializeFn","serializedParams","hashmarkIndex","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","id","clear","h","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","isBrowser","classes","URLSearchParams","protocols","hasBrowserEnv","document","_navigator","navigator","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","origin","location","href","platform","buildPath","isNumericKey","isLast","arrayToObject","entries","parsePropPath","defaults","transitional","transitionalDefaults","adapter","transformRequest","headers","contentType","getContentType","hasJSONContentType","isObjectPayload","formDataToJSON","setContentType","helpers","isNode","toURLEncodedForm","formSerializer","_FormData","env","rawValue","parser","parse","e","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","method","ignoreDuplicateOf","$internals","normalizeHeader","header","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","parsed","line","substring","parseHeaders","get","tokens","tokensRE","parseTokens","has","matcher","delete","deleted","deleteHeader","normalize","format","normalized","w","char","formatHeader","_len","targets","asStrings","first","computed","_len2","_key2","accessor","accessors","defineAccessor","accessorName","methodName","arg1","arg2","arg3","configurable","buildAccessors","mapped","headerValue","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","resolve","reject","ERR_BAD_REQUEST","floor","samplesCount","min","bytes","timestamps","firstSampleTS","head","tail","chunkLength","now","Date","startedAt","bytesCount","passed","round","freq","lastArgs","timer","timestamp","threshold","invoke","args","clearTimeout","flush","progressEventReducer","listener","isDownloadStream","bytesNotified","_speedometer","speedometer","throttle","loaded","total","lengthComputable","progressBytes","rate","progress","estimated","event","progressEventDecorator","throttled","asyncDecorator","isMSIE","URL","protocol","host","port","userAgent","write","expires","domain","secure","cookie","toGMTString","read","RegExp","decodeURIComponent","remove","buildFullPath","baseURL","requestedURL","relativeURL","combineURLs","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","paramsSerializer","timeoutMessage","withCredentials","withXSRFToken","onUploadProgress","onDownloadProgress","decompress","beforeRedirect","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding","configValue","newConfig","auth","btoa","username","password","unescape","Boolean","isURLSameOrigin","xsrfValue","cookies","XMLHttpRequest","Promise","_config","resolveConfig","requestData","requestHeaders","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","unsubscribe","signal","removeEventListener","onloadend","responseHeaders","getAllResponseHeaders","err","responseText","statusText","open","onreadystatechange","readyState","responseURL","onabort","ECONNABORTED","onerror","ERR_NETWORK","ontimeout","timeoutErrorMessage","ETIMEDOUT","setRequestHeader","upload","cancel","abort","subscribe","aborted","parseProtocol","send","composeSignals","signals","controller","AbortController","reason","streamChunk","chunk","chunkSize","byteLength","end","pos","readStream","async","stream","asyncIterator","reader","getReader","trackStream","onProgress","onFinish","iterable","readBytes","_onFinish","ReadableStream","pull","close","loadedBytes","enqueue","return","highWaterMark","isFetchSupported","fetch","Request","Response","isReadableStreamSupported","encodeText","TextEncoder","arrayBuffer","supportsRequestStream","duplexAccessed","hasContentType","body","duplex","supportsResponseStream","resolvers","res","_","ERR_NOT_SUPPORT","resolveBodyLength","getContentLength","_request","getBodyLength","knownAdapters","http","xhr","xhrAdapter","fetchOptions","composedSignal","toAbortSignal","requestContentLength","contentTypeHeader","isCredentialsSupported","credentials","isStreamResponse","responseContentLength","responseData","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","state","s","throwIfCancellationRequested","throwIfRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","version","formatMessage","opt","desc","opts","ERR_DEPRECATED","console","warn","spelling","correctSpelling","assertOptions","schema","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","Axios","instanceConfig","interceptors","InterceptorManager","configOrUrl","dummy","boolean","function","baseUrl","withXsrfToken","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","promise","chain","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","splice","c","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","axios","createInstance","defaultConfig","instance","Cancel","all","promises","spread","callback","isAxiosError","payload","formToJSON","getAdapter","default","v","lim","max","p2b","n2b","b2n","n2p","map$1","A","B","C","D","E","F","d","f","hex","h1","h2","eq","hexString","r","g","isShort","alpha","HUE_RE","hsl2rgbn","n","k","hsv2rgbn","hwb2rgbn","rgb","rgb2hsl","hueValue","calln","hsl2rgb","hue","hueParse","hwb2rgb","hsv2rgb","x","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names","nameParse","unpacked","tkeys","j","ok","nk","parseInt","unpack","transparent","RGB_RE","to","pow","modHSL","ratio","tmp","clone","proto","fromObject","input","functionParse","charAt","rgbParse","Color","hexParse","_rgb","_valid","valid","rgbString","hslString","mix","color","weight","c1","c2","w2","p","w1","interpolate","t","rgb1","rgb2","clearer","greyscale","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","uid","isNullOrUndef","isNumberFinite","finiteOrDefault","valueOrDefault","toDimension","dimension","parseFloat","each","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","klen","isValidKey","_merger","tval","sval","sources","merger","current","mergeIf","_mergerIf","keyResolvers","o","y","resolveObjectKey","resolver","parts","part","_splitKey","_getKeyResolver","_capitalize","defined","setsEqual","item","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","abs","niceNum","range","roundedRange","niceRange","fraction","isNaN","_setMinAndMaxByKey","array","property","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","sqrt","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","start","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","_lookup","table","cmp","mid","hi","lo","_lookupByKey","last","ti","_rlookupByKey","arrayEvents","unlistenArrayEvents","stub","_chartjs","listeners","_arrayUnique","items","Set","requestAnimFrame","requestAnimationFrame","argsToUse","ticking","_toLeftRightCenter","align","_alignStartEnd","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","count","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","isPatternOrGradient","getHoverColor","numbers","colors","intlCache","Map","formatNumber","num","locale","cacheKey","formatter","Intl","NumberFormat","getNumberFormat","formatters","values","numeric","tickValue","ticks","chart","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","remain","significand","includes","Ticks","overrides","getScope$1","node","root","scope","Defaults","_descriptors","_appliers","animation","backgroundColor","borderColor","datasets","devicePixelRatio","getDevicePixelRatio","elements","events","font","family","style","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","override","route","targetScope","targetName","scopeObject","targetScopeObject","privateName","local","appliers","_scriptable","startsWith","_indexable","_fallback","delay","duration","easing","loop","properties","active","resize","show","animations","visible","hide","autoPadding","padding","top","right","bottom","left","display","offset","beginAtZero","bounds","clip","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","_ctx","tickColor","border","dash","dashOffset","width","title","text","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","_measureText","gc","longest","string","textWidth","measureText","_longestText","arrayOfThings","garbageCollect","save","jlen","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","clipArea","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","decorateText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","fillStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","lines","strokeWidth","strokeColor","translation","textAlign","textBaseline","setRenderOpts","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","_readValueToProps","objProps","toTRBL","toTRBLCorners","toPadding","toFont","fallback","toFontString","inputs","info","cacheable","createContext","parentContext","_createResolver","scopes","prefixes","getTarget","finalRootScopes","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","proxy","prefix","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","isScriptable","getValue","add","_resolveScriptable","isIndexable","_resolveArray","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","rootScopes","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","_parsing","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","splineCurveMonotone","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","iPixel","vPixel","monotoneCompute","capControlPoint","pt","_updateBezierControlPoints","controlPoints","spanGaps","cubicInterpolationMode","prev","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","_getParentNode","domNode","parentNode","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","ownerDocument","defaultView","positions","getPositionedStyle","styles","suffix","getRelativePosition","borderBox","boxSizing","paddings","borders","box","touches","offsetX","offsetY","useOffsetPos","shadowRoot","getBoundingClientRect","clientX","clientY","getCanvasPosition","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","maxHeight","containerSize","container","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","getContainerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","readUsedSize","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalizeSegment","_boundSegment","segment","startBound","endBound","getSegment","prevValue","inside","subStart","shouldStart","shouldStop","_boundSegments","segments","sub","splitByStyles","segmentOptions","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","doSplitByStyles","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","replacer","Animator","_charts","_running","_lastDate","_notify","anims","date","numSteps","initial","currentStep","_refresh","_update","remaining","running","draw","_active","_total","tick","_getAnims","charts","complete","listen","reduce","acc","cur","_duration","stop","animator","interpolators","factor","c0","Animation","cfg","currentValue","_fn","_easing","_start","_loop","_target","_prop","_from","_to","_promises","update","elapsed","wait","rej","resolved","Animations","_properties","configure","animationOptions","animatedProps","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","awaitAll","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","dsIndex","singleMode","otherValue","found","isStacked","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","_cachedMeta","_stacks","iAxis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","_visualValues","getFirstScaleId","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","static","_cachedDataOpts","getMeta","_type","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","datasetElementType","dataElementType","initialize","linkScales","_stacked","addElements","isPluginEnabled","updateIndex","dataset","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","iAxisKey","vAxisKey","adata","convertObjectDataToArray","isExtensible","base","object","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","canStack","otherScale","createStack","hidden","NEGATIVE_INFINITY","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","_clip","disabled","toClip","defaultClip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","computeMinSampleSize","_cache","$bar","visibleMetas","sort","getAllScaleValues","curr","_length","updateMinAndPrev","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","DoughnutController","animateRotate","animateScale","cutout","circumference","spacing","legend","generateLabels","fontColor","getDataVisibility","legendItem","toggleDataVisibility","super","innerRadius","outerRadius","getter","_getRotation","_getCircumference","_getRotationExtents","isDatasetVisible","arcs","getMaxBorderWidth","getMaxOffset","maxSize","toPercentage","chartWeight","_getRingWeight","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","calculateTotal","_getRingWeightOffset","_circumference","calculateCircumference","animationOpts","centerX","centerY","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","PolarAreaController","angleLines","circular","pointLabels","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","categoryPercentage","barPercentage","grouped","_index_","_value_","bars","getBasePixel","isHorizontal","ruler","_getRuler","vpixels","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","currentParsed","iScaleValue","skipNull","find","_getStackCount","_getStackIndex","pixels","barThickness","_startPixel","_endPixel","stackCount","baseValue","minBarLength","actualBase","floating","barSign","startPixel","getPixelForDecimal","endPixel","getValueForPixel","halfGrid","getLineWidthForValue","maxBarThickness","Infinity","percent","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","rects","_dataset","_decimated","animated","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","lastPoint","updateControlPoints","_fullLoop","pointPosition","getPointPositionForValue","registry","getElement","abstract","DateAdapterBase","members","init","formats","diff","startOf","endOf","binarySearch","metaset","lookupMethod","_reversePixels","getRange","evaluateInteractionItems","handler","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","isPointInArea","inRange","getNearestCartesianItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","minDistance","getCenterPoint","getNearestItems","getProps","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","setLayoutDims","layouts","wrap","stackWeight","placed","buildStacks","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","availableWidth","availableHeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","addBox","_layers","z","removeBox","layoutItem","minPadding","layoutBoxes","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","updatePos","change","handleMaxPadding","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","native","fromNativeEvent","addListener","DomPlatform","renderHeight","getAttribute","renderWidth","displayWidth","displayHeight","initCanvas","removeAttribute","setAttribute","proxies","$proxies","attach","detach","isConnected","Element","tooltipPosition","hasValue","final","tickOpts","determinedMaxTicks","_tickSize","maxScale","maxChart","_maxLength","determineMaxTicks","ticksLimit","maxTicksLimit","majorIndices","enabled","getMajorIndices","numMajorIndices","newTicks","ceil","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","majorStart","majorEnd","offsetFromEdge","getTicksLimit","ticksLength","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","getLabelItems","_computeLabelItems","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","caches","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","idx","decimal","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","limit","step","optsAtIndex","optsAtIndexBorder","lineColor","tickBorderDash","tickBorderDashOffset","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","drawBorder","lastLineWidth","drawLabels","renderTextOptions","drawTitle","titleX","titleY","titleArgs","tz","gz","bz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","itemDefaults","defaultRoutes","routes","propertyParts","sourceName","sourceScope","routeDefaults","registerDefaults","unregister","Registry","controllers","_typedRegistries","_each","addControllers","_len3","_key3","_len4","_key4","addPlugins","_len5","_key5","addScales","_len6","_key6","getController","_get","getPlugin","getScale","removeControllers","_len7","_key7","removeElements","_len8","_key8","removePlugins","_len9","_key9","removeScales","_len10","_key10","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","component","camelMethod","PluginService","_init","notify","hook","_createDescriptors","plugin","cancelable","invalidate","_oldCache","_notifyStateChanges","localIds","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","_ref3","pluginScopeKeys","getIndexAxis","datasetDefaults","idMatchesAxis","determineAxis","_len11","scaleOptions","_key11","getAxisFromDataset","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","boundDs","retrieveAxisFromDatasets","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","initOptions","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","initConfig","_scopeCache","_resolverCache","clearCache","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","intKey","getSizeForArea","field","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","OffscreenCanvas","_detectPlatform","_options","_aspectRatio","_metasets","_lastEvent","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","debounce","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getDatasetArea","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","destroy","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","_ref4","pluginId","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","parseBorderRadius$1","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","pixelMargin","innerR","spacingOffset","avNogSpacingRadius","angleOffset","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","outerMidAdjustedAngle","pCenter","p4","innerMidAdjustedAngle","p8","outerStartX","outerStartY","outerEndX","outerEndY","fullCircles","inner","lineJoin","angleMargin","clipArc","setStyle","lineCap","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","_path","strokePathWithCache","segmentMethod","strokePathDirect","LineElement","_points","_segments","_pointsUpdated","findStartAndEnd","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","inRange$1","hitRadius","getBarBounds","bar","half","skipOrLimit","boundingRects","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","outer","skipX","skipY","addNormalRectPath","inflateRect","amount","refRect","chartX","chartY","rAdjust","nonZeroBetween","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","drawArc","addRectPath","mouseX","mouseY","inXRange","inYRange","hoverRadius","BORDER_COLORS","BACKGROUND_COLORS","getBorderColor","getBackgroundColor","getColorizer","colorizeDoughnutDataset","colorizePolarAreaDataset","colorizeDefaultDataset","containsColorsDefinitions","plugin_colors","forceOverride","_args","chartOptions","containsColorDefenition","colorizer","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","getStartAndCountOfVisiblePointsSimplified","decimated","samples","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","startIndex","xMin","dx","intermediateIndex1","intermediateIndex2","minMaxDecimation","_getBounds","_findSegmentEnd","_getEdge","_createBoundaryLine","boundary","linePoints","_ref5","_pointsFromSegments","_shouldApplyFill","_resolveTarget","propagate","visited","_decodeFill","fillOption","parseFillOption","firstCh","decodeTargetIndex","addPointsBelow","sourcePoint","linesBelow","postponed","findPoint","pointValue","firstValue","lastValue","simpleArc","getLineByIndex","sourcePoints","below","getLinesBelow","_buildStackLine","_getTargetValue","computeCircularBoundary","_getTargetPixel","computeLinearBoundary","computeBoundary","_drawfill","lineOpts","above","clipVertical","doFill","clipY","lineLoop","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","src","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","afterDatasetsUpdate","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","_itemHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","legendItemText","calculateItemWidth","fontLineHeight","calculateLegendItemHeight","calculateItemHeight","calculateItemSize","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","halfFontSize","cursor","textDirection","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","onLeave","isListened","hoveredItem","sameItem","itemsEqual","plugin_legend","_element","afterEvent","ci","useBorderRadius","Title","_padding","textSize","_drawArgs","fontOpts","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","xSet","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","formattedValue","getTooltipSize","tooltip","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","defaultCallbacks","beforeTitle","tooltipItems","labelCount","afterTitle","beforeLabel","tooltipItem","labelColor","labelTextColor","bodyColor","labelPointStyle","afterLabel","beforeFooter","afterFooter","invokeCallbackWithFallback","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","getBeforeBody","getBody","bodyItems","scoped","getAfterBody","getFooter","_createItems","itemSort","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","_ref6","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","findOrAddLabel","addedLabels","addIfString","lastIndexOf","_getLabelForValue","CategoryScale","_startValue","_valueRange","_addedLabels","added","generateTicks$1","generationOptions","dataRange","precision","maxTicks","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","relativeLabelSize","_ref7","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","getTickLimit","stepSize","computeTickLimit","LinearScale","log10Floor","changeExponent","isMajor","tickVal","steps","rangeExp","rangeStep","generateTicks","_ref8","minExp","exp","startExp","lastTick","LogarithmicScale","_zero","getTickBackdropHeight","determineLimits","fitWithPointLabels","limits","valueCount","_pointLabels","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","getPointPosition","drawingArea","plFont","updateLimits","setCenterPoint","_pointLabelItems","itemOpts","extra","createPointLabelItem","isNotOverlapped","buildPointLabelItems","hLimits","vLimits","outerDistance","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","drawPointLabelBox","backdropLeft","backdropTop","backdropWidth","backdropHeight","pathRadiusLine","RadialLinearScale","animate","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","getBasePosition","getPointLabelPosition","drawPointLabels","gridLineOpts","drawRadiusLine","INTERVALS","millisecond","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","_adapter","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","MAX_SAFE_INTEGER","addTick","time","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","displayFormats","_unit","_majorUnit","_offsets","_normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","offsetAfterAutoskip","getDecimalForValue","weekday","hasWeekday","getDataTimestamps","tooltipFormat","datetime","fmt","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","registerables"],"sourceRoot":""}