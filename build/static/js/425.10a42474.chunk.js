"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[425],{498:(e,s,t)=>{t.d(s,{A:()=>c});t(43);var r=t(204),a=t(579);function c(){return(0,a.jsxs)("footer",{children:[(0,a.jsx)("div",{className:"footer-wrapper",children:(0,a.jsxs)("div",{className:"row p-3",children:[(0,a.jsxs)("div",{className:"col-12 col-md-6",children:[(0,a.jsx)("h1",{children:"CONTACT US"}),(0,a.jsxs)("div",{className:"d-flex flex-row row-1 mt-4",children:[(0,a.jsx)(r.dRU,{size:20,color:"green"}),(0,a.jsx)("p",{children:"07398653511"})]}),(0,a.jsxs)("div",{className:"d-flex flex-row row-1",children:[(0,a.jsx)(r.vq8,{size:20,color:"red"}),(0,a.jsx)("p",{children:"35 Golders Green Liverpool L7 6HG"})]}),(0,a.jsxs)("div",{className:"d-flex icon-wrapper mt-2",children:[(0,a.jsx)(r.XOS,{size:50,color:"#1a1f71",title:"Visa"}),(0,a.jsx)(r.OTR,{size:50,color:"#ff5f00",title:"MasterCard"}),(0,a.jsx)(r.LBI,{size:50,color:"#2e77bc",title:"American Express"}),(0,a.jsx)(r.XFH,{size:50,color:"#ff6000",title:"Discover"})]})]}),(0,a.jsxs)("div",{className:"col-12 col-md-6 mt-5 mt-md-0 footer-2",children:[(0,a.jsx)("h3",{children:"SIGNUP FOR DISCOUNT AND UPDATE"}),(0,a.jsx)("textarea",{placeholder:"Enter your email"}),(0,a.jsx)("button",{children:"Submit"})]})]})}),(0,a.jsx)("div",{className:"footer-bottom",children:(0,a.jsx)("p",{children:"\xa9 2021 FoodStuff. All Rights Reserved"})})]})}},786:(e,s,t)=>{t.d(s,{A:()=>d});var r=t(43),a=t(204),c=t(906),o=t(579);function n(e){let{product:s,index:t,onIncrease:r,onDecrease:a,onRemove:c}=e;return console.log("CartItem.js: product:",s.name),(0,o.jsxs)("div",{className:"cart-item",children:[(0,o.jsxs)("div",{className:"cart-item-details",children:[(0,o.jsx)("p",{children:s.productName}),(0,o.jsxs)("p",{children:["\xa3",(s.price*s.quantity).toFixed(2)]})]}),(0,o.jsxs)("div",{className:"cart-item-controls",children:[(0,o.jsxs)("div",{className:"quantity-controls",children:[(0,o.jsx)("button",{className:"btn-1",onClick:()=>a(t),children:"-"}),(0,o.jsx)("span",{children:s.quantity}),(0,o.jsx)("button",{className:"btn-1",onClick:()=>r(t),children:"+"})]}),(0,o.jsx)("button",{className:"btn-2",onClick:()=>c(s),children:"Remove"})]})]},t)}function i(e){let{removeFromCart:s,cartRef:t}=e;const[i,l]=(0,r.useState)(JSON.parse(sessionStorage.getItem("cart"))||[]),[d,m]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),x=(0,c.Zp)(),j=e=>{l(e),sessionStorage.setItem("cart",JSON.stringify(e))},p=e=>{s(e),j(i.filter((s=>s.productId!==e.productId))),m(`${e.productName} has been removed from your cart.`)};return(0,r.useEffect)((()=>{if(d){const e=setTimeout((()=>h(!0)),5e3);return()=>clearTimeout(e)}}),[d]),(0,o.jsx)("main",{className:"cart-main",children:(0,o.jsxs)("div",{className:"cart-section",children:[(0,o.jsxs)("div",{className:"cart-section-text",children:[(0,o.jsx)(a.QCr,{className:"times",onClick:()=>{null!==t&&void 0!==t&&t.current&&t.current.classList.remove("active")}}),(0,o.jsx)("h2",{children:"Shopping Cart"})]}),(0,o.jsx)("div",{className:"cart-list",children:0===i.length?(0,o.jsx)("p",{children:"Your cart is empty"}):i.map(((e,s)=>(0,o.jsx)(n,{product:e,index:s,onIncrease:()=>j(i.map(((e,t)=>t===s?{...e,quantity:e.quantity+1}:e))),onDecrease:()=>j(i.map(((e,t)=>t===s&&e.quantity>1?{...e,quantity:e.quantity-1}:e))),onRemove:p},s)))}),(0,o.jsxs)("div",{className:"cart-total",children:[(0,o.jsxs)("h4",{children:["Total: \xa3",i.reduce(((e,s)=>e+s.price*s.quantity),0).toFixed(2)]}),(0,o.jsx)("button",{onClick:()=>{x("/checkout",{state:{cart:i}})},children:"Proceed to Checkout"})]}),d&&(0,o.jsx)("div",{className:"alert-popup "+(u?"alert-popup-exit":""),children:d})]})})}var l=t(453);function d(e){let{cart:s,setCart:t,removeFromCart:n,setSearchQuery:d}=e;const m=(0,r.useRef)(null),u=(0,r.useRef)(null),h=(0,r.useRef)(null),x=(0,r.useRef)(null),[j,p]=(0,r.useState)(""),[f,N]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),g=(0,c.Zp)(),b=e=>{var s;return null===(s=e.current)||void 0===s?void 0:s.classList.toggle("active")},C=e=>{var s;return null===(s=e.current)||void 0===s?void 0:s.classList.remove("active")};return(0,o.jsxs)("main",{className:"main",children:[(0,o.jsx)("div",{className:"container-fluid",children:(0,o.jsxs)("div",{className:"row h-100",children:[(0,o.jsx)("div",{className:"logo-wrapper col-6",children:(0,o.jsx)(c.N_,{to:"/",children:(0,o.jsx)("div",{className:"logo",children:"MEDMORE"})})}),(0,o.jsxs)("nav",{className:"col-6 d-flex justify-content-end",children:[(0,o.jsx)("button",{onClick:()=>b(u),className:"rounded-pill",children:(0,o.jsx)(a.KSO,{className:"icon"})}),(0,o.jsx)("button",{onClick:()=>b(h),className:"rounded-pill",children:(0,o.jsx)(a.x$1,{className:"icon"})}),(0,o.jsx)("button",{onClick:()=>b(m),className:"rounded-pill",children:(0,o.jsx)(a.OXb,{className:"icon"})}),(0,o.jsx)("button",{onClick:()=>b(x),className:"rounded-pill",children:(0,o.jsx)(a.AsH,{className:"icon"})})]})]})}),(0,o.jsxs)("aside",{className:"side-menu",ref:m,children:[(0,o.jsx)("div",{onClick:()=>C(m),className:"close-div",children:(0,o.jsx)(a.QCr,{className:"times"})}),(0,o.jsx)("nav",{children:(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(c.N_,{to:"/",children:"Home"})}),(0,o.jsx)("p",{}),(0,o.jsx)("li",{children:(0,o.jsx)(c.N_,{to:"/about",children:"About"})}),(0,o.jsx)("p",{}),(0,o.jsx)("li",{children:(0,o.jsx)(c.N_,{to:"/services",children:"Services"})}),(0,o.jsx)("p",{}),(0,o.jsx)("li",{children:(0,o.jsx)(c.N_,{to:"/contact",children:"Contact"})}),(0,o.jsx)("p",{})]})})]}),(0,o.jsxs)("form",{className:"form",ref:u,onSubmit:e=>e.preventDefault(),children:[(0,o.jsx)("input",{type:"search",placeholder:"Search",onChange:e=>d(e.target.value)}),(0,o.jsx)(a.QCr,{onClick:()=>C(u),className:"times"})]}),(0,o.jsx)("div",{className:"login",ref:h,children:(0,o.jsxs)("div",{className:"login-wrapper",children:[(0,o.jsx)(a.QCr,{onClick:()=>C(h),className:"times"}),(0,o.jsx)("h3",{children:"LOGIN"}),(0,o.jsx)("p",{className:"border"}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j&&f){y(!0);try{var s;const e=await fetch("https://medmorestore.onrender.com/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j,password:f})});if(!e.ok){const s=await e.json();return void alert(s.error||"Login failed")}const t=await e.json();console.log("Login successful:",t),null!==(s=t.user)&&void 0!==s&&s.isadmin?g("/admin"):alert("You do not have permission to access the admin page.")}catch(t){console.error("Network error:",t),alert("An error occurred. Please try again later.")}finally{y(!1)}}else alert("Please enter both email and password.")},children:[(0,o.jsx)("input",{placeholder:"Email Address",value:j,onChange:e=>p(e.target.value),type:"email",required:!0}),(0,o.jsx)("input",{placeholder:"Password",value:f,onChange:e=>N(e.target.value),type:"password",required:!0}),(0,o.jsxs)("div",{className:"remember-wrapper",children:[(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)("input",{type:"checkbox"}),(0,o.jsx)("span",{children:"Remember me"})]}),(0,o.jsx)(c.N_,{to:"/forgot-password",children:"Forgot Password?"})]}),(0,o.jsx)("button",{type:"submit",children:v?(0,o.jsx)(l.A,{}):"Submit"})]})]})}),(0,o.jsx)("div",{ref:x,className:"cart",children:(0,o.jsx)(i,{cartRef:x,cart:s,removeFromCart:n,setCart:t})})]})}},453:(e,s,t)=>{t.d(s,{A:()=>a});t(43);var r=t(579);const a=()=>(0,r.jsx)("aside",{className:"spinner-container",children:(0,r.jsx)("div",{className:"spinner"})})},425:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var r=t(43),a=t(786),c=t(498),o=t(906),n=t(453),i=t(579);const l=e=>{let{product:s,addToCart:t}=e;const[a,c]=(0,r.useState)(1),[l,d]=(0,r.useState)(""),[m,u]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),j=(0,o.Zp)(),p=e=>c((s=>Math.max(1,s+e)));return(0,r.useEffect)((()=>{if(l){const e=setTimeout((()=>u(!0)),5e3);return()=>clearTimeout(e)}}),[l]),(0,i.jsxs)("div",{className:" card",children:[h&&(0,i.jsx)(n.A,{}),(0,i.jsx)("img",{onClick:e=>{e.preventDefault(),j("/display",{state:{product:s}})},src:s.img,className:"card-img rounded-0",alt:s.name,role:"button","aria-label":`View details of ${s.name}`}),(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsx)("p",{className:"card-title",children:s.name}),(0,i.jsxs)("p",{children:["\xa3",s.price]}),(0,i.jsxs)("form",{className:"product-form",onSubmit:async e=>{e.preventDefault(),x(!0);try{t(s,a),d(`${a} ${s.name} added to cart.`)}catch(r){console.error("Failed to add to cart:",r),d("Failed to add product to cart.")}finally{x(!1)}},children:[(0,i.jsxs)("div",{className:"quantity-controls",children:[(0,i.jsx)("button",{type:"button",onClick:()=>p(-1),children:"-"}),(0,i.jsx)("span",{children:a}),(0,i.jsx)("button",{type:"button",onClick:()=>p(1),children:"+"})]}),(0,i.jsx)("button",{type:"submit",disabled:h,children:h?"Adding...":"Add to Cart"})]}),l&&(0,i.jsx)("div",{className:"alert-popup "+(m?"alert-popup-exit":""),children:l})]})]})},d=e=>{let{addToCart:s,searchQuery:t}=e;const[a,c]=(0,r.useState)([]),[o,d]=(0,r.useState)(!0),[m,u]=(0,r.useState)(0),h=10;(0,r.useEffect)((()=>{(async()=>{d(!0);try{const e=await fetch("https://medmorestore.onrender.com/products");if(!e.ok)throw new Error("Failed to fetch products");const s=await e.json();c(s)}catch(e){console.error("Error fetching products:",e),alert("Could not fetch products. Please try again later.")}finally{d(!1)}})()}),[]);const x=a.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))),j=x.slice(m,m+h);return(0,i.jsx)("div",{children:o?(0,i.jsx)(n.A,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"product-container",children:j.length>0?j.map((e=>(0,i.jsx)(l,{product:e,addToCart:s},e.id))):(0,i.jsx)("p",{children:"No products found"})}),x.length>h&&(0,i.jsxs)("div",{className:"navigation-buttons",children:[(0,i.jsx)("button",{onClick:()=>u((e=>Math.max(0,e-h))),disabled:0===m,children:"Previous"}),(0,i.jsx)("button",{onClick:()=>u((e=>Math.min(x.length-h,e+h))),disabled:m+h>=x.length,children:"Next"})]})]})})};var m=t(204);function u(e){let{removeFromCart:s}=e;const[t,o]=(0,r.useState)((()=>{const e=sessionStorage.getItem("cart");return e?JSON.parse(e):[]})),[l,u]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),[j,p]=(0,r.useState)([]),[f,N]=(0,r.useState)([]),[v,y]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!0),[C,S]=(0,r.useState)(!0),w=()=>{let e=sessionStorage.getItem("user_id");return e||(e="user_"+Math.random().toString(36).substring(2,15),sessionStorage.setItem("user_id",e)),e},k=e=>{sessionStorage.setItem("cart",JSON.stringify(e))},A=(0,r.useCallback)((async()=>{const e=w();S(!0);try{const s=await fetch(`https://medmorestore.onrender.com/cart/${e}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const t=await s.json();o(t),k(t)}catch(s){console.error("Error fetching cart:",s),o([])}finally{S(!1)}}),[]);return(0,r.useEffect)((()=>{(async()=>{b(!1);try{const e=await fetch("https://medmorestore.onrender.com/products");if(!e.ok)throw new Error("Failed to fetch products");const s=await e.json();N(s)}catch(e){console.error("Error fetching products:",e),alert("Could not fetch products. Please try again later.")}finally{b(!1)}})()}),[]),(0,r.useEffect)((()=>{A()}),[A]),(0,r.useEffect)((()=>{if(h){const e=setTimeout((()=>{y(!0)}),5e3);return()=>clearTimeout(e)}y(!1)}),[h]),(0,r.useEffect)((()=>{if(l){const e=f.filter((e=>e.name.toLowerCase().includes(l.toLowerCase())));p(e)}else p(f)}),[l,f]),C?(0,i.jsx)(n.A,{}):(0,i.jsxs)("main",{className:"Home",children:[(0,i.jsx)(a.A,{removeFromCart:s,cart:t,setCart:o,setSearchQuery:u}),(0,i.jsx)("section",{className:"home-text-wrapper",children:(0,i.jsxs)("div",{className:"row p-5 text-center",children:[(0,i.jsxs)("div",{className:"home-text",children:[(0,i.jsx)("h1",{children:"Welcome to MedMore Store"}),(0,i.jsx)("span",{children:"Where you can find the best food products"})]}),(0,i.jsxs)("div",{className:"home-btn d-flex flex-column flex-md-row justify-content-center mt-4",children:[(0,i.jsx)("button",{className:"col-12 col-md-4 my-1 mx-1",children:"New Product"}),(0,i.jsx)("button",{className:"col-12 col-md-4 my-1 mx-1",children:"All Products"}),(0,i.jsx)("button",{className:"col-12 col-md-4 my-1 mx-1",children:"Our Favorites"})]})]})}),(0,i.jsx)("section",{children:g?(0,i.jsx)(n.A,{}):(0,i.jsx)(d,{products:j,addToCart:async(e,s)=>{const r=w(),a=parseInt(s);o((s=>{const t=s.findIndex((s=>s.id===e.id));let r;return r=t>-1?s.map(((e,s)=>s===t?{...e,quantity:e.quantity+a}:e)):[...s,{...e,quantity:a}],r})),k(t);try{const s=await fetch("https://medmorestore.onrender.com/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,product:{id:e.id,name:e.name,price:e.price,img:e.img},quantity:a})});if(!s.ok)throw new Error("Failed to add item to cart");const c=await s.json();JSON.stringify(t)!==JSON.stringify(c)&&(o(c),k(c)),await A(),x(`${e.name} has been added to the cart.`)}catch(c){console.error("Error updating cart on server:",c)}},searchQuery:l})}),h&&(0,i.jsx)("div",{className:"alert-popup "+(v?"alert-popup-exit":""),children:h}),(0,i.jsx)("section",{className:"footer mt-5",children:(0,i.jsx)(c.A,{})}),(0,i.jsx)("div",{className:"whatsapp-logo",children:(0,i.jsx)("a",{alt:"whatsapp",href:"https://wa.me/4407398653511",target:"_blank",rel:"noopener noreferrer",className:"whatsapp-button",children:(0,i.jsx)(m.EcP,{size:40,color:"#25D366"})})})]})}}}]);
//# sourceMappingURL=425.10a42474.chunk.js.map