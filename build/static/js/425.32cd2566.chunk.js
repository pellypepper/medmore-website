"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[425],{498:(e,s,t)=>{t.d(s,{A:()=>c});t(43);var r=t(204),a=t(579);function c(){return(0,a.jsxs)("footer",{children:[(0,a.jsx)("div",{className:"footer-wrapper",children:(0,a.jsxs)("div",{className:"row p-3",children:[(0,a.jsxs)("div",{className:"col-12 col-md-6",children:[(0,a.jsx)("p",{children:"CONTACT US"}),(0,a.jsxs)("div",{className:"d-flex flex-row row-1 mt-4",children:[(0,a.jsx)("span",{children:(0,a.jsx)(r.dRU,{size:20,color:"green"})}),(0,a.jsx)("span",{children:"07398653511"})]}),(0,a.jsxs)("div",{className:"d-flex flex-row row-1",children:[(0,a.jsx)("span",{children:(0,a.jsx)(r.vq8,{size:20,color:"red"})}),(0,a.jsx)("p",{children:"35 Golders Green Liverpool L7 6HG"})]}),(0,a.jsxs)("div",{className:"d-flex icon-wrapper mt-2",children:[(0,a.jsx)("span",{children:(0,a.jsx)(r.XOS,{color:"#1a1f71"})}),(0,a.jsx)("span",{children:(0,a.jsx)(r.OTR,{color:"#ff5f00"})}),(0,a.jsx)("span",{children:(0,a.jsx)(r.LBI,{color:"#2e77bc"})}),(0,a.jsx)("span",{children:(0,a.jsx)(r.XFH,{color:"#ff6000"})})]})]}),(0,a.jsxs)("div",{className:"col-12 col-md-6 footer-2",children:[(0,a.jsx)("p",{children:"SIGN UP FOR DISCOUNT AND UPDATES"}),(0,a.jsx)("textarea",{placeholder:"Enter your email"}),(0,a.jsx)("button",{children:"Submit"})]})]})}),(0,a.jsx)("div",{className:"footer-bottom",children:(0,a.jsx)("p",{children:"\xa9 2024 MedMore Foods. All Rights Reserved"})})]})}},786:(e,s,t)=>{t.d(s,{A:()=>d});var r=t(43),a=t(204),c=t(906),n=t(579);function o(e){let{product:s,index:t,onIncrease:r,onDecrease:a,onRemove:c}=e;return(0,n.jsxs)("div",{className:"cart-item",children:[(0,n.jsxs)("div",{className:"cart-item-details",children:[(0,n.jsx)("p",{children:s.productName}),(0,n.jsxs)("p",{children:["\xa3",(s.price*s.quantity).toFixed(2)]})]}),(0,n.jsxs)("div",{className:"cart-item-controls",children:[(0,n.jsxs)("div",{className:"quantity-controls",children:[(0,n.jsx)("button",{className:"btn-1",onClick:()=>a(t),children:"-"}),(0,n.jsx)("span",{children:s.quantity}),(0,n.jsx)("button",{className:"btn-1",onClick:()=>r(t),children:"+"})]}),(0,n.jsx)("button",{className:"btn-2",onClick:()=>c(s),children:"Remove"})]})]},t)}function i(e){let{removeFromCart:s,cartRef:t}=e;const[i,l]=(0,r.useState)(JSON.parse(sessionStorage.getItem("cart"))||[]),[d,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),x=(0,c.Zp)(),p=e=>{l(e),sessionStorage.setItem("cart",JSON.stringify(e))},j=e=>{s(e),p(i.filter((s=>s.productId!==e.productId))),u(`${e.productName} has been removed from your cart.`)};return(0,r.useEffect)((()=>{if(d){const e=setTimeout((()=>h(!0)),5e3);return()=>clearTimeout(e)}}),[d]),(0,n.jsx)("main",{className:"cart-main",children:(0,n.jsxs)("div",{className:"cart-section",children:[(0,n.jsxs)("div",{className:"cart-section-text",children:[(0,n.jsx)(a.QCr,{className:"times",onClick:()=>{null!==t&&void 0!==t&&t.current&&t.current.classList.remove("active")}}),(0,n.jsx)("h2",{children:"Shopping Cart"})]}),(0,n.jsx)("div",{className:"cart-list",children:0===i.length?(0,n.jsx)("p",{children:"Your cart is empty"}):i.map(((e,s)=>(0,n.jsx)(o,{product:e,index:s,onIncrease:()=>p(i.map(((e,t)=>t===s?{...e,quantity:e.quantity+1}:e))),onDecrease:()=>p(i.map(((e,t)=>t===s&&e.quantity>1?{...e,quantity:e.quantity-1}:e))),onRemove:j},s)))}),(0,n.jsxs)("div",{className:"cart-total",children:[(0,n.jsxs)("h4",{children:["Total: \xa3",i.reduce(((e,s)=>e+s.price*s.quantity),0).toFixed(2)]}),(0,n.jsx)("button",{onClick:()=>{x("/checkout",{state:{cart:i}})},children:"Proceed to Checkout"})]}),d&&(0,n.jsx)("div",{className:"alert-popup "+(m?"alert-popup-exit":""),children:d})]})})}var l=t(453);function d(e){let{cart:s,setCart:t,removeFromCart:o,setSearchQuery:d}=e;const u=(0,r.useRef)(null),m=(0,r.useRef)(null),h=(0,r.useRef)(null),x=(0,r.useRef)(null),[p,j]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),[N,S]=(0,r.useState)(!1),C=(0,c.Zp)(),_=e=>{var s;return null===(s=e.current)||void 0===s?void 0:s.classList.toggle("active")},y=e=>{var s;return null===(s=e.current)||void 0===s?void 0:s.classList.remove("active")};return(0,n.jsxs)("main",{className:"main",children:[(0,n.jsx)("div",{className:"container-fluid",children:(0,n.jsxs)("div",{className:"row h-100",children:[(0,n.jsx)("div",{className:"logo-wrapper col-6",children:(0,n.jsx)(c.N_,{to:"/",children:(0,n.jsx)("div",{className:"logo",children:"MEDMORE"})})}),(0,n.jsxs)("nav",{className:"col-6 d-flex justify-content-end",children:[(0,n.jsx)("button",{onClick:()=>_(m),"aria-label":"Search Button",className:"rounded-pill",children:(0,n.jsx)(a.KSO,{className:"icon"})}),(0,n.jsx)("button",{onClick:()=>_(h),"aria-label":"Profile-icon",className:"rounded-pill",children:(0,n.jsx)(a.x$1,{className:"icon"})}),(0,n.jsx)("button",{onClick:()=>_(u),"aria-label":"Menu-icon",className:"rounded-pill",children:(0,n.jsx)(a.OXb,{className:"icon"})}),(0,n.jsx)("button",{onClick:()=>_(x),"aria-label":"Shopping-cart",className:"rounded-pill",children:(0,n.jsx)(a.AsH,{className:"icon"})})]})]})}),(0,n.jsxs)("aside",{className:"side-menu",ref:u,children:[(0,n.jsx)("div",{onClick:()=>y(u),className:"close-div",children:(0,n.jsx)(a.QCr,{className:"times"})}),(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(c.N_,{to:"/",children:"Home"})}),(0,n.jsx)("p",{}),(0,n.jsx)("li",{children:(0,n.jsx)(c.N_,{to:"/about",children:"About"})}),(0,n.jsx)("p",{}),(0,n.jsx)("li",{children:(0,n.jsx)(c.N_,{to:"/services",children:"Services"})}),(0,n.jsx)("p",{}),(0,n.jsx)("li",{children:(0,n.jsx)(c.N_,{to:"/contact",children:"Contact"})}),(0,n.jsx)("p",{})]})})]}),(0,n.jsxs)("form",{className:"form",ref:m,onSubmit:e=>e.preventDefault(),children:[(0,n.jsx)("input",{type:"search",placeholder:"Search",onChange:e=>d(e.target.value)}),(0,n.jsx)(a.QCr,{onClick:()=>y(m),className:"times"})]}),(0,n.jsx)("div",{className:"login",ref:h,children:(0,n.jsxs)("div",{className:"login-wrapper",children:[(0,n.jsx)(a.QCr,{onClick:()=>y(h),className:"times"}),(0,n.jsx)("h3",{children:"LOGIN"}),(0,n.jsx)("p",{className:"border"}),(0,n.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p&&f){S(!0);try{var s;const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/auth/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p,password:f})});if(!e.ok){const s=await e.json();return void alert(s.error||"Login failed")}const t=await e.json();console.log("Login successful:",t),null!==(s=t.user)&&void 0!==s&&s.isadmin?C("/admin"):alert("You do not have permission to access the admin page.")}catch(t){console.error("Network error:",t),alert("An error occurred. Please try again later.")}finally{S(!1)}}else alert("Please enter both email and password.")},children:[(0,n.jsx)("input",{placeholder:"Email Address",value:p,onChange:e=>j(e.target.value),type:"email",required:!0}),(0,n.jsx)("input",{placeholder:"Password",value:f,onChange:e=>v(e.target.value),type:"password",required:!0}),(0,n.jsxs)("div",{className:"remember-wrapper",children:[(0,n.jsxs)("div",{className:"d-flex",children:[(0,n.jsx)("input",{type:"checkbox"}),(0,n.jsx)("span",{children:"Remember me"})]}),(0,n.jsx)(c.N_,{to:"/forgot-password",children:"Forgot Password?"})]}),(0,n.jsx)("button",{type:"submit",children:N?(0,n.jsx)(l.A,{}):"Submit"})]})]})}),(0,n.jsx)("div",{ref:x,className:"cart",children:(0,n.jsx)(i,{cartRef:x,cart:s,removeFromCart:o,setCart:t})})]})}},453:(e,s,t)=>{t.d(s,{A:()=>a});t(43);var r=t(579);const a=()=>(0,r.jsx)("aside",{className:"spinner-container",children:(0,r.jsx)("div",{className:"spinner"})})},425:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var r=t(43),a=t(786),c=t(498),n=t(906),o=t(453),i=t(579);const l=e=>{let{product:s,addToCart:t}=e;const[a,c]=(0,r.useState)(1),[l,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),p=(0,n.Zp)(),j=e=>c((s=>Math.max(1,s+e)));return(0,r.useEffect)((()=>{if(l){const e=setTimeout((()=>m(!0)),5e3);return()=>clearTimeout(e)}}),[l]),(0,i.jsxs)("div",{className:" card",children:[h&&(0,i.jsx)(o.A,{}),(0,i.jsx)("img",{loading:"lazy",onClick:e=>{e.preventDefault(),p("/display",{state:{product:s}})},src:s.img,className:"card-img rounded-0",alt:s.name,role:"button","aria-label":`View details of ${s.name}`}),(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsx)("p",{className:"card-title",children:s.name}),(0,i.jsxs)("p",{children:["\xa3",s.price]}),(0,i.jsxs)("form",{className:"product-form",onSubmit:async e=>{e.preventDefault(),x(!0);try{t(s,a),d(`${a} ${s.name} added to cart.`)}catch(r){console.error("Failed to add to cart:",r),d("Failed to add product to cart.")}finally{x(!1)}},children:[(0,i.jsxs)("div",{className:"quantity-controls",children:[(0,i.jsx)("button",{type:"button",onClick:()=>j(-1),children:"-"}),(0,i.jsx)("span",{children:a}),(0,i.jsx)("button",{type:"button",onClick:()=>j(1),children:"+"})]}),(0,i.jsx)("button",{type:"submit",disabled:h,children:h?"Adding...":"Add to Cart"})]}),l&&(0,i.jsx)("div",{className:"alert-popup "+(u?"alert-popup-exit":""),children:l})]})]})},d=e=>{let{addToCart:s,searchQuery:t}=e;const[a,c]=(0,r.useState)([]),[n,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(0),h=10;(0,r.useEffect)((()=>{(async()=>{d(!0);try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/products`);if(!e.ok)throw new Error("Failed to fetch products");const s=await e.json();c(s)}catch(e){console.error("Error fetching products:",e),alert("Could not fetch products. Please try again later.")}finally{d(!1)}})()}),[]);const x=a.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))),p=x.slice(u,u+h);return(0,i.jsx)("div",{children:n?(0,i.jsx)(o.A,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"product-container",children:p.length>0?p.map((e=>(0,i.jsx)(l,{product:e,addToCart:s},e.id))):(0,i.jsx)("p",{children:"No products found"})}),x.length>h&&(0,i.jsxs)("div",{className:"navigation-buttons",children:[(0,i.jsx)("button",{onClick:()=>m((e=>Math.max(0,e-h))),disabled:0===u,children:"Previous"}),(0,i.jsx)("button",{onClick:()=>m((e=>Math.min(x.length-h,e+h))),disabled:u+h>=x.length,children:"Next"})]})]})})};var u=t(204);function m(e){let{removeFromCart:s}=e;const[t,n]=(0,r.useState)((()=>{const e=sessionStorage.getItem("cart");return e?JSON.parse(e):[]})),[l,m]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),[p,j]=(0,r.useState)([]),[f,v]=(0,r.useState)([]),[N,S]=(0,r.useState)(!1),[C,_]=(0,r.useState)(!0),[y,b]=(0,r.useState)(!0),g=()=>{let e=sessionStorage.getItem("user_id");return e||(e="user_"+Math.random().toString(36).substring(2,15),sessionStorage.setItem("user_id",e)),e},T=e=>{sessionStorage.setItem("cart",JSON.stringify(e))},E=(0,r.useCallback)((async()=>{const e=g();b(!0);try{const s=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/cart/${e}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const t=await s.json();n(t),T(t)}catch(s){console.error("Error fetching cart:",s),n([])}finally{b(!1)}}),[]);return(0,r.useEffect)((()=>{(async()=>{_(!1);try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/products`);if(!e.ok)throw new Error("Failed to fetch products");const s=await e.json();v(s)}catch(e){console.error("Error fetching products:",e),alert("Could not fetch products. Please try again later.")}finally{_(!1)}})()}),[]),(0,r.useEffect)((()=>{E()}),[E]),(0,r.useEffect)((()=>{if(h){const e=setTimeout((()=>{S(!0)}),5e3);return()=>clearTimeout(e)}S(!1)}),[h]),(0,r.useEffect)((()=>{if(l){const e=f.filter((e=>e.name.toLowerCase().includes(l.toLowerCase())));j(e)}else j(f)}),[l,f]),y?(0,i.jsx)(o.A,{}):(0,i.jsxs)("main",{className:"Home",children:[(0,i.jsx)(a.A,{removeFromCart:s,cart:t,setCart:n,setSearchQuery:m}),(0,i.jsx)("section",{className:"home-text-wrapper",children:(0,i.jsxs)("div",{className:"row p-5 text-center",children:[(0,i.jsxs)("div",{className:"home-text",children:[(0,i.jsx)("img",{alt:"background logo",src:"/web-app-manifest-192x192.webp"}),(0,i.jsx)("h1",{children:"Welcome to MedMore Store"}),(0,i.jsx)("span",{children:"Where you can find the best food products"})]}),(0,i.jsxs)("div",{className:"home-btn d-flex flex-column flex-md-row justify-content-center mt-4",children:[(0,i.jsx)("button",{className:"col-12 col-md-4 my-1 mx-1",children:"New Product"}),(0,i.jsx)("button",{className:"col-12 col-md-4 my-1 mx-1",children:"All Products"}),(0,i.jsx)("button",{className:"col-12 col-md-4 my-1 mx-1",children:"Our Favorites"})]})]})}),(0,i.jsx)("section",{children:C?(0,i.jsx)(o.A,{}):(0,i.jsx)(d,{products:p,addToCart:async(e,s)=>{const r=g(),a=parseInt(s);n((s=>{const t=s.findIndex((s=>s.id===e.id));let r;return r=t>-1?s.map(((e,s)=>s===t?{...e,quantity:e.quantity+a}:e)):[...s,{...e,quantity:a}],r})),T(t);try{const s=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/cart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,product:{id:e.id,name:e.name,price:e.price,img:e.img},quantity:a})});if(!s.ok)throw new Error("Failed to add item to cart");const c=await s.json();JSON.stringify(t)!==JSON.stringify(c)&&(n(c),T(c)),await E(),x(`${e.name} has been added to the cart.`)}catch(c){console.error("Error updating cart on server:",c)}},searchQuery:l})}),h&&(0,i.jsx)("div",{className:"alert-popup "+(N?"alert-popup-exit":""),children:h}),(0,i.jsx)("section",{className:"footer mt-5",children:(0,i.jsx)(c.A,{})}),(0,i.jsx)("div",{className:"whatsapp-logo",children:(0,i.jsx)("a",{href:"https://wa.me/4407398653511",target:"_blank",rel:"noopener noreferrer",class:"whatsapp-button","aria-label":"Chat with us on WhatsApp",children:(0,i.jsx)(u.EcP,{size:40,color:"#25D366"})})})]})}}}]);
//# sourceMappingURL=425.32cd2566.chunk.js.map